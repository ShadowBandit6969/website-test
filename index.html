<!DOCTYPE html>
<html lang="de" data-theme="auto">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fusion³ – UX & Webdesign Studio</title>
  <meta name="description" content="Fusion³ ist dein Partner für UX-Design, Webdesign & Prototyping. Wir gestalten digitale Erlebnisse mit Substanz." />

  <!-- Google Fonts Optimierung -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&display=swap">
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&display=swap" rel="stylesheet" media="all" onload="this.media='all'">
  <noscript>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&display=swap" rel="stylesheet">
  </noscript>

  <!-- Lokale Fonts optimieren -->
  <link rel="preload" as="style" href="./fonts/fonts.css">
  <link rel="stylesheet" href="./fonts/fonts.css" media="print" onload="this.media='all'">
  <noscript><link rel="stylesheet" href="./fonts/fonts.css"></noscript>

  <!-- Optional Scripts (lassen wir drin; keine Abhängigkeit) -->
  <script type="module" src="https://unpkg.com/feather-icons" defer></script>
  <script nomodule src="feather-icons.legacy.js"></script>
  <script src="https://unpkg.com/scrollreveal" defer></script>

  <!-- Analytics Beispiel (unverändert) -->
  <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
      c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
      t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
      y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "t1mbvlhldj");
  </script>

  <!-- ===============================
       GLOBAL CSS
       =============================== -->
  <style>
    :root{
      --accent:#0062ff;
      --text:#111;
      --muted:#555;
      --border:rgba(0,0,0,.08);
      --surface:#ffffff;
  --container-width: min(95vw, 1340px);
      --header-pad-y: .75rem;
      --radius: 12px;

      --primary: #ff4d00;
      --secondary: #ff9900;
    }
    /* Dark Theme Tokens */
    @media (prefers-color-scheme: dark){
      :root{
        --text:#f5f7fa;
        --muted:#b7bec7;
        --border:rgba(255,255,255,.12);
        --surface:#000000;
      }
    }
    :root[data-theme="dark"]{
      --text:#f5f7fa;
      --muted:#b7bec7;
      --border:rgba(255,255,255,.12);
      --surface:#000000;
    }

    *{margin:0;padding:0;box-sizing:border-box}
    html,body{
      font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial,sans-serif;
      background:#fff; /* via data-theme dunkler */
      color:var(--text);
      scroll-behavior:smooth;
    }
    :root[data-theme="dark"] body{ background:#000000; }

    a{color:inherit;text-decoration:none;transition:color .2s ease,opacity .2s ease}
    h1,h2,h3,h4{font-weight:900;letter-spacing:-.02em}
    .container{max-width:var(--container-width);margin:0 auto;padding:5rem 2rem}
    .section-title{font-size:clamp(2rem, 1.2rem + 2.4vw, 2.8rem);text-align:center;margin-bottom:.5rem;color:var(--text);font-weight:700;letter-spacing:-.02em}

    /* Skip-Link */
    .skip-link{
      position:absolute; left:-9999px; top:auto; z-index:1000;
    }
    .skip-link:focus{
      left:auto; top:.5rem; inset-inline-start:.5rem;
      background:#000; color:#fff; padding:.5rem .75rem; border-radius:.5rem;
    }

    /* ===== HERO (Video) ===== */
    main{ display:block; }

    .hero-video-wrapper {
      position: relative;
      /* Reihenfolge = bestes Fallback */
      min-height: 100vh;
      min-height: 100dvh;
      min-height: 100svh;
      width: 100%;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      background-color: #000;
      /* Fallback-Bilder */
      background: #000 url('./IndexM/PC.webp') center center / cover no-repeat;
    }
    /* Tablet Fallback-Bild */
    @media (max-width: 1024px) {
      .hero-video-wrapper { background-image: url('./IndexM/Tablet.webp'); }
    }
    /* Smartphone Fallback-Bild */
    @media (max-width: 480px) {
      .hero-video-wrapper { background-image: url('./IndexM/handy.webp'); }
    }

    .hero-video-content {
      position: relative;
      z-index: 2;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 3rem 2rem;
      max-width: 800px;
      width: 100%;
      color: #ffffff;
      text-align: center;
      border-radius: 12px;
      background-color: #2a2a2a63; /* semitransparent, kein Verlauf */
      margin-top: -5rem;
    }
    .hero-video-content::before { content: none !important; }

    .video-background {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;
      z-index: 0;
      pointer-events: none;
    }

    .hero-video-content h1 {
      font-size: 3.8rem;
      line-height: 1.1;
      margin-bottom: 1.2rem;
      color: #ffffff;
    }
    .hero-video-content p {
      font-size: 1.3rem;
      line-height: 1.6;
      color: rgba(255, 255, 255, 0.85);
    }

    .cta-btn {
      background: linear-gradient(to right, var(--primary), var(--secondary));
      color: #fff;
      font-weight: 700;
      padding: 1rem 2.2rem;
      border-radius: 12px;
      font-size: 1rem;
      text-transform: uppercase;
      margin-top: 2rem;
      border: none;
      box-shadow: 0 0 12px rgba(255, 102, 0, 0.3),
                  0 0 24px rgba(255, 102, 0, 0.25);
      transition: all 0.3s ease;
      display: inline-block;
      text-decoration: none;
    }
    .cta-btn:hover,
    .cta-btn:focus {
      background: var(--secondary);
      color: #000;
      transform: scale(1.03);
      cursor: pointer;
      outline: 2px solid var(--primary);
      outline-offset: 4px;
    }

    .video-fallback-image {
      position: absolute; inset: 0;
      width: 100%; height: 100%;
      object-fit: cover; object-position: center;
      z-index: 0; pointer-events: none;
    }

    /* Typo/Spacing – Responsiv */
    @media (max-width: 1024px) {
      .hero-video-content { padding: 2rem; }
      .hero-video-content h1 { font-size: 3rem; }
      .hero-video-content p  { font-size: 1.1rem; line-height: 1.5; }
    }
    @media (max-width: 768px) {
      .hero-video-content { padding: 1.5rem; margin-top: 0; }
      .hero-video-content h1 { font-size: 2.2rem; line-height: 1.2; }
      .hero-video-content p  { font-size: 1rem; line-height: 1.4; }
      .cta-btn { font-size: 0.95rem; padding: 0.75rem 1.5rem; width: auto; max-width: 90%; margin: 1.5rem auto 0; }
    }
    @media (max-width: 480px) {
      .hero-video-content h1 { font-size: 1.6rem; line-height: 1.3; }
      .hero-video-content p  { font-size: 0.95rem; }
    }
    @media (max-width: 425px) {
      .cta-btn {
        width: 100%; max-width: 180px; font-size: 0.9rem;
        padding: 0.9rem 1.2rem; text-align: center; margin-left: auto; margin-right: auto;
      }
    }

    /* ===== Hero-Video: „immer 100% höhe“ & Beschnitt-Regeln ===== */

    /* Mobile: Hero bleibt 100vh/dvh/svh */
    @media (max-width: 768px) {
      .hero-video-wrapper {
        min-height: 100vh;
        min-height: 100dvh;
        min-height: 100svh;
      }
    }

    /* Desktop ≥ 1025px: Video 10% höher, seitlich beschnitten */
    @media (min-width: 1025px) {
      .video-background {
        top: 50%; left: 50%;
        width: auto;
        height: 110%;
        transform: translate(-50%, -50%);
        object-fit: contain; /* wir steuern Größe selbst */
      }
    }

    /* iPad quer / mittlere Geräte: 832–1024px Breite UND Höhe unter 833px */
    @media (min-width: 832px) and (max-width: 1024px) and (max-height: 832px) {
      .video-background {
        top: 50%; left: 50%;
        width: auto;
        height: 110%;
        transform: translate(-50%, -50%);
        object-fit: contain;
      }
    }
  </style>

<style>/* ===== Section Headings – Root Tokens ===== */
:root{
  /* Title */
  --sec-title-fs: clamp(2rem, 1.5rem + 2vw, 3rem);
  --sec-title-fw: 900;
  --sec-title-ls: -0.02em;
  --sec-title-mb: 0rem;
  --sec-title-color: var(--text-main, #1c1c1e);

  /* Subtitle */
  --sec-sub-fs: 1.1rem;
  --sec-sub-color: #666;
  --sec-sub-mb: 2rem;
  --sec-sub-lh: 1.5;
  --sec-sub-max: 65ch;
}

/* ===== Utilities (kannst du überall verwenden) ===== */
.section-title{
  font-size: var(--sec-title-fs);
  font-weight: var(--sec-title-fw);
  letter-spacing: var(--sec-title-ls);
  margin: 0 0 var(--sec-title-mb);
  color: var(--sec-title-color);
  text-align: center; /* optional, rausnehmen wenn nicht gewünscht */
}

.section-subtitle{
  font-size: var(--sec-sub-fs);
  color: var(--sec-sub-color);
  margin: 0 0 var(--sec-sub-mb);
  line-height: var(--sec-sub-lh);
  max-width: var(--sec-sub-max);
  margin-inline: auto;
  text-align: center; /* optional */
}

/* ===== Optional: bestehende Klassen aliasen ===== */
:is(.persona-title)   { all: unset; display:block; }
:is(.persona-subline) { all: unset; display:block; }

/* Fallback ohne PostCSS "composes": dupliziere die Regeln */
.persona-title{
  font-size: var(--sec-title-fs);
  font-weight: var(--sec-title-fw);
  letter-spacing: var(--sec-title-ls);
  margin: 0 0 var(--sec-title-mb);
  color: var(--sec-title-color);
  text-align: center;
}
.persona-subline{
  font-size: var(--sec-sub-fs);
  color: var(--sec-sub-color);
  margin: 0 0 var(--sec-sub-mb);
  line-height: var(--sec-sub-lh);
  max-width: var(--sec-sub-max);
  margin-inline: auto;
  text-align: center;
}

/* ===== Dark / Auto-Dark ===== */
:root[data-theme="dark"] .section-title,
:root[data-theme="dark"] .persona-title{ color:#fff; }

:root[data-theme="dark"] .section-subtitle,
:root[data-theme="dark"] .persona-subline{ color:#fff; }

@media (prefers-color-scheme: dark){
  :root[data-theme="auto"] .section-title,
  :root[data-theme="auto"] .persona-title{ color:#fff; }
  :root[data-theme="auto"] .section-subtitle,
  :root[data-theme="auto"] .persona-subline{ color:#fff; }
}
</style>
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/denizs-dapper-site-2d192b.webflow.css" rel="stylesheet" type="text/css">
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>


  <body data-page="titlepage">

<style>
/* --------------------------
   Lokale Bild-Overrides nur für titlepage.html
--------------------------- */
body[data-page="titlepage"] .hero-image-background {
  background-image: url("./images/hero-bg-sky_1hero-bg-sky.webp") !important;
}

body[data-page="titlepage"] .hero-image-foreground {
  background-image: url("./images/titlepage-fg.webp") !important;
}

/* Optional: Mobile- oder Tablet-Varianten */
@media (max-width: 1024px) {
  body[data-page="titlepage"] .hero-image-foreground {
    background-image: url("./images/titlepage-fg-tablet.webp") !important;
  }
}
@media (max-width: 480px) {
  body[data-page="titlepage"] .hero-image-foreground {
    background-image: url("./images/titlepage-fg-mobile.webp") !important;
  }
}
</style>




</head>




<body>
  <a class="skip-link" href="#main">Zum Inhalt springen</a>

<style>
/* === BASIS (umbenannt, mystisch) ===================================================== */
.aether-header{
  position:sticky; top:0; z-index:50;
  background:rgba(255,255,255,.9);
  border-bottom:1px solid var(--border);
  padding-top:max(0px, env(safe-area-inset-top));
  transition:box-shadow .2s ease, background-color .2s ease, padding .2s ease;
}
@supports(backdrop-filter: blur(8px)){
  .aether-header{ backdrop-filter:saturate(1.1) blur(8px); background:color-mix(in oklab, var(--surface) 88%, transparent); }
}
.aether-header.is-ascended{ box-shadow: 0 6px 24px rgba(0,0,0,.08); }

.aether-header__bar{
  max-width:var(--container-width);
  margin:0 auto;
  padding:var(--header-pad-y) clamp(6px,5vw,10px);
  display:grid;
  grid-template-columns:auto 1fr auto; /* Sigil | Nav | Actions */
  align-items:center;
  gap:1rem;
}

.sigil-mark{
  font-size:clamp(1.1rem, 2vw, 1.4rem);
  font-weight:900; letter-spacing:0.02em;
  color:var(--text);
  display:inline-flex; align-items:center; gap:.5rem;
  white-space:nowrap; text-decoration:none;
}

/* Actions */
.astral-actions{ display:inline-flex; align-items:center; gap:.5rem; }
.charm-cta{
  padding:.6rem .9rem; border-radius:var(--radius); font-weight:600;
  background:var(--primary); color:#fff; text-decoration:none; line-height:1;
  min-height:44px; display:inline-flex; align-items:center; justify-content:center;
}
/* CTA-Button global */
.charm-cta{ background: var(--primary) !important; }

/* Toggle (Burger/X) */
.portal-toggle{
  appearance:none; border:1px solid var(--border); background:var(--surface);
  border-radius:var(--radius); padding:.5rem .6rem; line-height:1; cursor:pointer;
  display:inline-flex; align-items:center; gap:.5rem; justify-self:end; min-width:44px; min-height:44px;
  color:var(--text);
}
.portal-toggle:focus-visible{outline:2px solid color-mix(in oklab, var(--text) 20%, transparent); outline-offset:2px}
.portal-toggle .icon{ width:22px; height:22px; }
.portal-toggle .icon-close{ display:none; }
.portal-toggle[aria-expanded="true"] .icon-burger{ display:none; }
.portal-toggle[aria-expanded="true"] .icon-close{ display:inline; }

/* NAV – Basis */
.astral-nav{ width:100%; }
.astral-nav__list{ list-style:none; padding:0; margin:0; }
.astral-item{ position:relative; border:0; }
.astral-link{
  display:block; text-decoration:none;
  font-weight:500; color:var(--muted);
  white-space:nowrap; text-align:center;
  padding:0.85rem 1rem; min-height:44px; line-height:44px;
  position:relative;
}
.astral-link:hover,
.astral-link:focus-visible{ color:var(--text); }
.astral-link[aria-current="page"],
.astral-link[data-active]{ color:var(--text); font-weight:600; }
.astral-link::after{
  content:""; position:absolute; left:10px; right:10px; bottom:6px;
  height:2px; background:currentColor; opacity:0; transform:scaleX(.6);
  transition:opacity .18s ease, transform .18s ease;
}
@media(hover:hover){
  .astral-link:hover::after,
  .astral-link:focus-visible::after,
  .astral-link[aria-current="page"]::after,
  .astral-link[data-active]::after{ opacity:.75; transform:scaleX(1); }
}

/* Mobile Menüs */
@media (max-width:479px){
  .astral-nav{
    display:flex; flex-direction:column;
    position:fixed; inset:var(--gate-height) 0 0;
    background:var(--surface);
    transform:translateY(-8px); opacity:0; pointer-events:none;
    transition:transform .18s ease, opacity .18s ease;
    height:calc(100dvh - var(--gate-height));
  }
  .astral-nav.is-awakened{ transform:translateY(0); opacity:1; pointer-events:auto; }
  .astral-nav__list{
    display:grid; grid-template-columns:1fr; gap:0;
    padding:.25rem clamp(16px,5vw,40px) .75rem;
    flex:1 1 auto; overflow:auto;
  }
  .astral-link{ padding:0.95rem 0; font-size:1rem; line-height:1.4; min-height:auto; }
  .astral-actions .charm-cta{ display:none; }
}
.night-veil{ position:fixed; inset:var(--gate-height) 0 0; background:rgba(0,0,0,.28); opacity:0; pointer-events:none; transition:opacity .18s ease; }
.night-veil.is-awakened{ opacity:1; pointer-events:auto; }

@media (min-width:480px) and (max-width:767px){
  .astral-nav{
    display:flex; flex-direction:column;
    position:fixed; inset:var(--gate-height) 0 0;
    background:var(--surface);
    transform:translateY(-8px); opacity:0; pointer-events:none;
    transition:transform .18s ease, opacity .18s ease;
    height:calc(100dvh - var(--gate-height));
  }
  .astral-nav.is-awakened{ transform:translateY(0); opacity:1; pointer-events:auto; }
  .astral-nav__list{
    display:flex; flex-direction:column; gap:0;
    padding:.5rem clamp(16px,6vw,48px) .75rem;
    flex:1 1 auto; overflow:auto;
  }
  .astral-link{ padding:.8rem 0; }
  .astral-actions .charm-cta{ display:none; }
}

/* Tablet & Desktop */
@media (min-width:768px){
  .portal-toggle{ display:none; }
  .astral-nav{ display:block; position:static; transform:none; opacity:1; pointer-events:auto; background:transparent; width:auto; height:auto; }
  .astral-nav__list{ display:flex; gap:0; padding:0; align-items:center; justify-content:center; overflow:visible; }
  .astral-item{ border:0; }
  .astral-link{ padding:.85rem 1.05rem; color:var(--muted); min-height:auto; line-height:normal; }
  .astral-actions{ display:inline-flex; }
}

/* Fokus-Stile */
.astral-link:focus-visible{ outline:2px solid color-mix(in oklab, currentColor 60%, transparent); outline-offset:3px; border-radius:8px; }

/* Scroll-Lock */
.nav-lock, .nav-lock body{ overflow:hidden; }

/* Mobile CTA Container */
.astral-nav__mobile-actions{ display:none; }
@media (max-width:767px){
  .astral-nav__mobile-actions{
    display:grid; grid-template-columns: 1fr; gap:.75rem;
    padding:.75rem clamp(16px,6vw,48px) 1rem; background:inherit;
    margin-top:auto; border-top:none !important;
  }
  .astral-nav__mobile-actions .charm-cta{ width:100%; min-height:44px; }
}

/* THEME scopes bleiben gleich (data-theme) */
:root:not([data-theme="dark"]) .astral-nav.is-awakened{ background:#fff; }
:root:not([data-theme="dark"]) .astral-link{ color:#111; }
:root:not([data-theme="dark"]) .astral-link[aria-current="page"],
:root:not([data-theme="dark"]) .astral-link[data-active]{ color:#000; }
:root:not([data-theme="dark"]) .portal-toggle{ color:#111; border-color:var(--border); background:#fff; }
[data-theme="dark"] .astral-nav.is-awakened{ background:#000; }
[data-theme="dark"] .astral-link{ color:#fff; }
[data-theme="dark"] .astral-link::after{ background:#fff; }
[data-theme="dark"] .astral-link[aria-current="page"],
[data-theme="dark"] .astral-link[data-active]{ color:#fff; }
[data-theme="dark"] .portal-toggle{ color:#fff; border-color:rgba(255,255,255,.25); background:#111; }
[data-theme="dark"] .night-veil.is-awakened{ background:rgba(0,0,0,.6); }

/* Kompaktere Abstände Mobile */
@media (max-width: 767px){
  .astral-nav__list{ padding: .25rem clamp(16px,5vw,40px) .5rem; }
  .astral-link{ padding: .5rem 0; line-height: 1.25; min-height: 40px; font-size: .98rem; }
  .astral-link::after{ bottom:4px; height:2px; opacity:.6; }
  .astral-item + .astral-item{ border-top:none !important; }
}
@media (max-width: 479px){
  .astral-nav__list{ padding:.2rem clamp(14px,5vw,36px) .45rem; }
  .astral-link{ padding:.45rem 0; font-size:.95rem; min-height:38px; }
}

/* Mobile Subnav Grundlayout */
@media (max-width: 767px){
  .astral-item{ display:block; position:relative; }
  .astral-item > .astral-link{ text-align:center !important; padding-right: 2.5rem; }
  .gatelet{
    position:absolute; right: clamp(16px,5vw,40px); top:50%; transform:translateY(-50%);
    appearance:none; border:0; background:transparent; padding:.25rem; line-height:1; cursor:pointer;
    display:inline-flex; align-items:center; justify-content:center;
    min-width:36px; min-height:36px; border-radius:8px; color:var(--muted);
  }
  .gatelet svg{ width:18px; height:18px; transition:transform .18s ease, color .18s ease; }
  .gatelet[aria-expanded="true"] svg{ transform:rotate(180deg); color:var(--text); }
  .underrealm{ list-style:none; padding:0; margin:.2rem 0 .4rem; }
  .astral-link--sub{
    text-align:left; padding:.35rem 0 .35rem 1rem;
    line-height:1.25; min-height:36px; font-size:.95rem;
    color: color-mix(in oklab, var(--muted) 90%, var(--text) 10%);
  }
  .astral-link--sub:hover, .astral-link--sub:focus-visible{ color:var(--text); }
}

/* Pill/Active im Mobile */
@media (max-width:767px){
  .astral-item{ display:grid; grid-template-columns: 1fr auto; align-items:center; border-bottom:1px solid color-mix(in oklab, var(--muted) 12%, transparent); }
  .astral-item:last-child{ border-bottom:0; }
  .astral-item > .astral-link{ text-align:left !important; padding: 0.85rem clamp(16px,6vw,24px); padding-right: 3.25rem; line-height:1.3; }
  .gatelet{ position:static; transform:none; margin-right: clamp(12px,5vw,24px); color: var(--muted); }
  .gatelet:hover{ color: var(--text); }
  .astral-link[aria-current="page"],
  .astral-link[data-active]{ background: color-mix(in oklab, var(--accent) 9%, transparent); color: var(--text); border-radius:12px; }
  .astral-link::after{ display:none; }
}

/* Subnav Kompaktheit + Einblendung */
@media (max-width:767px){
  .underrealm{ margin: .25rem 0 .6rem; padding-left: clamp(18px, 7vw, 28px); border-left: 2px solid color-mix(in oklab, var(--muted) 20%, transparent); }
  .astral-link--sub{ padding: .45rem 0; font-size: .96rem; color: color-mix(in oklab, var(--text) 70%, var(--muted) 30%); }
  .underrealm[hidden]{ display:block !important; height:0; overflow:hidden; opacity:0; }
  .underrealm:not([hidden]){ animation: subreveal .18s ease-out; }
  @keyframes subreveal { from{ opacity:0; height:0 } to{ opacity:1; height:auto } }
  .astral-link{ padding-top:.9rem; padding-bottom:.9rem; }
  .astral-nav__mobile-actions{
    position:sticky; bottom:0;
    padding: .85rem clamp(16px,6vw,24px) calc(.85rem + env(safe-area-inset-bottom));
    background: inherit; box-shadow: 0 -8px 24px rgba(0,0,0,.08);
  }
  .astral-nav__mobile-actions .charm-cta{ font-size:1rem; font-weight:700; border-radius: 12px; }
  .astral-item > .astral-link{ font-weight: 750; font-size: 1.08rem; letter-spacing: .1px; }
}
[data-theme="dark"] .astral-nav.is-awakened{ background:#000000; }
@media (max-width:767px){
  [data-theme="dark"] .astral-item{ border-bottom:1px solid rgba(255,255,255,.07); }
  [data-theme="dark"] .underrealm{ border-left-color: rgba(255,255,255,.12); }
}

/* Zusätzliche Feinheiten Mobile */
@media (max-width:767px){
  .underrealm{ margin: .15rem 0 .5rem; padding-left: clamp(16px,6vw,24px); border-left: 2px solid color-mix(in oklab, var(--muted) 22%, transparent); }
  .astral-link--sub{ padding: .4rem 0; font-size: .96rem; }
  .astral-item.is-awakened > .astral-link{ padding-bottom: .35rem; }
  .astral-item.is-awakened .underrealm{ margin-top: .1rem; }
}

/* CTA Effekte/States */
.charm-cta { text-rendering: optimizeLegibility; -webkit-font-smoothing: antialiased; }
@media (hover:hover){
  .charm-cta:hover{ transform: translateY(-1px); box-shadow: var(--cta-shadow-hover), inset 0 0 0 1px rgba(255,255,255,.08); }
  .charm-cta:active{ transform: translateY(0); box-shadow: var(--cta-shadow); }
}
.charm-cta:focus-visible{
  outline: none;
  box-shadow:
    0 0 0 3px color-mix(in oklab, var(--cta-focus) 70%, transparent),
    0 0 0 6px color-mix(in oklab, var(--cta-focus) 25%, transparent),
    var(--cta-shadow);
}
.charm-cta__icon{ width: 1.15em; height: 1.15em; flex: 0 0 auto; transform: translateX(0); transition: transform .18s ease; }
@media(hover:hover){ .charm-cta:hover .charm-cta__icon{ transform: translateX(2px); } }
@media (prefers-contrast: more){
  .charm-cta{ box-shadow: 0 0 0 2px color-mix(in oklab, #000 20%, var(--cta-bg)); }
  .charm-cta:focus-visible{ box-shadow: 0 0 0 3px #fff, 0 0 0 6px color-mix(in oklab, var(--cta-bg) 60%, #000 40%); }
}
[data-theme="dark"] .charm-cta{ --cta-shadow: 0 10px 24px rgba(0,0,0,.36); --cta-shadow-hover: 0 14px 34px rgba(0,0,0,.46); }
.charm-cta::before{
  content:""; position:absolute; inset:0; border-radius:inherit; z-index:0;
  background: radial-gradient(120% 140% at 0% 0%, rgba(255,255,255,.22), rgba(255,255,255,.08) 35%, transparent 60%);
  mix-blend-mode: soft-light; pointer-events:none; opacity:.95;
}
.charm-cta > *{ position:relative; z-index:1; }
.charm-cta .cta-ripple{
  position:absolute; inset:auto; border-radius:50%;
  pointer-events:none; transform: translate(-50%, -50%) scale(0);
  opacity:.5; filter:saturate(120%);
  background: radial-gradient(circle at center, rgba(255,255,255,.55), rgba(255,255,255,.22), rgba(255,255,255,0) 70%);
}
.charm-cta .cta-ripple.is-anim{ animation: ctaRipple .6s ease-out forwards; }
@keyframes ctaRipple{ to{ transform: translate(-50%, -50%) scale(20); opacity:0; } }
@media (prefers-reduced-motion: reduce){
  .charm-cta .cta-ripple{ display:none !important; }
  .charm-cta{ transition: box-shadow .01ms, transform .01ms; }
}
.charm-cta[aria-busy="true"]{ cursor: progress; filter: saturate(.9) brightness(.96); }
.charm-cta[aria-busy="true"] .charm-cta__labl{ opacity:.0; }
.charm-cta[aria-busy="true"] .charm-cta__icon{ opacity:0; }
.charm-cta[aria-busy="true"]::after{
  content:""; position:absolute; inset:0; display:block; margin:auto;
  width:1.25rem; height:1.25rem; border-radius:50%;
  border: 2px solid rgba(255,255,255,.55);
  border-top-color: rgba(255,255,255,0);
  animation: ctaSpin .9s linear infinite; z-index:2;
}
@keyframes ctaSpin{ to{ transform: rotate(360deg); } }
.charm-cta[aria-disabled="true"], .charm-cta.is-disabled{ opacity:.58; cursor:not-allowed; pointer-events:none; }
.charm-cta--lg{ padding: .9rem 1.1rem; font-size:1.05rem; }
.charm-cta--sm{ padding: .55rem .8rem; font-size:.92rem; }
.astral-actions .charm-cta{ white-space:nowrap; }

/* Header-Actions rechtsbündig + Reihenfolge */
.astral-actions{ justify-content:flex-end; gap:.5rem; }
.astral-actions .orb-toggle{ order:0; }
.astral-actions .charm-cta{ order:1; }

/* Mobile Subnav – enger */
@media (max-width:767px){
  .astral-item.is-awakened > .underrealm{ margin-top: -2rem !important; }
  .astral-item.is-awakened > .astral-link,
  .astral-item:has(.gatelet[aria-expanded="true"]) > .astral-link{ padding-bottom: .18rem !important; }
  .underrealm{ margin: .08rem 0 .38rem !important; padding-left: clamp(16px,6vw,24px); border-left: 2px solid color-mix(in oklab, var(--muted) 22%, transparent); }
  .astral-link--sub{ padding: .35rem 0 !important; }
  .astral-item.is-awakened{ border-bottom: 0 !important; }
}

/* Tablet kompakt */
@media (min-width:768px) and (max-width:1023px){
  .astral-nav__list{ flex-wrap: nowrap !important; justify-content: flex-start; gap: .25rem !important; overflow-x:auto; -webkit-overflow-scrolling:touch; scrollbar-width:none; }
  .astral-nav__list::-webkit-scrollbar{ display:none; }
  .astral-link{ padding:.56rem .68rem !important; font-size:.80rem !important; line-height:1.15 !important; }
  .aether-header__bar{ grid-template-columns: auto minmax(0,1fr) auto !important; gap:.5rem !important; }
  .sigil-mark{ flex-shrink:0 !important; white-space:nowrap !important; margin-right: clamp(8px,2vw,16px) !important; font-size: clamp(1.05rem, 1.6vw, 1.25rem) !important; line-height:1 !important; }
  .astral-nav{ min-width:0 !important; justify-self:end !important; margin-left: clamp(10px, 2.5vw, 28px) !important; }
  .gatelet{ display:none !important; }
  .astral-actions{ gap:.35rem !important; }
  .astral-actions .charm-cta{ font-size:.80rem !important; padding:.55rem .85rem !important; min-height:38px !important; border-radius:10px !important; margin:0 !important; white-space:nowrap !important; }
}

/* Desktop/Tablet Dropdown */
@media (min-width:768px){
  .gatelet{ display:inline-flex !important; appearance:none; border:0; background:transparent; cursor:pointer; padding:.25rem; line-height:1; color:var(--muted); }
  .gatelet svg{ width:16px; height:16px; transition:transform .18s ease, color .18s ease; }
  .gatelet[aria-expanded="true"] svg{ transform:rotate(180deg); color:var(--text); }

  .astral-item{ display:inline-flex; align-items:center; position:relative; }
  .astral-item > .astral-link{ padding-right:.25rem; }

  .underrealm{
    position:absolute; left:0; top:calc(100% + 8px);
    min-width: 240px; max-width:420px;
    padding:.5rem 0 !important;
    background: rgba(0,0,0,.9) !important; color:#fff;
    border-radius:12px; border:1px solid rgba(255,255,255,.10) !important;
    box-shadow:0 14px 34px rgba(0,0,0,.36);
    display:none; z-index:2000 !important;
  }
  .underrealm::before{
    content:""; position:absolute; top:-6px; left:14px; width:12px; height:12px;
    background: rgba(0,0,0,.9) !important;
    transform:rotate(45deg);
    border-left:1px solid rgba(255,255,255,.10) !important;
    border-top:1px solid rgba(255,255,255,.10) !important;
  }
  .underrealm li{ list-style:none; margin:0; }
  .underrealm li + li{ border-top:1px solid rgba(255,255,255,.12); }
  .astral-link--sub{
    display:block; text-align:left !important;
    padding:.6rem .9rem !important; margin:0; border-radius:0; color:#e9e9e9;
  }
  .astral-link--sub:hover, .astral-link--sub:focus-visible{ background: rgba(255,255,255,.08); color:#fff; }
  .astral-item.is-awakened > .underrealm{ display:block !important; }
  .astral-nav__list{ overflow: visible !important; }
}

/* Light-Mode Dropdown */
:root:not([data-theme="dark"]) .underrealm{
  background:#fff !important; color:#111 !important;
  border:1px solid rgba(0,0,0,.12) !important; box-shadow:0 14px 34px rgba(0,0,0,.14) !important;
}
:root:not([data-theme="dark"]) .underrealm::before{
  background:#fff !important;
  border-left:1px solid rgba(0,0,0,.12) !important;
  border-top:1px solid rgba(0,0,0,.12) !important;
}
:root:not([data-theme="dark"]) .astral-link--sub{ color:#111 !important; }
:root:not([data-theme="dark"]) .astral-link--sub:hover,
:root:not([data-theme="dark"]) .astral-link--sub:focus-visible{ background:rgba(0,0,0,.06) !important; color:#000 !important; }

/* Mobile Light Mode: Subnav ohne Box */
@media (max-width: 767px){
  :root:not([data-theme="dark"]) .underrealm{
    background: transparent !important; border: 0 !important; box-shadow: none !important; border-radius: 0 !important;
    padding: .08rem 0 .38rem clamp(16px,6vw,24px) !important;
  }
  :root:not([data-theme="dark"]) .underrealm::before{ display:none !important; }
  :root:not([data-theme="dark"]) .astral-link--sub{ color:#111 !important; }
  :root:not([data-theme="dark"]) .astral-link--sub:hover,
  :root:not([data-theme="dark"]) .astral-link--sub:focus-visible{
    background: rgba(0,0,0,.05) !important; color:#000 !important; border-radius:8px;
  }
}

/* XS Phones: Einrückungen & Abstände */
@media (max-width: 479px){
  .astral-item.is-awakened > .underrealm{ margin-top: 0.35rem !important; margin-bottom: 2.35rem !important; }
  .astral-item.is-awakened > .astral-link{ padding-bottom: .35rem !important; }
  .underrealm{ padding-left: clamp(16px, 6vw, 22px) !important; }
}

/* Brand größer auf Phones */
@media (max-width: 767px){
  .sigil-mark{ font-size: clamp(1.4rem, 6vw, 1.9rem) !important; line-height: 1.1; }
}

/* Mobile CTA unten ohne Box-Hintergrund */
@media (max-width: 767px){
  .astral-nav__mobile-actions{
    background: transparent !important; box-shadow: none !important; border-top: none !important; padding-top: 1rem;
  }
}

/* Mobile: Subnav nur beim offenen Punkt zeigen */
@media (max-width:767px){
  .astral-nav__list{ display:flex; flex-direction:column; }
  .underrealm{ display:none; }
  .astral-item.is-awakened > .underrealm{ display:block; }
}

/* === Aurora Typo-Feeling im Header/Nav (nur Schrift) ===================== */
.aether-header,
.astral-link,
.astral-link--sub,
.sigil-mark,
.charm-cta{
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
}
.sigil-mark{
  font-weight: 900 !important;
  letter-spacing: -0.02em !important;
}
.astral-link{
  font-weight: 750 !important;
  letter-spacing: 0.01em !important;
  line-height: 1.2 !important;
}
.astral-link--sub{
  font-weight: 650 !important;
  letter-spacing: 0.005em !important;
  line-height: 1.25 !important;
}

/* Balken/Shadow über Mobile-Menü entfernen, wenn Menü offen */
@media (max-width: 767px){
  .aether-header.portal-open{
    border-bottom: 0 !important;
    box-shadow: none !important;
    background: var(--surface) !important;
  }
}

/* === Header-Typo wie Lead-Text – voll responsive =================== */

/* Skalierung global steuerbar */
:root{ --nav-scale: 1; }

/* XS Phones (≤360px) -> minimal kleiner */
@media (max-width:360px){ :root{ --nav-scale:.92; } }

/* Small Phones (361–479px) */
@media (min-width:361px) and (max-width:479px){ :root{ --nav-scale:.96; } }

/* Phones / Phablets (480–767px) */
@media (min-width:480px) and (max-width:767px){ :root{ --nav-scale:.98; } }

/* Large Desktops (≥1200px) -> leicht größer */
@media (min-width:1200px){ :root{ --nav-scale:1.06; } }

/* Header als Container für feineres Tuning */
.aether-header__bar{ container-type:inline-size; }

/* Container-Query: wenn der Header sehr wenig Platz hat (z.B. viele Menüpunkte) */
@container (max-width:520px){
  .sigil-mark{ letter-spacing:-0.012em !important; }
  .astral-link{ letter-spacing:0 !important; line-height:1.55 !important; }
}

/* Brand (ähnlich .lead) */
.sigil-mark{
  font-weight:950 !important;
  letter-spacing:-0.01em !important;
  line-height:1.28 !important;
  font-size: calc(var(--nav-scale) * clamp(1.06rem, 1rem + .5vw, 1.22rem)) !important;
  text-wrap:balance !important;
  -webkit-font-smoothing:antialiased;
  text-rendering:optimizeLegibility;
}

/* Hauptlinks (ähnlich .copy) */
.astral-link{
  font-weight:690 !important;
  letter-spacing:-0.002em !important;
  font-size: calc(var(--nav-scale) * clamp(1.02rem, .98rem + .35vw, 1.16rem)) !important;
  line-height:1.7 !important;
  text-wrap:pretty !important;
  -webkit-font-smoothing:antialiased;
  text-rendering:optimizeLegibility;
}

/* Subnav-Links (0.95 der Hauptlinks) */
.astral-link--sub{
  font-weight:690 !important;
  letter-spacing:-0.002em !important;
  font-size: calc(var(--nav-scale) * clamp(.97rem, .93rem + .33vw, 1.10rem)) !important;
  line-height:1.65 !important;
  text-wrap:pretty !important;
}

/* CTA wie Lead: kräftig & kompakt */
.charm-cta{
  font-weight:950 !important;
  letter-spacing:-0.01em !important;
  font-size: calc(var(--nav-scale) * clamp(1.02rem, .98rem + .35vw, 1.16rem)) !important;
  line-height:1.28 !important;
  text-wrap:balance !important;
}

/* Optional: engere, lead-typische Pillen-Unterstreichung */
.astral-link::after{
  height:2px !important;
  transform:scaleX(.6);
}

/* Feinschliff je Breakpoint */
@media (max-width:479px){
  .astral-link{ line-height:1.5 !important; }
  .astral-link--sub{ line-height:1.5 !important; }
}
@media (min-width:768px) and (max-width:1023px){
  .astral-link{ line-height:1.6 !important; }
}
@media (min-width:1024px){
  .astral-link{ line-height:1.55 !important; }
}
/* === Responsive Feinjustierung: kleinere Nav-Schrift zwischen 768–880px === */
@media (min-width: 768px) and (max-width: 880px){
  .astral-link{
    font-size: clamp(.88rem, .82rem + .25vw, 1rem) !important;
    line-height: 1.55 !important;
    letter-spacing: -0.001em !important;
  }
}
/* === OVERRIDE: Brand (Fusion³) größer ===================== */
/* Desktop/Tablet */
.sigil-mark{
  font-size: clamp(1.6rem, 1.05rem + 1.6vw, 2.4rem) !important;
  line-height: 1.15 !important;
  letter-spacing: -0.015em !important;
}

/* Phones */
@media (max-width: 767px){
  .sigil-mark{
    font-size: clamp(1.8rem, 7.2vw, 2.3rem) !important;
  }
}

/* Optional: gib der Brand minimal mehr Luft auf sehr schmalen Headern */
@container (max-width:520px){
  .sigil-mark{ letter-spacing:-0.006em !important; }
}

</style>

<header class="aether-header" id="aetherGate">
  <div class="aether-header__bar">
    <a href="/" class="sigil-mark">Fusion³</a>

    <!-- NAV mit Subnav-Accordions (nur Mobile sichtbar) -->
    <nav class="astral-nav" id="astralWay" aria-labl="Hauptnavigation">
      <ul class="astral-nav__list">

        <!-- Leistungen -->
        <li class="astral-item">
          <a class="astral-link" href="/leistungen">Leistungen</a>
          <button class="gatelet" aria-expanded="false" aria-controls="grimoire-services" aria-labl="Unterpunkte zu Leistungen ein-/ausklappen">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          <ul id="grimoire-services" class="underrealm" hidden>
            <li><a class="astral-link astral-link--sub" href="/leistungen/webdesign">Webdesign</a></li>
            <li><a class="astral-link astral-link--sub" href="/leistungen/branding-ci">Branding &amp; CI</a></li>
            <li><a class="astral-link astral-link--sub" href="/leistungen/performance">Performance Marketing</a></li>
            <li><a class="astral-link astral-link--sub" href="/leistungen/support">Wartung &amp; Support</a></li>
          </ul>
        </li>

        <!-- Über uns -->
        <li class="astral-item">
          <a class="astral-link" href="#ueber-uns">Blog</a>
          <button class="gatelet" aria-expanded="false" aria-controls="codex-about" aria-labl="Unterpunkte zu Über uns ein-/ausklappen">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          <ul id="codex-about" class="underrealm" hidden>
            <li><a class="astral-link astral-link--sub" href="#team">Team</a></li>
            <li><a class="astral-link astral-link--sub" href="#werte">Werte</a></li>
            <li><a class="astral-link astral-link--sub" href="/jobs">Jobs</a></li>
            <li><a class="astral-link astral-link--sub" href="/presse">Presse</a></li>
          </ul>
        </li>

        <!-- Portfolio -->
        <li class="astral-item">
          <a class="astral-link" href="#portfolio">Portfolio</a>
          <button class="gatelet" aria-expanded="false" aria-controls="vault-portfolio" aria-labl="Unterpunkte zu Portfolio ein-/ausklappen">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          <ul id="vault-portfolio" class="underrealm" hidden>
            <li><a class="astral-link astral-link--sub" href="#web-projekte">Web-Projekte</a></li>
            <li><a class="astral-link astral-link--sub" href="#markenauftritte">Markenauftritte</a></li>
            <li><a class="astral-link astral-link--sub" href="/cases">Case Studies</a></li>
            <li><a class="astral-link astral-link--sub" href="/referenzen">Referenzen</a></li>
          </ul>
        </li>

        <!-- Kontakt -->
        <li class="astral-item">
          <a class="astral-link" href="#kontakt">Kontakt</a>
          <button class="gatelet" aria-expanded="false" aria-controls="altar-contact" aria-labl="Unterpunkte zu Kontakt ein-/ausklappen">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          <ul id="altar-contact" class="underrealm" hidden>
            <li><a class="astral-link astral-link--sub" href="/anfrage">Anfrage stellen</a></li>
            <li><a class="astral-link astral-link--sub" href="/beratung">Beratung buchen</a></li>
            <li><a class="astral-link astral-link--sub" href="/standort">Standort</a></li>
            <li><a class="astral-link astral-link--sub" href="/impressum">Impressum</a></li>
          </ul>
        </li>

      </ul>
    </nav>

    <div class="astral-actions">

      <!-- Theme Toggle -->
      <button class="orb-toggle" id="eclipseStone" aria-pressed="true" aria-describedby="omenWhisper" aria-controls="omenWhisper" aria-labl="Hell- oder Dunkelmodus umschalten">
        <div class="sky day-sky" aria-hidden="true"></div>
        <div class="sky night-sky" aria-hidden="true"></div>
        <div class="stars" id="starField" aria-hidden="true"></div>
        <div class="clouds" id="nebulaSea" aria-hidden="true">
          <div class="leyline back"  data-lane="back"></div>
          <div class="leyline mid"   data-lane="mid"></div>
          <div class="leyline front" data-lane="front"></div>
        </div>
        <span class="thumb" id="moonShard" aria-hidden="true"></span>
      </button>
      
      <p id="omenWhisper" class="visually-hidden" aria-live="polite">Dunkelmodus aktiv</p>

      <!-- CTA -->
      <a
        class="charm-cta charm-cta--prime"
        href="#kontakt"
        id="sigilOffer"
        role="button"
        aria-labl="Angebot anfordern"
        data-cta
        data-cta-context="header"
      >
        <span class="charm-cta__labl">Check starten</span>
        <span class="visually-hidden" aria-live="polite" aria-atomic="true"></span>
      </a>
  
    </div>

    <button class="portal-toggle" id="runeSwitch" aria-labl="Menü öffnen" aria-expanded="false" aria-controls="astralWay">
      <!-- Burger -->
      <svg class="icon icon-burger" viewBox="0 0 24 24" aria-hidden="true">
        <path d="M3 6h18M3 12h18M3 18h18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>
      <!-- X -->
      <svg class="icon icon-close" viewBox="0 0 24 24" aria-hidden="true">
        <path d="M6 6l12 12M18 6L6 18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>
      <span class="labl">Menü</span>
    </button>
  </div>
  <div class="night-veil" id="voidVeil" hidden></div>
</header>

<script>
  /* ---------------------------
     Aether / Astral Navigation
     --------------------------- */
  (function(){
    const docEl   = document.documentElement;
    const gate    = document.getElementById('aetherGate');
    const switchRune = document.getElementById('runeSwitch');
    const astral  = document.getElementById('astralWay');
    const veil    = document.getElementById('voidVeil');
    if(!switchRune || !astral) return;

    // Headerhöhe -> CSS Var
    function setGateHeight(){
      const h = gate.getBoundingClientRect().height;
      docEl.style.setProperty('--gate-height', h + 'px');
    }
    setGateHeight();
    addEventListener('resize', setGateHeight, {passive:true});

    // MQ Sync
    const mq = window.matchMedia('(min-width: 768px)');

    // Mobile Actions Container
    const mobileSatchelId = 'mobileSatchel';
    let mobileSatchel = null;
    function ensureSatchel(){
      if(!mobileSatchel){
        mobileSatchel = document.createElement('div');
        mobileSatchel.id = mobileSatchelId;
        mobileSatchel.className = 'astral-nav__mobile-actions';
        mobileSatchel.setAttribute('hidden','');
        astral.appendChild(mobileSatchel);
      }
    }
    function stowCharm(){
      ensureSatchel();
      const cta = document.querySelector('.charm-cta');
      if(cta && cta.parentElement !== mobileSatchel){ mobileSatchel.appendChild(cta); }
      mobileSatchel.removeAttribute('hidden');
    }
    function recallCharm(){
      const actions = document.querySelector('.astral-actions');
      if(!actions) return;
      const cta = mobileSatchel?.querySelector('.charm-cta');
      if(cta && actions !== cta.parentElement){
        actions.appendChild(cta);
      }
      mobileSatchel?.setAttribute('hidden','');
    }

    // Focus Trap
    const ward = (()=>{
      let active = false;
      function handle(e){
        if(!active || e.key !== 'Tab') return;
        const focusables = astral.querySelectorAll('a, button, [tabindex]:not([tabindex="-1"])');
        const list = Array.from(focusables).filter(el=>!el.hasAttribute('disabled'));
        if(list.length === 0) return;
        const first = list[0];
        const last  = list[list.length-1];
        if(e.shiftKey && document.activeElement === first){ e.preventDefault(); last.focus(); }
        else if(!e.shiftKey && document.activeElement === last){ e.preventDefault(); first.focus(); }
      }
      return {
        activate(){ if(!active){ active = true; document.addEventListener('keydown', handle); }},
        deactivate(){ if(active){ active = false; document.removeEventListener('keydown', handle); }}
      };
    })();

    function sealUnderrealms(){
      astral.querySelectorAll('.gatelet[aria-expanded="true"]').forEach(btn=>{
        btn.setAttribute('aria-expanded','false');
      });
      astral.querySelectorAll('.underrealm:not([hidden])').forEach(ul=>{
        ul.setAttribute('hidden','');
      });
      astral.querySelectorAll('.astral-item.is-awakened').forEach(li=>{
        li.classList.remove('is-awakened');
      });
    }

    function closePortal(){
      astral.classList.remove('is-awakened');
      veil?.classList.remove('is-awakened');
      veil?.setAttribute('hidden', '');
      switchRune.setAttribute('aria-expanded','false');
      switchRune.setAttribute('aria-labl','Menü öffnen');
      docEl.classList.remove('nav-lock');
      ward.deactivate();
      document.querySelector('main')?.removeAttribute('inert');
      sealUnderrealms();
      recallCharm();
      gate.classList.remove('portal-open'); /* Balken/Shadow fix */
      switchRune.focus();
    }
    function openPortal(){
      astral.classList.add('is-awakened');
      veil?.classList.add('is-awakened');
      veil?.removeAttribute('hidden');
      switchRune.setAttribute('aria-expanded','true');
      switchRune.setAttribute('aria-labl','Menü schließen');
      docEl.classList.add('nav-lock');

      const firstLink = astral.querySelector('a');
      if(firstLink) firstLink.focus();

      ward.activate();
      document.querySelector('main')?.setAttribute('inert', '');
      stowCharm();
      gate.classList.add('portal-open'); /* Balken/Shadow fix */
    }
    function syncState(){ if(mq.matches){ closePortal(); } }
    mq.addEventListener?.('change', syncState);
    syncState();

    // Toggle Button
    switchRune.addEventListener('click', function(){
      const isOpen = astral.classList.contains('is-awakened');
      if(isOpen) closePortal(); else openPortal();
    });

    // Overlay / Outside click
    veil?.addEventListener('click', () => closePortal());
    document.addEventListener('click', (e) => {
      if(!astral.classList.contains('is-awakened')) return;
      if (e.target.closest('.orb-toggle')) return; // Theme-Toggle schließt nicht
      if(!astral.contains(e.target) && !switchRune.contains(e.target)) closePortal();
    });

    // ESC
    document.addEventListener('keydown', (e) => {
      if(e.key === 'Escape' && astral.classList.contains('is-awakened')){
        e.preventDefault(); closePortal();
      }
    });

    // Scroll Shadow
    addEventListener('scroll', () => {
      const y = window.scrollY || 0;
      gate.classList.toggle('is-ascended', y>4);
    }, {passive:true});

    // Scrollspy
    const links = [...document.querySelectorAll('.astral-link')];
    const linkMap = Object.fromEntries(links.map(a=>[a.getAttribute('href'), a]));
    const obs = new IntersectionObserver(entries => {
      entries.forEach(e => {
        const id = '#'+e.target.id;
        if(e.isIntersecting){
          links.forEach(l=>{ l.removeAttribute('data-active'); l.removeAttribute('aria-current'); });
          const link = linkMap[id];
          if(link){ link.setAttribute('data-active',''); link.setAttribute('aria-current','page'); }
        }
      });
    }, {rootMargin:'-40% 0px -55% 0px', threshold:[0, 1]});
    document.querySelectorAll('section[id]').forEach(s=>obs.observe(s));

    // Smooth scroll Offset
    links.forEach(a=>{
      a.addEventListener('click', (ev)=>{
        const href = a.getAttribute('href')||'';
        if(href.startsWith('#')){
          const target = document.getElementById(href.slice(1));
          if(target){
            ev.preventDefault();
            const y = target.getBoundingClientRect().top + window.scrollY - (gate.getBoundingClientRect().height + 8);
            window.scrollTo({top:y, behavior:'smooth'});
            closePortal();
          }
        }
      });
    });
  })();
</script>

<script>
/* CTA Ripple (Namen mystisch gelassen, Klassen bereits umbenannt) */
(function(){
  const prefersReduced = matchMedia('(prefers-reduced-motion: reduce)').matches;

  function makeRipple(btn, x, y){
    if (prefersReduced) return;
    const r = document.createElement('span');
    r.className = 'cta-ripple';
    r.style.left = x + 'px';
    r.style.top  = y + 'px';
    btn.appendChild(r);
    r.offsetWidth; r.classList.add('is-anim');
    r.addEventListener('animationend', ()=> r.remove(), {once:true});
  }

  function keyRipple(e){
    if(e.key !== ' ' && e.key !== 'Enter') return;
    const btn = e.currentTarget;
    const rect = btn.getBoundingClientRect();
    makeRipple(btn, rect.width/2, rect.height/2);
  }

  function setBusy(btn, busy=true){
    btn.setAttribute('aria-busy', String(!!busy));
    const live = btn.querySelector('[aria-live]');
    if(live){ live.textContent = busy ? 'Lädt…' : 'Bereit'; }
  }

  document.querySelectorAll('[data-cta]').forEach(btn=>{
    btn.addEventListener('pointerdown', e=>{
      if(e.pointerType === 'mouse' || e.pointerType === 'touch' || e.pointerType === 'pen'){
        const rect = btn.getBoundingClientRect();
        makeRipple(btn, e.clientX - rect.left, e.clientY - rect.top);
      }
    });
    btn.addEventListener('keydown', keyRipple);
    btn.addEventListener('click', (e)=>{
      const href = btn.getAttribute('href') || '';
      const targetLocal = href.startsWith('#');
      if(targetLocal){
        setBusy(btn, true);
        setTimeout(()=> setBusy(btn, false), 420);
      }
    }, {passive:true});
  });
})();
</script>

<script>
/* Underrealm Toggle (Subnav) */
(function(){
  const nav = document.getElementById('astralWay');
  if(!nav) return;

  nav.addEventListener('click', (e)=>{
    const btn = e.target.closest('.gatelet');
    if(!btn) return;
    e.preventDefault();
    e.stopPropagation();

    const li  = btn.closest('.astral-item');
    const id  = btn.getAttribute('aria-controls');
    const sub = id ? document.getElementById(id) : li?.querySelector('.underrealm');
    if(!li || !sub) return;

    const isOpen = btn.getAttribute('aria-expanded') === 'true';

    // andere schließen
    nav.querySelectorAll('.astral-item.is-awakened').forEach(other=>{
      if(other !== li){
        other.classList.remove('is-awakened');
        const otherBtn = other.querySelector('.gatelet[aria-expanded="true"]');
        const otherSub = other.querySelector('.underrealm');
        if(otherBtn) otherBtn.setAttribute('aria-expanded','false');
        if(otherSub) otherSub.setAttribute('hidden','');
      }
    });

    btn.setAttribute('aria-expanded', String(!isOpen));
    li.classList.toggle('is-awakened', !isOpen);
    sub.toggleAttribute('hidden', isOpen);
  });

  // Outside-Click schließt alles
  document.addEventListener('click', (e)=>{
    if(!nav.contains(e.target)){
      nav.querySelectorAll('.astral-item.is-awakened').forEach(li=>{
        li.classList.remove('is-awakened');
        const b = li.querySelector('.gatelet[aria-expanded="true"]');
        const s = li.querySelector('.underrealm');
        if(b) b.setAttribute('aria-expanded','false');
        if(s) s.setAttribute('hidden','');
      });
    }
  });

  // ESC schließt alle
  document.addEventListener('keydown', (e)=>{
    if(e.key !== 'Escape') return;
    nav.querySelectorAll('.astral-item.is-awakened').forEach(li=>{
      li.classList.remove('is-awakened');
      const b = li.querySelector('.gatelet[aria-expanded="true"]');
      const s = li.querySelector('.underrealm');
      if(b) b.setAttribute('aria-expanded','false');
      if(s) s.setAttribute('hidden','');
    });
  });
})();
</script>

<style>
  :root{
    color-scheme: light dark;

    /* Himmel */
    --sky-day-zenith:#1d7ce2;
    --sky-day-horizon:#a5d4ff;
    --sky-night-zenith:#0a0a2e;
    --sky-night-horizon:#1a0033;

    --cloud-day:#ffffff;
    --cloud-night:#d2d8e4;

    --sun-core:#ffd54f;
    --sun-glow:#ffe597;
    --moon-core:#f0f3fa;
    --accent:#0026ff;
    --pulse: rgba(255, 213, 79, .45);
  }
  body.nocturne{ --pulse: rgba(200, 220, 255, .40); }

  /* Toggle */
  .orb-toggle{
    --w: clamp(140px, 42vw, 220px);
    --h: calc(var(--w) / 2.3);
    --pad: calc(var(--h) * 0.125);
    --thumb: calc(var(--h) - var(--pad) * 2);

    position:relative;
    width:var(--w);
    height:var(--h);
    border:0;
    cursor:pointer;
    outline:none;
    overflow:hidden;
    isolation:isolate;
    border-radius:999px;
    background:transparent;
    box-shadow: 0 14px 34px rgba(0,0,0,.38), inset 0 0 0 1px rgba(255,255,255,.07);
  }
  .orb-toggle:focus-visible{
    box-shadow:0 0 0 4px color-mix(in oklab, var(--accent), transparent 65%), 0 14px 34px rgba(0,0,0,.38);
  }

  .sky{ position:absolute; inset:0; border-radius:inherit; z-index:0; overflow:hidden; }
  .day-sky{
    position:absolute; inset:0; border-radius:inherit; opacity:1; transition:opacity 1200ms ease;
    background: linear-gradient(180deg, var(--sky-day-zenith), var(--sky-day-horizon));
  }
  .day-sky::after{
    content:""; position:absolute; inset:-20%; border-radius:inherit; pointer-events:none;
    background: conic-gradient(from 0deg,
      color-mix(in oklab, var(--sky-day-zenith), transparent 0%) 0deg,
      color-mix(in oklab, var(--sky-day-horizon), transparent 15%) 90deg,
      color-mix(in oklab, var(--sky-day-zenith), transparent 8%) 180deg,
      color-mix(in oklab, var(--sky-day-horizon), transparent 20%) 270deg,
      color-mix(in oklab, var(--sky-day-zenith), transparent 0%) 360deg);
    filter: blur(12px) saturate(1.06) brightness(1);
    animation: rotateDay 40s linear infinite, dayBreathe 10s ease-in-out infinite;
    opacity:.9;
  }
  @keyframes rotateDay { to{ transform: rotate(360deg); } }
  @keyframes dayBreathe { 0%,100%{ filter: blur(12px) saturate(1.06) brightness(1) } 50%{ filter: blur(12px) saturate(1.08) brightness(1.06) } }

  .night-sky{
    position:absolute; inset:0; border-radius:inherit; opacity:0; transition:opacity 1200ms ease;
    background: linear-gradient(180deg, var(--sky-night-zenith), var(--sky-night-horizon));
  }
  .night-sky::after{
    content:""; position:absolute; inset:-25%; border-radius:inherit; pointer-events:none;
    background: conic-gradient(from 0deg, rgba(40,45,95,.12), rgba(110,20,120,.10), rgba(30,35,90,.12), rgba(60,20,110,.10), rgba(40,45,95,.12));
    filter: blur(16px) saturate(1.02);
    animation: driftNight 120s linear infinite;
    opacity:.35;
  }
  @keyframes driftNight { to{ transform: rotate(360deg); } }

  body.nocturne .day-sky{ opacity:0; } body.nocturne .night-sky{ opacity:1; }

  .stars{ position:absolute; inset:0; z-index:1; border-radius:inherit; opacity:0; transition:opacity 900ms ease; pointer-events:none; }
  body.nocturne .stars{ opacity:1; }
  .stars i{ position:absolute; width:2px; height:2px; background:#fff; border-radius:50%; opacity:.2; animation:twinkle 3.2s infinite ease-in-out; }
  @keyframes twinkle{ 50%{ opacity:1; transform:scale(1.6)} }

  .clouds{ position:absolute; inset:0; border-radius:inherit; z-index:2; pointer-events:none; }
  .leyline{ position:absolute; inset:0; overflow:hidden; }
  .leyline.back{ opacity:.25; filter:blur(1.2px); }
  .leyline.mid{  opacity:.6; filter:blur(.6px); }
  .leyline.front{opacity:.95;}

  .cloud{ position:absolute; top:0; transform:translateX(0); animation-name: drift; animation-timing-function: linear; animation-iteration-count: infinite; }
  @keyframes drift{ from{ transform:translateX(-320px)} to{ transform:translateX(320px)} }
  .bubble{ position:absolute; border-radius:50%; background: var(--cloud-day); }
  body.nocturne .bubble{ background: var(--cloud-night); }

  .thumb#moonShard{
    position:absolute;
    top:var(--pad);
    left:var(--pad);
    width:var(--thumb);
    height:var(--thumb);
    border-radius:50%;
    z-index:5;
    box-shadow: 0 12px 24px rgba(0,0,0,.35);
    transition: transform 820ms cubic-bezier(.2,.85,.2,1), background 600ms ease, filter 600ms ease;
  }
  body.dawn  #moonShard{ background: var(--sun-core); filter: drop-shadow(0 0 12px var(--sun-glow)); }
  body.nocturne  #moonShard{ background: var(--moon-core); filter: drop-shadow(0 0 6px rgba(200,220,255,.5)); }

  #moonShard{ transform: translateX(0); }
  body.nocturne #moonShard{
    transform: translateX(calc(var(--w) - var(--thumb) - (var(--pad) * 2) - var(--nudge-x, 0px)));
  }

  #moonShard.pulse{ animation:pulse 720ms ease-out; }
  @keyframes pulse{ 0%{ box-shadow:0 0 0 0 var(--pulse)} 100%{ box-shadow:0 0 0 22px rgba(0,0,0,0)} }

  /* Compact in Actions */
  .astral-actions .orb-toggle{
    --w: clamp(88px, 16vw, 128px);
    --h: 32px;
    --pad: 4px;
    --thumb: calc(var(--h) - var(--pad) * 2);

    width: var(--w);
    height: var(--h);
    border-radius: 999px;
    box-shadow: 0 8px 18px rgba(0,0,0,.24), inset 0 0 0 1px rgba(255,255,255,.06);
    vertical-align: middle;
  }
  @media (min-width:768px){
    .astral-actions .orb-toggle{
      --w: 108px; --h: 34px; --pad: 5px;
    }
  }
  .astral-actions #moonShard{ box-shadow: 0 8px 16px rgba(0,0,0,.25); }
  .astral-actions{ gap: .4rem; align-items:center; }
  .aether-header__bar{ grid-template-columns: auto 1fr auto; }
  .astral-actions{
    display:inline-flex; align-items:center; gap:.4rem; justify-self:end; min-width:0;
  }
  .astral-actions .orb-toggle{
    --w: 96px; --h: 30px; --pad: 4px; --thumb: calc(var(--h) - var(--pad)*2);
    width: var(--w); height: var(--h); max-width:100%;
    border-radius: 999px; box-shadow: 0 8px 18px rgba(0,0,0,.24), inset 0 0 0 1px rgba(255,255,255,.06);
  }
  @media (max-width: 374px){
    .astral-actions .orb-toggle{ --w: 84px; --h: 28px; --pad: 4px; }
  }
  @media (min-width: 425px) and (max-width: 767px){
    .astral-actions .orb-toggle{ --w: 104px; --h: 32px; --pad: 5px; }
  }
  @media (min-width: 768px){
    .astral-actions .orb-toggle{ --w: 112px; --h: 34px; --pad: 6px; }
  }
  .astral-actions #moonShard{ box-shadow: 0 8px 16px rgba(0,0,0,.25); }
  .astral-actions .orb-toggle{ overflow:hidden; }

  @media (min-width:768px) and (max-width:1023px){
    .astral-actions .orb-toggle{ --w: 72px; --h: 30px; --pad: 5px; }
    .astral-nav__list{ flex-wrap: wrap; }
    .astral-link{ padding: .75rem .9rem; }
    .astral-actions .charm-cta{ margin-right: -3.1rem; }
  }
  @media (min-width:320px){
    .astral-actions .orb-toggle{ --w: 60px; --h: 30px; --pad: 5px; }
  }

  body.nocturne .astral-actions .orb-toggle,
  [data-theme="dark"] .astral-actions .orb-toggle{
    box-shadow:
      0 8px 18px rgba(0,0,0,.35),
      inset 0 0 0 2px #8f67ff;
  }
  @media (max-width: 320px){
    .astral-actions .orb-toggle{ --w: 52px; --h: 26px; --pad: 4px; }
  }
  @media (min-width:768px) and (max-width:1023px){
    .astral-actions .orb-toggle{ --w: 64px; --h: 28px; --pad: 5px; --nudge-x: 1px; }
    .astral-actions .charm-cta{ margin-left: 1rem; margin-right: 0; }
  }
  @media (min-width:1024px){
    .astral-actions .orb-toggle{ --w: 96px; --h: 30px; --pad: 6px; }
  }

  /* ATTENTION NUDGES (unverändert außer Klassen) */
  .astral-actions .orb-toggle { position: relative; isolation: isolate; }
  .astral-actions .orb-toggle.suggest::after{
    content:""; position:absolute; inset:-6px; border-radius:inherit;
    pointer-events:none; z-index:10;
    box-shadow: 0 0 0 0 var(--pulse);
    animation: hintHalo 1200ms ease-out 6;
  }
  @keyframes hintHalo{
    0%   { box-shadow:0 0 0 0 var(--pulse);           opacity:1 }
    100% { box-shadow:0 0 0 26px rgba(0,0,0,0);       opacity:0 }
  }
  .astral-actions .orb-toggle.suggest #moonShard{
    animation: hintNudge 900ms cubic-bezier(.3,1,.3,1) 2 250ms;
  }
  @keyframes hintNudge{
    0%,100% { transform: translateX(var(--hint-x, 0)); }
    40%     { transform: translateX(calc(var(--hint-x, 0) + 6px)); }
    70%     { transform: translateX(calc(var(--hint-x, 0) - 3px)); }
  }
  body.nocturne .astral-actions .orb-toggle.suggest #moonShard{
    --hint-x: calc(var(--w) - var(--thumb) - (var(--pad) * 2) - var(--nudge-x, 0px));
  }
  .astral-actions .orb-toggle[data-hint]:not([data-hint=""])::before{
    content: attr(data-hint);
    position:absolute;
    left:50%; transform: translateX(-50%) translateY(-8px);
    bottom: 100%;
    padding:.25rem .5rem;
    font-size: 11px; line-height: 1;
    color:#fff; background: color-mix(in oklab, var(--accent), black 25%);
    border-radius:6px; white-space:nowrap;
    box-shadow: 0 6px 16px rgba(0,0,0,.25);
    opacity:0; pointer-events:none; z-index:11;
  }
  .astral-actions .orb-toggle.suggest[data-hint]:not([data-hint=""])::before{
    animation: hintFloat 1800ms ease-in-out 2 both;
  }
  @keyframes hintFloat{
    0%   { opacity:0; transform: translateX(-50%) translateY(-2px) }
    15%  { opacity:1; transform: translateX(-50%) translateY(-6px) }
    85%  { opacity:1; transform: translateX(-50%) translateY(-6px) }
    100% { opacity:0; transform: translateX(-50%) translateY(-10px) }
  }
  @media (prefers-reduced-motion: reduce){
    .astral-actions .orb-toggle.suggest::after,
    .astral-actions .orb-toggle.suggest #moonShard,
    .astral-actions .orb-toggle.suggest[data-hint]:not([data-hint=""])::before{
      animation: none !important;
    }
    .astral-actions .orb-toggle.suggest::after{
      box-shadow: 0 0 0 6px var(--pulse);
      opacity:.9;
      transition: opacity .6s ease;
    }
  }
</style>
<script>
  (function(){
    const rootEl   = document.documentElement;
    const bodyEl   = document.body;
    const toggleEl = document.getElementById('eclipseStone');
    const shard    = document.getElementById('moonShard');
    const stars    = document.getElementById('starField');
    const statusEl = document.getElementById('omenWhisper');

    /* Sterne */
    (function seedStars(){
      if(!stars) return;
      const N = 26;
      const frag = document.createDocumentFragment();
      for(let i=0;i<N;i++){
        const el = document.createElement('i');
        el.style.top = (5 + Math.random()*90) + '%';
        el.style.left = (5 + Math.random()*90) + '%';
        el.style.animationDelay = (Math.random()*2.5).toFixed(2)+'s';
        frag.appendChild(el);
      }
      stars.appendChild(frag);
    })();

    /* Wolken */
    (function seedClouds(){
      const lanes = Array.from(document.querySelectorAll('[data-lane]'));
      if(!lanes.length || !toggleEl) return;

      const presets = {
        back:  { count: 3, speed:[80,120], scale:[0.60,0.90],  opacity:[0.25,0.40] },
        mid:   { count: 3, speed:[60, 90], scale:[0.80,1.00],  opacity:[0.50,0.70] },
        front: { count: 2, speed:[45, 70], scale:[1.00,1.15],  opacity:[0.85,0.95] }
      };

      function render(){
        lanes.forEach(l=>l.innerHTML = '');
        const rect = toggleEl.getBoundingClientRect();
        const W = Math.max(60, Math.round(rect.width));
        const H = Math.max(24, Math.round(rect.height));
        lanes.forEach(lane=>{
          const cfg = presets[lane.dataset.lane];
          for(let i=0;i<cfg.count;i++){
            const cloud = document.createElement('div');
            cloud.className = 'cloud';

            const minW = Math.max(0.28*W, 36);
            const maxW = Math.max(0.46*W, 54);
            const cw   = randf(minW, maxW);
            const ch   = cw*0.5;

            cloud.style.width  = cw+'px';
            cloud.style.height = ch+'px';

            const freeY = Math.max(0, H - ch);
            cloud.style.top  = (freeY ? randf(0, freeY) : 0) + 'px';

            cloud.style.left = (Math.max(0, W - cw) ? randf(0, W - cw) : 0) + 'px';

            const dur = rand(cfg.speed[0], cfg.speed[1]);
            cloud.style.animationDuration = dur+'s';
            cloud.style.animationDelay = (-Math.random()*dur).toFixed(2)+'s';
            cloud.style.opacity = randf(cfg.opacity[0], cfg.opacity[1]);
            cloud.style.transform = `translateX(0) scale(${randf(cfg.scale[0], cfg.scale[1])})`;

            ['b1','b2','b3','b4','b5'].forEach((b,idx)=>{
              const s = document.createElement('span');
              s.className = 'bubble '+b;
              const w = [0.58,0.50,0.66,0.38,0.42][idx] * (0.92 + Math.random()*0.16);
              const h = [0.78,0.70,0.88,0.58,0.62][idx] * (0.92 + Math.random()*0.16);
              s.style.width  = (w*100)+'%';
              s.style.height = (h*100)+'%';
              const lefts = [10,38,46,-2,22];
              const tops  = [12,-4,12,28,28];
              s.style.left = (lefts[idx] + (Math.random()*4-2))+'%';
              s.style.top  = (tops[idx]  + (Math.random()*4-2))+'%';
              cloud.appendChild(s);
            });

            lane.appendChild(cloud);
          }
        });
      }

      function rand(min,max){ return Math.floor(min + Math.random()*(max-min+1)); }
      function randf(min,max){ return +(min + Math.random()*(max-min)).toFixed(2); }

      let t;
      const onResize = () => { clearTimeout(t); t = setTimeout(render, 120); };
      render();
      addEventListener('resize', onResize, {passive:true});
    })();

    const KEY = 'theme-pref';
    function apply(mode){ // 'dark' | 'light'
      const isDark = (mode === 'dark');
      bodyEl.classList.toggle('nocturne', isDark);
      bodyEl.classList.toggle('dawn', !isDark);
      rootEl.setAttribute('data-theme', isDark ? 'dark' : 'light');
      if(toggleEl) toggleEl.setAttribute('aria-pressed', String(isDark));
      if(statusEl) statusEl.textContent = isDark ? 'Dunkelmodus aktiv' : 'Hellmodus aktiv';
    }

    (function init(){
      const saved = localStorage.getItem(KEY);
      if(saved === 'light' || saved === 'dark'){
        apply(saved);
      }else{
        const sysDark = matchMedia('(prefers-color-scheme:dark)').matches;
        apply(sysDark ? 'dark' : 'light');
      }
    })();

    document.addEventListener('click', (e)=>{
      const t = e.target.closest?.('.orb-toggle');
      if(!t) return;
      const nowDark = !bodyEl.classList.contains('nocturne');
      apply(nowDark ? 'dark' : 'light');
      localStorage.setItem(KEY, nowDark ? 'dark' : 'light');
      if(shard){
        shard.classList.remove('pulse'); void shard.offsetWidth; shard.classList.add('pulse');
      }
    });

    matchMedia('(prefers-color-scheme:dark)').addEventListener('change', (e)=>{
      if(localStorage.getItem(KEY)) return;
      apply(e.matches ? 'dark' : 'light');
    });
  })();
</script>








<style>
/* --------------------------
   Lokale Bild-Overrides nur für titlepage.html
--------------------------- */
body[data-page="titlepage"] .hero-image-background {
  background-image: url("./images/hero-bg-sky_1hero-bg-sky.webp") !important;
}

body[data-page="titlepage"] .hero-image-foreground {
  background-image: url("./images/titlepage-fg.webp") !important;
}

/* Optional: Mobile- oder Tablet-Varianten */
@media (max-width: 1024px) {
  body[data-page="titlepage"] .hero-image-foreground {
    background-image: url("./images/titlepage-fg-tablet.webp") !important;
  }
}
@media (max-width: 480px) {
  body[data-page="titlepage"] .hero-image-foreground {
    background-image: url("./images/titlepage-fg-mobile.webp") !important;
  }
}
</style>



<style>/* ab 768px: leicht nach unten */
@media (min-width: 768px) {
  .hero-image-foreground {
    transform: translateY(10%);              /* dein bisheriger Versatz */
  }
}
@media (min-width: 1400px) {
  .hero-image-foreground {
    transform: translateY(15%);              /* dein bisheriger Versatz */
  }
}
@media (min-width: 1800px) {
  .hero-image-foreground {
    transform: translateY(15%);              /* dein bisheriger Versatz */
  }
}
@media (min-width: 2200px) {
  .hero-image-foreground {
    transform: translateY(7%);              /* dein bisheriger Versatz */
  }
}

  html, body {
    margin: 0;
    padding: 0;
    overflow-x: hidden;
    width: 100%;
  }

  .hero-section {
    padding: 0;
    margin: 0;
    width: 100%;
  }

  .hero-images-wrapper {
    position: relative;
    width: 100%;      /* statt 100vw, verhindert Scrollbar-Lücke links */
    min-height: 100vh;
    height: 100vh;
    overflow: hidden; /* falls Kinder minimal überstehen */
  }

  .hero-image-background,
  .hero-image-foreground {
    position: absolute;
    inset: 0;         /* top/right/bottom/left = 0 */
    width: 100%;
    max-width: none;
  }


  /* Nur Handys: Hintergrund minimal „herauszoomen“ */
@media (max-width: 767px) {
  .hero-image-foreground {
    background-position: center bottom;
    background-repeat: no-repeat;
    background-attachment: scroll;
    margin: 0 !important;                  /* falls woanders Mobile-Margins gesetzt sind */
        transform: translateY(17%);              /* dein bisheriger Versatz */
  }
}


</style>

<body>


  <section class="hero-section">
    <div class="hero-images-wrapper">
      <div class="hero-image-background"></div>
      <div class="page-title">
        <div class="container">
          <h1 class="large-title">Fusion3</h1>
        </div>
      </div>
      <div class="hero-image-foreground"></div>
    </div>
  </section>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=6877d9380337379217c72f87" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="js/webflow.js" type="text/javascript"></script>
  <script src="https://cdn.prod.website-files.com/gsap/3.13.0/gsap.min.js" type="text/javascript"></script>
  <script src="https://cdn.prod.website-files.com/gsap/3.13.0/ScrollTrigger.min.js" type="text/javascript"></script>
  <script src="https://cdn.prod.website-files.com/gsap/3.13.0/SplitText.min.js" type="text/javascript"></script>







<!-- JSON LD !!!-->



<html data-theme="light">


<section id="aurora-sheet" class="aurora-sheet container" aria-labelledby="aurora-crown" aria-describedby="aurora-chant" role="region">
  <h2 id="aurora-crown" class="aurora-title">Über Fusion3</h2>

  <p id="aurora-chant" class="aurora-subtitle">
    Wir verbinden Design, 3D und Web – für Marken, die in Erinnerung bleiben.<br>
    Kreativität trifft Technologie. Wirkung trifft Tempo.
  </p>

  <!-- Semantische Liste der Bereiche -->
  <ul class="quasar-grid" aria-label="Bereiche: Mission, Team, Vision">
    <li>
      <article class="aether-card" id="aether-mission"
               aria-labelledby="aether-mission-h"
               aria-describedby="aether-mission-k">
        <h3 id="aether-mission-h">Unsere Mission</h3>
        <p class="microtag" id="aether-mission-k">Design, Code &amp; 3D als Einheit</p>

        <ul class="delta-list" aria-label="Was uns antreibt">
          <li>
            <span class="visually-hidden">Fokus: </span>
            <span class="lead">Balance</span>
            <span class="copy">Ästhetik stützt Funktion — jede Form hat einen Zweck, jeder Pixel eine Aufgabe.</span>
          </li>
          <li>
            <span class="visually-hidden">Fokus: </span>
            <span class="lead">Erlebnis</span>
            <span class="copy">Interaktionen sind selbsterklärend, flüssig und barrierearm — Freude statt Friktion.</span>
          </li>
          <li>
            <span class="visually-hidden">Fokus: </span>
            <span class="lead">Skalierung</span>
            <span class="copy">Systeme statt Einzelstücke — wiederverwendbar, erweiterbar, performant.</span>
          </li>
        </ul>
      </article>
    </li>

    <li>
      <article class="aether-card" id="aether-crew"
               aria-labelledby="aether-crew-h"
               aria-describedby="aether-crew-k">
        <h3 id="aether-crew-h">Unser Team</h3>
        <p class="microtag" id="aether-crew-k">Interdisziplinär, kreativ &amp; technisch stark</p>

        <ul class="delta-list" aria-label="Stärken unseres Teams">
          <li>
            <span class="visually-hidden">Teamstärke: </span>
            <span class="lead">Komplementär</span>
            <span class="copy">Designer, Entwickler &amp; 3D-Artists denken als Produktteam — nicht in Silos.</span>
          </li>
          <li>
            <span class="visually-hidden">Teamstärke: </span>
            <span class="lead">Agil</span>
            <span class="copy">Kurze Feedback-Loops, klare Milestones, schnelle Entscheidungen.</span>
          </li>
          <li>
            <span class="visually-hidden">Teamstärke: </span>
            <span class="lead">Erfahren</span>
            <span class="copy">Brand, Web &amp; Motion aus einer Hand — vom Proof bis zum Rollout.</span>
          </li>
        </ul>
      </article>
    </li>

    <li>
      <article class="aether-card" id="aether-vision"
               aria-labelledby="aether-vision-h"
               aria-describedby="aether-vision-k">
        <h3 id="aether-vision-h">Unsere Vision</h3>
        <p class="microtag" id="aether-vision-k">Zukunftsorientiertes Design mit Wirkung</p>

        <ul class="delta-list" aria-label="Unsere Ziele und Visionen">
          <li>
            <span class="visually-hidden">Ziel: </span>
            <span class="lead">Emotion</span>
            <span class="copy">Visuals, die berühren — ohne die Bedienbarkeit zu kompromittieren.</span>
          </li>
          <li>
            <span class="visually-hidden">Ziel: </span>
            <span class="lead">Technologie</span>
            <span class="copy">Tools als Hebel — pragmatisch gewählt, sorgfältig integriert.</span>
          </li>
          <li>
            <span class="visually-hidden">Ziel: </span>
            <span class="lead">Nachhaltigkeit</span>
            <span class="copy">Ein konsistentes System statt Einmal-Effekt — langlebig in Form und Code.</span>
          </li>
        </ul>
      </article>
    </li>
  </ul>
</section>
<style>
/* ===== A11y Utility ===== */
.visually-hidden{
  position:absolute!important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden;
  clip:rect(0,0,0,0); white-space:nowrap; border:0;
}

/* ===== Tokens ===== */
:root{
  --space-0: 0;
  --space-1: clamp(.4rem, .3rem + .3vw, .6rem);
  --space-2: clamp(.6rem, .4rem + .5vw, .9rem);
  --space-3: clamp(1rem, .8rem + .8vw, 1.4rem);
  --space-4: clamp(1.6rem, 1.2rem + 1.2vw, 2.2rem);
  --space-5: clamp(2.4rem, 1.8rem + 1.6vw, 3.2rem);

  --radius-card: 16px;
  --focus-ring-color: color-mix(in oklab, var(--primary, #6b7cff) 90%, #000 10%);
}

/* ===== Container & Section ===== */
.container{ max-width: 1600px; margin-inline:auto; }
.aurora-sheet{
  background:#fff; color:#111; text-align:center;
  padding: clamp(3rem, 4vw, 6rem) clamp(1rem, 3vw, 2rem);
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
}
@supports (padding:max(0px)){
  .aurora-sheet{
    padding-left: max(1rem, env(safe-area-inset-left));
    padding-right: max(1rem, env(safe-area-inset-right));
  }
}

/* ===== Headline & Subline ===== */
.aurora-title{
  font-size: clamp(2rem, 1.6rem + 2.2vw, 3rem) !important;
  font-weight: 900 !important;
  letter-spacing: -0.02em !important;
  line-height: 1.12 !important;
  margin: .2rem 0 .6rem !important;
  color: #0b0c10 !important;
  text-wrap: balance !important;
}
.aurora-subtitle{
  position: relative !important;
  color:#0f1729 !important;
  max-width: 62rem !important;
  margin: 0 auto var(--space-5) !important;
  line-height: 1.78 !important;
  font-size: clamp(1.06rem, 1rem + .6vw, 1.22rem) !important;
  letter-spacing: .004em !important;
  text-wrap: pretty !important;
  padding: 1.1rem 1.2rem 1.1rem !important;
  border-radius: 14px !important;
  background: linear-gradient(180deg, rgba(15,23,41,.06), rgba(15,23,41,.03)) !important;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.7), 0 2px 8px rgba(0,0,0,.05) !important;
}

/* ===== Grid (ohne Overflow) ===== */
.quasar-grid{
  display:grid;
  grid-template-columns: 1fr; /* mobile */
  gap: clamp(1rem, 2vw, 1.6rem);
  justify-content:center;
  padding:0;
  list-style:none;
  margin-inline: auto;
  width:100%;
  max-width: min(1600px, 100% - 2rem);
}
@media (min-width: 700px) and (max-width: 1024px){
  .quasar-grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .quasar-grid > li:nth-child(3){ grid-column: 1 / -1; }
}
@media (min-width: 1025px){
  .quasar-grid{
    grid-template-columns: repeat(3, minmax(0, 1fr));
    max-width: min(1600px, 100% - 4rem);
  }
}

/* ===== Card ===== */
.aether-card{
  position:relative;
  overflow:hidden;
  border:1px solid #eee;
  border-radius: var(--radius-card);
  padding: clamp(1.2rem, 1rem + 1vw, 2rem);
  text-align:left;
  background: linear-gradient(135deg, #ffffff 0%, #ffffff 20%, #9e9e9e80 100%);
  background-size: 300% 300%;
  background-position: 0% 50%;
  color:#fff;
  box-shadow: 0 4px 16px rgba(0,0,0,.04);
  transition: transform .35s ease, box-shadow .35s ease, background-position .6s ease;
  transform-style: preserve-3d;
  content-visibility: auto;
  contain-intrinsic-size: 420px 1px;
  scroll-margin-top: 96px;

  display: flex;
  flex-direction: column;
  min-width: 0;
  overflow-wrap: anywhere;
}

/* Farbvarianten */
.quasar-grid > li:nth-child(1) .aether-card{
  --g1:#ff5100; --g2:#ff7b00;
  background: linear-gradient(135deg, var(--g1), var(--g2), var(--g1));
  background-size: 300% 300%;
}
.quasar-grid > li:nth-child(2) .aether-card{
  --g1:#0d0d0d; --g2:#1c1f2f;
  background: linear-gradient(135deg, var(--g1), var(--g2), var(--g1));
  background-size: 300% 300%;
}
.quasar-grid > li:nth-child(3) .aether-card{
  --g1:#4b00ff; --g2:#3000a3;
  background: linear-gradient(135deg, var(--g1), var(--g2), var(--g1));
  background-size: 300% 300%;
}

/* Glow & Overlay */
.aether-card::before{
  content:"";
  position:absolute; top:-50%; left:-50%; width:200%; height:200%;
  background: radial-gradient(circle at center, rgba(255,255,255,.18), transparent 70%);
  transform: scale(.5);
  opacity:0; transition: all .6s ease;
  z-index:1; pointer-events:none;
}
.aether-card::after{
  content:"";
  position:absolute; inset:0; pointer-events:none; z-index:0;
  background: linear-gradient(to bottom, rgba(0,0,0,.10), rgba(0,0,0,.14));
}
.aether-card > *{ position:relative; z-index:2; }

/* Hover (nur bei Maus) */
@media (hover:hover){
  .aether-card:hover{
    transform: translateY(-6px) scale(1.02);
    box-shadow: 0 26px 64px rgba(0,0,0,.22);
    background-position: 100% 50%;
  }
  .aether-card:hover::before{ transform: scale(1); opacity:.25; }
}

/* ===== Headings in Cards ===== */
.aether-card h3{
  font-size: clamp(1.3rem, 1.1rem + .9vw, 1.9rem) !important;
  font-weight: 800 !important;
  margin: .1rem 0 .5rem !important;
  color: #fff !important;
  letter-spacing: -.01em !important;
  text-shadow: 0 1px 2px rgba(0,0,0,.25) !important;
  text-wrap: balance !important;
}

/* ===== UX-Typo ===== */
.microtag{
  font-size: 1rem;
  color:#eef;
  opacity:.95;
  font-weight:650;
  margin: .2rem 0 1rem;
  text-shadow: 0 1px 2px rgba(0,0,0,.22);
}
.delta-list{
  list-style:none; padding:0; margin: var(--space-2) 0 var(--space-2);
  display:grid; gap:.7rem;
  max-width: 70ch;
}
.delta-list li{
  display:grid;
  grid-template-columns: 1fr;
  gap:.28rem;
  align-items:start;
  padding:.6rem 0 .8rem;
  border-top:1px solid rgba(255,255,255,.2);
}
.delta-list li:first-child{ border-top:none; }
.delta-list .lead{
  display:block;
  color:#fff;
  font-weight:950;
  letter-spacing:-.01em;
  font-size: clamp(1.06rem, 1rem + .5vw, 1.22rem);
  line-height:1.28;
  text-wrap:balance;
}
.delta-list .copy{
  display:block;
  margin-top:.2rem;
  padding:0;
  background:none; border:none;
  color: rgba(255,255,255,.96);
  font-weight:690;
  letter-spacing:-.002em;
  font-size: clamp(1.02rem, .98rem + .35vw, 1.16rem);
  line-height:1.7;
  text-wrap:pretty;
  hyphens:auto;
  max-width: 62ch;
  text-shadow: 0 1px 2px rgba(0,0,0,.18);
}

/* Abschließende Benefit-Zeile (optional nutzbar) */
.benefit-line{
  margin-top: auto;
  font-size: clamp(1.06rem, 1rem + .5vw, 1.24rem);
  line-height: 1.32;
  color:#fff;
  font-weight:950;
  letter-spacing:-.01em;
  text-wrap:balance;
  text-shadow: 0 1px 2px rgba(0,0,0,.22);
  max-width: 62ch;
}

/* ===== Layout Tweaks ===== */
@media (min-width:1200px){
  .aurora-sheet{ padding: clamp(4rem, 5vw, 8rem) clamp(1.25rem, 3vw, 3rem); }
}
@media (max-width:768px){
  .delta-list{ max-width: 100%; }
}

/* ===== Fokus & Interaktion ===== */
:where(a, button, [tabindex]:not([tabindex="-1"])):focus-visible,
.aether-card:focus-within{
  outline: 3px solid var(--focus-ring-color);
  outline-offset: 4px;
}
.aether-card { scroll-margin-top: 96px; }

/* ===== Reduced motion ===== */
@media (prefers-reduced-motion: reduce){
  .aether-card,
  .quasar-grid{ transition: none !important; animation: none !important; }
}

/* ===== High Contrast / Forced Colors ===== */
@media (forced-colors: active){
  .aether-card,
  .aether-card h3,
  .delta-list .lead,
  .delta-list .copy{
    text-shadow: none !important;
    box-shadow: none !important;
    background: Canvas !important;
    color: CanvasText !important;
    border-color: ButtonText !important;
  }
  .aether-card:focus-within{ outline-color: Highlight !important; }
}

/* ===== Dark Mode ===== */
:root[data-theme="dark"] #aurora-sheet.aurora-sheet{
  background:#000; color:#fff;
}
:root[data-theme="dark"] .aurora-subtitle{
  color:#fff !important;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03)) !important;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.18), 0 2px 8px rgba(0,0,0,.35) !important;
}

/* ===== Sichtbarkeits-/Höhen-Fallbacks ===== */
#aurora-sheet .aether-card{
  height: 100%;
  contain-intrinsic-size: 0 460px;
}
@supports (content-visibility:auto){
  @media (min-width: 1025px){
    #aurora-sheet .quasar-grid > li:nth-child(-n+3) .aether-card{
      content-visibility: visible;
      contain-intrinsic-size: auto;
    }
  }
  @media (min-width: 700px) and (max-width: 1024px){
    #aurora-sheet .quasar-grid > li:nth-child(-n+2) .aether-card{
      content-visibility: visible;
      contain-intrinsic-size: auto;
    }
  }
  @media (max-width: 699px){
    #aurora-sheet .quasar-grid > li:nth-child(1) .aether-card{
      content-visibility: visible;
      contain-intrinsic-size: auto;
    }
  }
}

/* Gemeinsamer Gutter */
:root { --aurora-gutter: 1rem; }
.aurora-sheet {
  padding-left: max(var(--aurora-gutter), env(safe-area-inset-left));
  padding-right: max(var(--aurora-gutter), env(safe-area-inset-right));
}
@media (max-width: 600px){
  .aurora-subtitle{
    display:block;
    width:100%;
    max-width:none;
    margin: 0 0 var(--space-5) 0;
  }
  .quasar-grid{
    grid-template-columns: 1fr;
    width:100%;
    max-width:none;
    margin: 0;
    padding-inline: 0;
  }
  .quasar-grid > li, .aether-card{ min-width: 0; }
}

/* ==== Dark Mode: Titel & Untertitel ==== */
:root[data-theme="dark"] #aurora-sheet.aurora-sheet{
  background: #000000;  /* leicht angehobenes Schwarz für bessere Lesbarkeit */
  color: #f6f8ff;
}

/* Überschrift */
:root[data-theme="dark"] .aurora-title{
  color: #ffffff !important;
  text-shadow: 0 1px 2px rgba(0,0,0,.35) !important;
}

/* Unterzeile (verfeinert) */
:root[data-theme="dark"] .aurora-subtitle{
  color: #e8eeff !important; /* etwas softer als reines Weiß */
  background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.035)) !important;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.22),
    0 2px 8px rgba(0,0,0,.45) !important;
  border: 1px solid rgba(255,255,255,.08) !important;
}

/* Optional: Auto-Dark, falls du kein data-theme setzt */
@media (prefers-color-scheme: dark){
  #aurora-sheet.aurora-sheet:not([data-theme]){
    background: #0a0c12; color:#f6f8ff;
  }
  :not([data-theme]) .aurora-title{
    color:#ffffff !important;
    text-shadow: 0 1px 2px rgba(0,0,0,.35) !important;
  }
  :not([data-theme]) .aurora-subtitle{
    color:#e8eeff !important;
    background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.035)) !important;
    box-shadow:
      inset 0 1px 0 rgba(255,255,255,.22),
      0 2px 8px rgba(0,0,0,.45) !important;
    border: 1px solid rgba(255,255,255,.08) !important;
  }


/* 2) Auto-Dark nur anwenden, wenn das ROOT kein data-theme hat */
@media (prefers-color-scheme: dark){
  /* vorher: :not([data-theme]) .aurora-title  (zu breit)
     besser: nur wenn das ROOT kein data-theme trägt */
  :root:not([data-theme]) #aurora-sheet {
    background: #0a0c12;
    color: #f6f8ff;
  }
  :root:not([data-theme]) #aurora-sheet .aurora-title{
    color:#ffffff !important;
    text-shadow: 0 1px 2px rgba(0,0,0,.35) !important;
  }
  :root:not([data-theme]) #aurora-sheet .aurora-subtitle{
    color:#e8eeff !important;
    background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.035)) !important;
    box-shadow:
      inset 0 1px 0 rgba(255,255,255,.22),
      0 2px 8px rgba(0,0,0,.45) !important;
    border: 1px solid rgba(255,255,255,.08) !important;
  }
}

/* 3) Force-Light für diese Section (falls du sicher IMMER hell willst) */
#aurora-sheet {
  background:#fff;
  color:#0b0c10;
  color-scheme: light;          /* Safari/iOS: Form-Controls etc. nicht auto-dunkeln */
}
:root[data-theme="dark"] #aurora-sheet[data-force-light],
:root:not([data-theme]) #aurora-sheet[data-force-light]{
  /* harte Bremse gegen alle Dark-Regeln */
  background:#fff !important;
  color:#0b0c10 !important;
}

</style>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebPage",
      "@id": "https://example.com/ueber-fusion3/#webpage",
      "url": "https://example.com/ueber-fusion3/",
      "name": "Über Fusion3 — Design, 3D & Web",
      "inLanguage": "de",
      "isPartOf": {
        "@type": "WebSite",
        "@id": "https://example.com/#website",
        "url": "https://example.com/"
      },
      "description": "Wir verbinden Design, 3D und Web – für Marken, die in Erinnerung bleiben. Kreativität trifft Technologie. Wirkung trifft Tempo.",
      "primaryImageOfPage": {
        "@type": "ImageObject",
        "url": "https://example.com/assets/og/ueber-fusion3.jpg"
      },
      "mainEntity": { "@id": "https://example.com/ueber-fusion3/#mission-team-vision" }
    },
    {
      "@type": "ItemList",
      "@id": "https://example.com/ueber-fusion3/#mission-team-vision",
      "name": "Mission, Team & Vision",
      "inLanguage": "de",
      "itemListOrder": "http://schema.org/ItemListOrderAscending",
      "numberOfItems": 3,
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "item": {
            "@type": "WebPageElement",
            "@id": "https://example.com/ueber-fusion3/#aether-mission",
            "url": "https://example.com/ueber-fusion3/#aether-mission",
            "name": "Unsere Mission",
            "description": "Design, Code & 3D als Einheit — Balance, Erlebnis und skalierbare Systeme."
          }
        },
        {
          "@type": "ListItem",
          "position": 2,
          "item": {
            "@type": "WebPageElement",
            "@id": "https://example.com/ueber-fusion3/#aether-crew",
            "url": "https://example.com/ueber-fusion3/#aether-crew",
            "name": "Unser Team",
            "description": "Interdisziplinär, agil und erfahren — Designer, Entwickler & 3D-Artists als Produktteam."
          }
        },
        {
          "@type": "ListItem",
          "position": 3,
          "item": {
            "@type": "WebPageElement",
            "@id": "https://example.com/ueber-fusion3/#aether-vision",
            "url": "https://example.com/ueber-fusion3/#aether-vision",
            "name": "Unsere Vision",
            "description": "Zukunftsorientiertes Design mit Wirkung — Emotion, Technologie und Nachhaltigkeit."
          }
        }
      ]
    }
  ]
}
</script>
















<style>
  :root {
    --primary: #ff6600;
    --text-main: #1c1c1e;
    --text-subtle: #555;
    --bg-card: #ffffff;
    --grain-url: url("https://grainy-gradients.vercel.app/noise.svg");
  }

  /* ===============================
     Cosmos Suite – Basis (Light)
     =============================== */
  .cosmos-suite {
    padding: 6rem 2rem;
    background: transparent;
    color: var(--text-main);
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    transition: background-color .25s ease, color .25s ease;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-feature-settings: "liga","calt","ss01";
  }

  .cosmos-suite h2 {
    font-size: clamp(2rem, 1.6rem + 2.2vw, 3rem);
    text-align: center;
    color: var(--text-main);
    font-weight: 900;
    letter-spacing: -0.02em;
    line-height: 1.12;
    text-wrap: balance;
    transition: color .25s ease;
    margin-bottom: 5rem;
  }

  .orbit-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 1rem;
    max-width: 1200px;
    margin: 0 auto;
  }

  .module-card {
    position: relative;
    background: linear-gradient(135deg, #ffffff 0%, #ffffff 20%, #9e9e9e80 100%);
    border-radius: 16px;
    padding: 2.5rem;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
    overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  }
  .module-card::before {
    content: "";
    position: absolute;
    inset: 0;
    background-image: var(--grain-url);
    opacity: 0.05;
    z-index: 1;
    pointer-events: none;
    transition: opacity 0.3s ease;
  }
  .module-card .payload { position: relative; z-index: 2; }

  .module-card h3{
    font-size: clamp(1.25rem, 1.1rem + 0.6vw, 1.7rem);
    margin-bottom: .6rem;
    font-weight: 800;
    color: var(--text-main);
    letter-spacing: -0.015em;
    line-height: 1.15;
    text-wrap: balance;
  }

  /* Listen – Grundstil */
  .module-card ul{
    list-style: none;
    padding: 0;
    margin: .25rem 0 0 0;
    color: color-mix(in oklab, currentColor 78%, transparent);
    font-size: clamp(.98rem, .92rem + .25vw, 1.06rem);
    line-height: 1.8;
    max-width: 62ch;
  }
  .module-card ul li { margin-bottom: .8rem; }

  .module-card { display: flex; flex-direction: column; }
  .module-card .payload { display: flex; flex-direction: column; flex-grow: 1; justify-content: space-between; }

  /* CTA (Originalstil beibehalten) */
  .warp-cta {
    display: inline-block;
    margin-top: 2rem;
    font-size: .95rem;
    font-weight: 600;
    letter-spacing: .01em;
    color: rgb(255, 255, 255);
    text-decoration: none;
    border: 1px solid rgb(255, 255, 255);
    background-color: hwb(0 87% 13% / 0);
    padding: 0.6rem 1.3rem;
    border-radius: 8px;
    transition: all 0.3s ease;
    align-self: flex-start;
    margin-bottom: 1rem;
  }
  .warp-cta:hover {
    background-color: hwb(0 0% 100% / 0.055);
    box-shadow: 0 0 0 2px rgb(255, 255, 255);
  }

  @media (max-width: 375px) {
    .orbit-grid { grid-template-columns: 1fr; gap: 2rem; }
    .module-card { padding: 2rem 1.2rem; border-radius: 16px; }
    .module-card h3 { font-size: 1.2rem; }
    .module-card ul { font-size: 0.95rem; }
    .warp-cta { display: block; width: 100%; text-align: center; font-size: 0.95rem; padding: 0.8rem 1rem; }
  }

  @media (max-width: 320px) {
    .module-card { padding: 1.5rem 1rem; }
    .warp-cta { font-size: 0.9rem; padding: 0.7rem 1rem; }
  }

  /* Ab 1152px anzeigen und zweifache Breite */
  @media (min-width: 1152px) {
    .orbit-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 2rem;
      align-items: stretch;
    }
    .module-card { display: block; }
    .cinema-card { display: block; grid-column: span 2; height: 100%; }
  }

  @media (min-width: 1300px) {
    .orbit-grid {
      max-width: 1300px;
      grid-template-columns: repeat(3, minmax(380px, 1fr));
      gap: 4rem;
      justify-content: center;
    }
  }

  @media (min-width: 1600px) {
    .cosmos-suite { padding: 6rem 2rem; }
    .cosmos-suite h2 { font-size: 3rem; margin-bottom: 5rem; }
    .orbit-grid {
      max-width: 1800px;
      grid-template-columns: repeat(3, minmax(460px, 1fr));
      gap: 4rem;
      justify-content: center;
    }
    .module-card { padding: 2.5rem; border-radius: 18px; }
    .module-card h3 { font-size: 1.6rem; margin-bottom: 1.2rem; }
    .module-card ul { font-size: 1.05rem; line-height: 1.75; }
    .module-card ul li { margin-bottom: 0.8rem; }
    .warp-cta { font-size: 1rem; padding: 0.7rem 1.4rem; border-radius: 8px; color: #ffffff;}
  }

  /* Individuelle Farben je Modul (Gradients + weißer Text) */
  .module-card:nth-child(1) {
    background: linear-gradient(270deg, #04006c, #6f00ff, #050088);
    background-size: 600% 600%;
    color: #fff;
  }
  .module-card:nth-child(2) {
    background: linear-gradient(135deg, #0d0d0d, #000e5c, #0d0d0d);
    background-size: 300% 300%;
    color: #fff;
  }
  .module-card:nth-child(3) {
    background: linear-gradient(135deg, #ff5100, hwb(340 0% 0%), #ff5100);
    background-size: 400% 400%;
    color: #fff;
  }
  .module-card:nth-child(4) {
    background: linear-gradient(135deg, #0d0d0d, #000e5c, #0d0d0d);
    background-size: 300% 300%;
    color: #fff;
  }

  /* Basisstil (zusammengeführt) */
  .module-card {
    position: relative;
    overflow: hidden;
    transition: transform 0.4s ease, box-shadow 0.4s ease;
    background-position: 0% 50%;
    will-change: transform, box-shadow, background-position;
    padding: 2.5rem;
    border-radius: 18px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }

  /* Glanz-Overlay */
  .module-card::before {
    content: "";
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle at center, rgba(255, 255, 255, 0.18), transparent 70%);
    transform: scale(0.5);
    opacity: 0;
    transition: all 0.6s ease;
    pointer-events: none;
    z-index: 1;
  }
  .module-card:hover::before { transform: scale(1); opacity: 0.25; }
  .module-card:hover {
    transform: translateY(-8px) scale(1.035);
    box-shadow: 0 30px 60px rgba(0, 0, 0, 0.4);
    animation: moduleGradientPulse 0.5s ease 1 forwards;
    background-position: 100% 50%;
    z-index: 10;
  }
  @keyframes moduleGradientPulse {
    0% { background-position: 0% 50%; }
    100% { background-position: 100% 50%; }
  }

  /* Textfarben dynamisch über inherit halten */
  .module-card .payload,
  .module-card h3,
  .module-card ul,
  .module-card ul li{
    position: relative;
    z-index: 2;
    color: inherit;
  }

  /* Titel-Optik (zweiter Block konsistent) */
  .module-card h3 {
    font-size: clamp(1.25rem, 1.1rem + 0.6vw, 1.7rem);
    margin-bottom: .6rem;
    font-weight: 800;
    letter-spacing: -0.015em;
  }

  /* Listen (zweiter Block konsistent) – Basis */
  .module-card ul { list-style: none; padding: 0; margin: .25rem 0 0 0; font-size: clamp(.98rem, .92rem + .25vw, 1.06rem); line-height: 1.8; }
  .module-card ul li { margin-bottom: 0.8rem; }

  @media (min-width: 1152px) {
    .module-card:nth-child(2) { grid-column: span 2; }
    .module-card:nth-child(3) { grid-column: span 2; }
  }

  .overlay-art { position: absolute; bottom: 0rem; right: 1rem; z-index: 3; }
  .overlay-art img { width: 480px; height: auto; opacity: 1; transition: opacity 0.3s ease; }
  .module-card:hover .overlay-art img { opacity: 1; }
  .module-card:nth-child(2) .overlay-art { bottom: -0.5rem; }
  .module-card:nth-child(3) .overlay-art { bottom: -2.3rem; }

  /* Planet/3D-Deko */
  .planet-sprite {
    position: absolute;
    bottom: -11.5rem;
    right: -8rem;
    width: 140px;
    height: auto;
    opacity: 0;
    transform: scale(1.25);
    pointer-events: none;
    z-index: 2;
    transform-origin: center;
    transition: opacity 0.6s ease, transform 0.6s ease;
  }
  .stellar-3d:hover .planet-sprite,
  .stellar-3d.clicked .planet-sprite { opacity: 1; animation: planetGrow 1.2s ease-out forwards; }
  @keyframes planetGrow { 0% { transform: scale(1.25); } 100% { transform: scale(1.32); } }

  .orbit-shell {
    position: absolute;
    bottom: 2.5rem;
    right: 4rem;
    width: 490px;
    height: 490px;
    z-index: 2;
    pointer-events: none;
    transform-origin: center;
  }
  .stellar-3d:hover .orbit-shell,
  .stellar-3d.clicked .orbit-shell { animation: planetRotate 16s ease-in-out infinite; }
  @keyframes planetRotate { 0% { transform: rotate(0deg); } 40% { transform: rotate(10deg); } 100% { transform: rotate(0deg); } }

  @media (max-width: 1151px) {
    .overlay-art img:not(.planet-sprite) { display: none !important; }
  }
  @media (max-width: 1299px) and (min-width: 1151px) {
    .module-card:nth-child(2) .overlay-art { right: -2rem; }
    .module-card:nth-child(3) .overlay-art { right: -2rem; }
  }
  @media (max-width: 1299px) {
    .orbit-shell, .planet-sprite { display: none !important; }
  }

  /* ===============================
     Dark Mode scoped NUR für #nebula-hub.cosmos-suite
     =============================== */
  :root[data-theme="dark"] #nebula-hub.cosmos-suite { background: #000; color: #fff; }
  :root[data-theme="dark"] #nebula-hub.cosmos-suite h2 { color: #fff; }

  /* Auto-Mode respektiert System-Dark */
  @media (prefers-color-scheme: dark) {
    :root[data-theme="auto"] #nebula-hub.cosmos-suite { background: #000; color: #fff; }
    :root[data-theme="auto"] #nebula-hub.cosmos-suite h2 { color: #fff; }
  }

  .cosmos-suite .subline{
    text-align:center;
    margin:-4rem 0 3rem;
    font-size:1.1rem;
    color:#666;
  }
  :root[data-theme="dark"] #nebula-hub.cosmos-suite .subline{ color:#bbb; }
  @media (prefers-color-scheme: dark){
    :root[data-theme="auto"] #nebula-hub.cosmos-suite .subline{ color:#bbb; }
  }
  .cosmos-suite.cluster{ max-width:1400px; margin:0 auto; }

  @media (max-width: 600px){
    .cosmos-suite{ padding:4rem 1rem; }
    .orbit-grid{
      grid-template-columns: 1fr;
      max-width: 640px;
      margin: 0 auto;
      gap: 2rem;
      justify-items: center; /* Karten mittig ausrichten */
    }
    .module-card{ margin-inline:auto; }
  }
  :root[data-theme="dark"] #sectorscape .profile-tile{ border:1px solid rgba(255,255,255,.35); }
  @media (prefers-color-scheme: dark){
    :root[data-theme="auto"] #sectorscape .profile-tile{ border:1px solid rgba(255,255,255,.35); }
  }
  :root[data-theme="dark"] #nebula-hub .module-card{ border:1px solid rgba(255,255,255,.35); }
  @media (prefers-color-scheme: dark){
    :root[data-theme="auto"] #nebula-hub .module-card{ border:1px solid rgba(255,255,255,.35); }
  }

  .cosmos-suite h2{
    margin-bottom: .8rem;
    font-weight: 900;
    letter-spacing: -0.02em;
  }

  /* Subline – Typo veredelt */
  #nebula-hub .subline{
    font-size: clamp(1.06rem, 1rem + .6vw, 1.22rem);
    line-height: 1.78;
    letter-spacing: .004em;
    color: #666;
    margin-bottom: 4rem;
    text-align: center;
    text-wrap: pretty;
  }

  :root[data-theme="dark"] #nebula-hub .subline,
  :root[data-theme="dark"] #nebula-hub h2{ color:#fff; }

  @media (prefers-color-scheme: dark){
    :root[data-theme="auto"] #nebula-hub .subline,
    :root[data-theme="auto"] #nebula-hub h2{ color:#fff; }
  }

  /* Astronaut sicher über dem Planeten */
  .overlay-art { position: absolute; bottom: 0rem; right: 1rem; z-index: 3; }
  .overlay-art .astronaut-sprite{ position: relative; z-index: 4; display: block; }
  .orbit-shell{ z-index: 2; }
  .planet-sprite{ z-index: 2; }

  @media (min-width: 375px) and (max-width: 600px) {
    .module-card {
      width: 90%;
      margin-inline: auto;
      padding: 2rem 1.2rem;
      border-radius: 16px;
    }
    .module-card h3 { font-size: 1.4rem; }
    .module-card ul { font-size: 1rem; line-height: 1.7; }
    .warp-cta {
      display: block;
      width: 100%;
      text-align: center;
      font-size: 0.95rem;
      padding: 0.8rem 1rem;
    }
  }

  #nebula-hub .orbit-grid{ perspective:1000px }
  #nebula-hub .module-card{ transform-style: flat; backface-visibility: visible; }
  @media (hover:hover){
    #nebula-hub .module-card:hover{
      transform: translateY(-6px);
      box-shadow: 0 18px 46px rgba(0,0,0,.22);
    }
  }
  @media (prefers-reduced-motion: reduce){
    #nebula-hub .module-card, #nebula-hub .orbit-grid{ transition: none !important; animation: none !important }
  }

  #nebula-hub .overlay-art{
    background: transparent !important;
    inset: auto !important;
    bottom: 0rem !important;
    right: 1rem !important;
    left: auto !important;
    top: auto !important;
    z-index: 3;
  }
  #nebula-hub .overlay-art img{ width:480px; height:auto; }

  #nebula-hub .module-card{
    font-feature-settings: "liga","calt","ss01";
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  #nebula-hub .module-card h3{
    font-size: clamp(1.25rem, 1.1rem + 0.6vw, 1.7rem);
    letter-spacing: -0.015em;
    line-height: 1.15;
    margin-bottom: .4rem;
    color: inherit;
  }

  /* ===== Aurora-typography alignment for Cosmos Suite ===== */
  .cosmos-suite .headline{
    font-size: clamp(2rem, 1.6rem + 2.2vw, 3rem) !important;
    font-weight: 900 !important;
    letter-spacing: -0.02em !important;
    line-height: 1.12 !important;
    margin: .2rem 0 .6rem !important;
    color: #0b0c10 !important;
    text-wrap: balance !important;
  }
  .cosmos-suite .subline{
    position: relative !important;
    color:#0f1729 !important;
    max-width: 62rem !important;
    margin: 0 auto 2.6rem !important;
    line-height: 1.78 !important;
    font-size: clamp(1.06rem, 1rem + .6vw, 1.22rem) !important;
    letter-spacing: .004em !important;
    text-wrap: pretty !important;
    padding: 1.1rem 1.2rem 1.1rem !important;
    border-radius: 14px !important;
    background: linear-gradient(180deg, rgba(15,23,41,.06), rgba(15,23,41,.03)) !important;
    box-shadow: inset 0 1px 0 rgba(255,255,255,.7), 0 2px 8px rgba(0,0,0,.05) !important;
  }
  /* Card headings + copy like Aurora cards */
  #nebula-hub .module-card ul{
    margin-top: .25rem;
    font-size: clamp(1.02rem, .98rem + .35vw, 1.16rem) !important;
    line-height: 1.7 !important;
    color: color-mix(in oklab, currentColor 92%, transparent) !important;
    text-wrap: pretty;
  }
  #nebula-hub .module-card ul li{
    position: relative;
    display: block;
    margin: 0;
    padding: .7rem 0 .9rem !important;  /* Copy-Spacing */
    background: none;
    border: 0;
    color: rgba(255,255,255,.96) !important;
    font-weight: 690 !important;
    letter-spacing: -.002em !important;
    font-size: clamp(1.02rem, .98rem + .35vw, 1.16rem) !important;
    line-height: 1.7 !important;
    text-wrap: pretty !important;
    hyphens: auto !important;
    max-width: 62ch !important;
    text-shadow: 0 1px 2px rgba(0,0,0,.18) !important;
  }
  /* Divider wie Aurora */
  #nebula-hub .module-card ul li + li{
    border-top: 1px solid rgba(255,255,255,.22) !important;
    position: relative;
  }
  #nebula-hub .module-card ul li + li::after{
    content: "";
    position: absolute;
    left: 0;
    right: clamp(160px, 24vw, 360px);
    top: -1px;
    height: 1px;
    background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,.55) 35%, rgba(255,255,255,.18) 65%, transparent 100%);
    opacity: .8;
    pointer-events: none;
  }

  /* ——— Video-Card: füllt die komplette Karte ——— */
  #nebula-hub .module-card.cinema-card{ padding: 0; min-height: 280px; display: block; }
  #nebula-hub .module-card.cinema-card::before{ display:none; }
  #nebula-hub .module-card.cinema-card video{
    position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; object-position: center;
  }

  @media (min-width: 1152px){
    #nebula-hub .orbit-grid > .module-card:nth-child(4){ grid-column: 3 / span 1 !important; }
    #nebula-hub .orbit-grid{ grid-auto-flow: row dense; }
  }
  @media (max-width: 1599px) {
    #nebula-hub .module-card:nth-child(3) .overlay-art { right: -4rem !important; bottom: -3rem !important; }
  }
  @media (min-width: 1600px) {
    #nebula-hub .module-card:nth-child(3) .overlay-art { right: -1rem !important; bottom: -2.5rem !important; }
  }

  /* ===============================
     h3 wie Aurora .aether-card h3
     =============================== */
  #nebula-hub .module-card h3 {
    font-size: clamp(1.3rem, 1.1rem + .9vw, 1.9rem) !important;
    font-weight: 800 !important;
    margin: .1rem 0 .5rem !important;
    color: #fff !important;
    letter-spacing: -0.01em !important;
    text-shadow: 0 1px 2px rgba(0,0,0,.25) !important;
    line-height: 1.2 !important;
    text-wrap: balance !important;
  }
  /* ============== HARD NORMALIZE: identischer Start aller Listen ============== */
  #nebula-hub .module-card .payload > h3{
    /* fester Abstand unter H3 – überall gleich */
    margin: .1rem 0 .6rem !important;
    line-height: 1.2 !important;
  }

  /* Liste bekommt den Start-Offset – kein margin, nur padding */
  #nebula-hub .module-card .payload > ul{
    margin: 0 !important;
    padding: .7rem 0 0 0 !important;  /* Startabstand definiert */
    list-style: none !important;
  }

  /* Copy-Style für alle LI + konsistente Innenabstände */
  #nebula-hub .module-card .payload > ul > li{
    margin: 0 !important;
    padding: .7rem 0 .9rem !important; /* Top/Bottom identisch in allen Karten */
    display: block !important;
    position: relative;

    /* Typo wie Aurora .copy */
    color: rgba(255,255,255,.96) !important;
    font-weight: 690 !important;
    letter-spacing: -.002em !important;
    font-size: clamp(1.02rem, .98rem + .35vw, 1.16rem) !important;
    line-height: 1.7 !important;
    text-wrap: pretty !important;
    hyphens: auto !important;
    max-width: 62ch !important;
    text-shadow: 0 1px 2px rgba(0,0,0,.18) !important;

    /* keine Restbullets/Indents */
    background: none !important;
    border: 0 !important;
  }

  /* Divider ab dem 2. LI */
  #nebula-hub .module-card .payload > ul > li + li{
    border-top: 1px solid rgba(255,255,255,.22) !important;
  }
  #nebula-hub .module-card .payload > ul > li + li::after{
    content: "";
    position: absolute;
    left: 0;
    right: clamp(160px, 24vw, 360px);
    top: -1px;
    height: 1px;
    background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,.55) 35%, rgba(255,255,255,.18) 65%, transparent 100%);
    opacity: .8;
    pointer-events: none;
  }

  /* SAFETY: Falls irgendwo ein extra margin im UL steckt (alte Regeln) */
  #nebula-hub .module-card ul{ margin: 0 !important; }

  /* ===== FINAL LOCK: Einheitlicher Listenstart in allen Cards ===== */
  #nebula-hub { 
    --list-start: .7rem;      /* Abstand von h3 zur Liste */
    --li-pt: .7rem;           /* Top-Padding je LI */
    --li-pb: .9rem;           /* Bottom-Padding je LI */
  }

  /* H3 unten überall gleich – letzte Instanz gewinnt */
  #nebula-hub .module-card .payload > h3 {
    margin: .1rem 0 .6rem !important;
    line-height: 1.2 !important;
  }

  /* Liste: niemals margin, nur definierter Start via padding */
  #nebula-hub .module-card .payload > ul {
    margin: 0 !important;
    padding: var(--list-start) 0 0 0 !important;
    list-style: none !important;
    display: block !important;
    box-sizing: border-box !important;
  }

  /* LI: deterministische Innenabstände + Copy-Typo */
  #nebula-hub .module-card .payload > ul > li {
    margin: 0 !important;
    padding: var(--li-pt) 0 var(--li-pb) !important;
    display: block !important;
    position: relative;

    color: rgba(255,255,255,.96) !important;
    font-weight: 690 !important;
    letter-spacing: -.002em !important;
    font-size: clamp(1.02rem, .98rem + .35vw, 1.16rem) !important;
    line-height: 1.7 !important;
    text-wrap: pretty !important;
    hyphens: auto !important;
    max-width: 62ch !important;
    text-shadow: 0 1px 2px rgba(0,0,0,.18) !important;

    background: none !important;
    border: 0 !important;
    box-sizing: border-box !important;
  }

  /* Divider ab dem 2. LI – bleibt gleich */
  #nebula-hub .module-card .payload > ul > li + li {
    border-top: 1px solid rgba(255,255,255,.22) !important;
  }
  #nebula-hub .module-card .payload > ul > li + li::after {
    content: "";
    position: absolute;
    left: 0;
    right: clamp(160px, 24vw, 360px);
    top: -1px;
    height: 1px;
    background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,.55) 35%, rgba(255,255,255,.18) 65%, transparent 100%);
    opacity: .8;
    pointer-events: none;
  }

  /* WICHTIG: alle älteren UL-Top-Margins in der Sektion neutralisieren */
  #nebula-hub :is(.module-card) :is(ul){
    margin-top: 0 !important;
  }

  /* === VIDEO-KARTE SICHTBAR MACHEN (Mobile) === */
  #nebula-hub .module-card.cinema-card{
    position: relative;
    padding: 0;
    aspect-ratio: 16 / 9;   /* sorgt für echte Höhe auf Mobile */
    min-height: auto;
    overflow: hidden;
  }
  #nebula-hub .module-card.cinema-card::before{ display:none; }
  #nebula-hub .module-card.cinema-card video{
    position: absolute; inset: 0;
    width: 100%; height: 100%;
    display: block;
    object-fit: cover; object-position: center;
    z-index: 0;
  }

  /* Mobile: sicher 1 Spalte & zentriert */
  @media (max-width: 600px){
    #nebula-hub .orbit-grid{
      grid-template-columns: 1fr !important;
      justify-items: center; /* Karten mittig */
    }
    #nebula-hub .module-card{
      width: 100%;
      max-width: 600px;
      margin-inline: auto;
    }
  }

  /* Desktop: Video optional wieder höher ziehen */
  @media (min-width: 1152px){
    #nebula-hub .module-card.cinema-card{
      aspect-ratio: auto;
      min-height: 360px;
    }
  }

  /* iOS/Safari Edge-Case */
  #nebula-hub .module-card.cinema-card video[paused]{ opacity: 1; }

  /* ===============================
   COSMOS SUITE — Dark Mode Fix
   Hintergrund immer #000 + Headline/Subline anpassen
   =============================== */

/* Expliziter Dark Mode via data-theme="dark" */
:root[data-theme="dark"] #nebula-hub.cosmos-suite{
  background: #000 !important;
  color: #fff !important;
}

/* Headline (h2 oder .headline) auf Weiß */
:root[data-theme="dark"] #nebula-hub.cosmos-suite h2,
:root[data-theme="dark"] #nebula-hub .headline{
  color: #fff !important;
  text-shadow: 0 1px 2px rgba(0,0,0,.35) !important;
}

/* Subline: helle Schrift + dezenter, dunkler Glas-Look auf Schwarz */
:root[data-theme="dark"] #nebula-hub .subline{
  color: #e8eeff !important;
  background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.035)) !important;
  border: 1px solid rgba(255,255,255,.08) !important;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.22),
    0 2px 8px rgba(0,0,0,.45) !important;
  border-radius: 14px !important;
}

/* Optional: System-Dark respektieren, wenn du data-theme="auto" nutzt */
@media (prefers-color-scheme: dark){
  :root[data-theme="auto"] #nebula-hub.cosmos-suite{
    background: #000 !important;
    color: #fff !important;
  }
  :root[data-theme="auto"] #nebula-hub.cosmos-suite h2,
  :root[data-theme="auto"] #nebula-hub .headline{
    color: #fff !important;
    text-shadow: 0 1px 2px rgba(0,0,0,.35) !important;
  }
  :root[data-theme="auto"] #nebula-hub .subline{
    color: #e8eeff !important;
    background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.035)) !important;
    border: 1px solid rgba(255,255,255,.08) !important;
    box-shadow:
      inset 0 1px 0 rgba(255,255,255,.22),
      0 2px 8px rgba(0,0,0,.45) !important;
    border-radius: 14px !important;
  }
}
/* 1) Drei Karten nebeneinander (≥1152px): Video über alle 3 Spalten */
@media (min-width: 1152px){
  #nebula-hub .orbit-grid{
    grid-template-columns: repeat(3, 1fr) !important;
    align-items: stretch; /* gleiche Zeilenhöhe */
  }
  #nebula-hub .module-card.cinema-card{
    grid-column: 1 / -1 !important;  /* volle Breite über 3 Spalten */
    aspect-ratio: auto !important;   /* keine fixe Höhe */
    min-height: 360px;               /* optionaler Mindestwert */
    position: relative;
  }
  #nebula-hub .module-card.cinema-card > video{
    position: absolute; inset: 0; width: 100%; height: 100%;
    object-fit: cover; object-position: center;
  }
}

/* 2) Steht das Video neben einer Karte (typisch 2 Spalten: 700–1151px),
      dann gleiche Höhe wie die Nachbar-Karte */
@media (min-width: 700px) and (max-width: 1151px){
  #nebula-hub .orbit-grid{ align-items: stretch; }
  #nebula-hub .module-card{ height: 100%; } /* Karten füllen die Zeilenhöhe */
  #nebula-hub .module-card.cinema-card{
    aspect-ratio: auto !important;  /* fixe Ratio aus Mobile deaktivieren */
    align-self: stretch;             /* dehnt sich auf Zeilenhöhe */
    position: relative;
  }
  #nebula-hub .module-card.cinema-card > video{
    position: absolute; inset: 0; width: 100%; height: 100%;
    object-fit: cover; object-position: center;
  }
}
/* === COSMOS SUITE – Stage bei 1600px deckeln + konstanter Außenabstand === */
:root{
  --cosmos-stage: 1600px;   /* maximale Bühnenbreite */
  --cosmos-gutter: 2rem;    /* fester Außenabstand je Seite */
}

/* Fester Außenabstand (respektiert Notch/Safe-Area) */
#nebula-hub.cosmos-suite{
  padding-left:  max(var(--cosmos-gutter), env(safe-area-inset-left));
  padding-right: max(var(--cosmos-gutter), env(safe-area-inset-right));
}

/* Grid zentrieren und bei 1600px klemmen */
#nebula-hub .orbit-grid{
  max-width: var(--cosmos-stage) !important;
  margin-inline: auto !important;
}

/* Ab 1152px 3 Spalten (deine Logik bleibt), aber innerhalb der 1600px-Stage */
@media (min-width: 1152px){
  #nebula-hub .orbit-grid{
    grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
    gap: 2rem !important; /* du kannst 4rem lassen, wenn du magst */
  }
}

/* Alle größeren Breakpoints hart auf 1600px halten */
@media (min-width: 1300px){
  #nebula-hub .orbit-grid{
    max-width: var(--cosmos-stage) !important;
    /* optional: etwas größerer Gap, wenn gewünscht */
    gap: 3rem !important;
  }
}

@media (min-width: 1600px){
  #nebula-hub .orbit-grid{
    max-width: var(--cosmos-stage) !important; /* überschreibt dein 1800px */
    /* Stell sicher, dass die Karten nicht weiter wachsen als die Stage */
    grid-template-columns: repeat(3, minmax(460px, 1fr)) !important; /* passt zu deiner Typo */
    gap: 3rem !important; /* oder 4rem, wenn der Platz reicht */
  }
}

/* Mobile bleibt wie definiert; optional: einheitlicher Außenabstand auch hier */
@media (max-width: 600px){
  #nebula-hub.cosmos-suite{
    padding-left:  max(1.5rem, env(safe-area-inset-left));
    padding-right: max(1.5rem, env(safe-area-inset-right));
  }
}

/* Mobile bleibt wie gehabt: die vorhandene aspect-ratio:16/9-Regel greift weiter */

</style>
<section class="cluster cosmos-suite" id="nebula-hub" aria-labelledby="nebula-hub-h">
  <h2 id="nebula-hub-h" class="headline">Unsere Leistungen</h2>
  <p class="subline">Von Web bis 3D – alles aus einer Hand, schnell &amp; wirkungsvoll.</p>

  <div class="orbit-grid">

    <!-- Webdesign -->
    <div class="module-card" id="svc-webdesign" aria-labelledby="svc-webdesign-h">
      <div class="payload">
        <h3 id="svc-webdesign-h">Webdesign</h3>
        <ul>
          <li>Responsive &amp; performanceoptimierte Websites</li>
          <li>Visuell ansprechende User Interfaces</li>
          <li>Moderne Animationen &amp; Microinteractions</li>
          <li>CMS-Integration &amp; SEO Ready</li>
        </ul>
        <a href="./WebDesign.html" class="warp-cta">Mehr erfahren</a>
      </div>
    </div>

    <!-- 3D Design -->
    <div class="module-card stellar-3d" id="svc-3d" aria-labelledby="svc-3d-h" onclick="togglePlanet(this)">
      <div class="payload">
        <h3 id="svc-3d-h">3D Design</h3>
        <ul>
          <li>Fotorealistische 3D-Visualisierungen</li>
          <li>Produkt &amp; Architektur-Renderings</li>
          <li>VR/AR-kompatible Modelle</li>
          <li>Optimiert für Web &amp; Druck</li>
        </ul>

        <div class="overlay-art">
          <div class="orbit-shell">
            <img class="planet-sprite" loading="lazy" decoding="async" src="./indexFotoSlideShow/planet.webp" alt="Planet">
          </div>
          <img class="lazy-comet astronaut-sprite" data-src="./indexFotoSlideShow/2.webp" alt="3D Icon / Astronaut" decoding="async">
        </div>

        <a href="./3DDesign.html" class="warp-cta">Mehr erfahren</a>
      </div>
    </div>

    <!-- Grafikdesign -->
    <div class="module-card" id="svc-grafik" aria-labelledby="svc-grafik-h">
      <div class="payload">
        <h3 id="svc-grafik-h">Grafikdesign</h3>
        <ul>
          <li>Corporate Design &amp; Markenauftritt</li>
          <li>Professionelles Logo-Design</li>
          <li>Druck- &amp; Digitalmedien</li>
          <li>Infografiken &amp; visuelle Systeme</li>
        </ul>
        <div class="overlay-art">
          <img class="lazy-comet" data-src="./indexFotoSlideShow/astro sitzend.webp" alt="3D Icon" decoding="async">
        </div>

        <a href="./Grafikdesign.html" class="warp-cta">Mehr erfahren</a>
      </div>
    </div>

    <!-- Social Media (Video) -->
    <div class="module-card cinema-card" id="svc-social" aria-labelledby="svc-social-h">
      <h3 id="svc-social-h" class="visually-hidden">Social Media</h3>
      <video
        autoplay
        muted
        loop
        playsinline
        preload="metadata"
        poster="./indexFotoSlideShow/social-poster.jpg"
        aria-label="Showreel Social Media"
        controlslist="nodownload noplaybackrate"
        disablepictureinpicture
      >
        <source src="./videos/social-showreel.webm" type="video/webm">
        <source src="./indexFotoSlideShow/kartenvideo.mp4" type="video/mp4">
        Dein Browser unterstützt das Video-Tag nicht.
      </video>
    </div>

  </div>
</section>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const lazyImages = document.querySelectorAll("img.lazy-comet");

    const observer = new IntersectionObserver((entries, obs) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const img = entry.target;
          img.src = img.dataset.src;
          img.classList.remove("lazy-comet");
          obs.unobserve(img);
        }
      });
    }, {
      rootMargin: "100px 0px",
      threshold: 0.01
    });

    lazyImages.forEach(img => observer.observe(img));
  });

  function togglePlanet(card){ card.classList.toggle('clicked'); }
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebPage",
      "@id": "https://example.com/leistungen/#webpage",
      "url": "https://example.com/leistungen/",
      "name": "Unsere Leistungen — Web, 3D & Design",
      "inLanguage": "de",
      "description": "Von Web bis 3D – alles aus einer Hand, schnell & wirkungsvoll.",
      "isPartOf": { "@type": "WebSite", "@id": "https://example.com/#website", "url": "https://example.com/" },
      "primaryImageOfPage": { "@type": "ImageObject", "url": "https://example.com/assets/og/leistungen.jpg" },
      "mainEntity": { "@id": "https://example.com/leistungen/#leistungen-list" }
    },
    {
      "@type": "ItemList",
      "@id": "https://example.com/leistungen/#leistungen-list",
      "name": "Leistungen",
      "inLanguage": "de",
      "itemListOrder": "http://schema.org/ItemListOrderAscending",
      "numberOfItems": 4,
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "item": {
            "@type": "Service",
            "@id": "https://example.com/leistungen/#svc-webdesign",
            "name": "Webdesign",
            "description": "Responsive, performanceoptimierte Websites, UI, Animationen & Microinteractions, CMS-Integration und SEO-ready.",
            "url": "https://example.com/WebDesign.html"
          }
        },
        {
          "@type": "ListItem",
          "position": 2,
          "item": {
            "@type": "Service",
            "@id": "https://example.com/leistungen/#svc-3d",
            "name": "3D Design",
            "description": "Fotorealistische 3D-Visualisierungen, Produkt- und Architektur-Renderings, VR/AR-kompatible Modelle – optimiert für Web & Druck.",
            "url": "https://example.com/3DDesign.html"
          }
        },
        {
          "@type": "ListItem",
          "position": 3,
          "item": {
            "@type": "Service",
            "@id": "https://example.com/leistungen/#svc-grafik",
            "name": "Grafikdesign",
            "description": "Corporate Design & Markenauftritt, Logo-Design, Druck- & Digitalmedien, Infografiken & visuelle Systeme.",
            "url": "https://example.com/Grafikdesign.html"
          }
        },
        {
          "@type": "ListItem",
          "position": 4,
          "item": {
            "@type": "Service",
            "@id": "https://example.com/leistungen/#svc-social",
            "name": "Social Media",
            "description": "Bewegtbild & Social-Assets: Showreels, Snippets, plattformspezifische Adaptionen.",
            "url": "https://example.com/SocialMedia.html"
          }
        }
      ]
    },
    {
      "@type": "VideoObject",
      "@id": "https://example.com/leistungen/#social-video",
      "name": "Showreel Social Media",
      "inLanguage": "de",
      "thumbnailUrl": "https://example.com/indexFotoSlideShow/social-poster.jpg",
      "contentUrl": "https://example.com/indexFotoSlideShow/kartenvideo.mp4",
      "embedUrl": "https://example.com/leistungen/#svc-social",
      "description": "Kurz-Showreel Social Media Assets.",
      "isPartOf": { "@id": "https://example.com/leistungen/#webpage" }
    }
  ]
}
</script>










<section class="zen-vault" id="zen-faq" aria-roledescription="carousel" aria-label="Kundenstimmen">
  <div class="zen-slider">
    <div class="zen-viewport">
      <div class="zen-track">
        <!-- Slides -->
        <div class="zen-card">
          <button class="zen-toggle" aria-expanded="true">
            <span class="zen-quote">„Transparente Kommunikation und schneller Go-Live.“</span>
          </button>
          <div class="zen-drop">
            <p class="zen-meta">
              <strong class="zen-rating">5/5 Sterne</strong>
              <span class="zen-stars" aria-label="5 von 5 Sternen">★★★★★</span>
              <span class="zen-author">– Laura M., Head of Marketing, AlpinaTech</span>
            </p>
            <p class="zen-text">„Unser Projektmanager hat uns mit kurzen, präzisen Updates geführt. Meilensteine wurden eingehalten und der Launch lief reibungslos.“</p>
          </div>
        </div>

        <div class="zen-card">
          <button class="zen-toggle" aria-expanded="true">
            <span class="zen-quote">„Top Qualität &amp; verlässlicher Support.“</span>
          </button>
          <div class="zen-drop">
            <p class="zen-meta">
              <strong class="zen-rating">5/5 Sterne</strong>
              <span class="zen-stars" aria-label="5 von 5 Sternen">★★★★★</span>
              <span class="zen-author">– Denis M., CTO, Pixel &amp; Co.</span>
            </p>
            <p class="zen-text">„Die Testabdeckung ist hervorragend. Nach dem Launch haben wir einen klaren Wartungsplan und schnelle Reaktionszeiten.“</p>
          </div>
        </div>

        <div class="zen-card">
          <button class="zen-toggle" aria-expanded="true">
            <span class="zen-quote">„UX, die unsere Conversion sichtbar gesteigert hat.“</span>
          </button>
          <div class="zen-drop">
            <p class="zen-meta">
              <strong class="zen-rating">4.5/5 Sterne</strong>
              <span class="zen-stars" aria-label="4,5 von 5 Sternen"><span>★★★★</span><span class="zen-star-half">★</span></span>
              <span class="zen-author">– Jana M., E-Commerce Lead, Naturwerk</span>
            </p>
            <p class="zen-text">„Wireframes, Prototypen und Tests mit echten Nutzer:innen – wir waren in jeder Phase eingebunden. Die Conversion stieg nach dem Relaunch um 23%.“</p>
          </div>
        </div>

        <div class="zen-card">
          <button class="zen-toggle" aria-expanded="true">
            <span class="zen-quote">„Transparente Kosten, messbarer Erfolg.“</span>
          </button>
          <div class="zen-drop">
            <p class="zen-meta">
              <strong class="zen-rating">5/5 Sterne</strong>
              <span class="zen-stars" aria-label="5 von 5 Sternen">★★★★★</span>
              <span class="zen-author">– Tim M., Geschäftsführer, UrbanKaffee</span>
            </p>
            <p class="zen-text">„Klare Angebotsstruktur ohne Überraschungen. Wir verfolgen KPIs wie Ladezeit, SEO und Conversion – alles deutlich verbessert.“</p>
          </div>
        </div>

        <div class="zen-card">
          <button class="zen-toggle" aria-expanded="true">
            <span class="zen-quote">„Datenschutz ernst genommen – endlich sorgenfrei.“</span>
          </button>
          <div class="zen-drop">
            <p class="zen-meta">
              <strong class="zen-rating">5/5 Sterne</strong>
              <span class="zen-stars" aria-label="5 von 5 Sternen">★★★★★</span>
              <span class="zen-author">– Katharina M., Legal Counsel, Nordlicht GmbH</span>
            </p>
            <p class="zen-text">„DSGVO-Konzept, SSL, Backups und klare Rollen – wir haben sogar ein NDA erhalten. Genau so wollen wir arbeiten.“</p>
          </div>
        </div>

        <div class="zen-card">
          <button class="zen-toggle" aria-expanded="true">
            <span class="zen-quote">„SEO &amp; Content aus einer Hand – international skalierbar.“</span>
          </button>
          <div class="zen-drop">
            <p class="zen-meta">
              <strong class="zen-rating">4.5/5 Sterne</strong>
              <span class="zen-stars" aria-label="4,5 von 5 Sternen"><span>★★★★</span><span class="zen-star-half">★</span></span>
              <span class="zen-author">– Rafael M., <br> Growth Lead, GlobeFit</span>
            </p>
            <p class="zen-text">„Content-Produktion, OnPage-SEO und Mehrsprachigkeit – unser Rollout in zwei Märkten war unkompliziert und performant.“</p>
          </div>
        </div>
        <!-- Ende Slides -->
      </div>
    </div>
  </div>
</section>
<style>
:root{
  --zen-base:#ffffff; --zen-alt:#f7f7f7; --zen-ink:#0b0c0e; --zen-muted:#5f6368; --zen-border:#e6e6e6; --zen-shadow:0 10px 26px rgba(0,0,0,.08);
  --zen-maxw: 1200px;
  --zen-gap: clamp(.9rem, 2.5vw, 1.6rem);
  --zen-slides: 1;
  --zen-speed: 420ms;
  --zen-bleed: clamp(10px, 1.8vw, 16px);
}

@media (min-width:700px){ :root{ --zen-slides:2; } }
@media (min-width:1024px){ :root{ --zen-slides:3; } }

:root[data-theme="dark"]{
  --zen-base:#000; --zen-alt:#0e0f12; --zen-ink:#fff; --zen-muted:#c6cad1; --zen-border:#1f1f1f; --zen-shadow:0 16px 38px rgba(0,0,0,.5);
}

.zen-vault{
  padding: clamp(2rem, 5vw, 5.5rem) clamp(1rem, 4vw, 2rem);
  background: transparent !important; /* Hintergrund raus */
  color: var(--zen-ink);
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}

/* Slider */
.zen-slider{ max-width: min(var(--zen-maxw), 100%); margin: 0 auto; position: relative; }
.zen-viewport{ overflow: hidden; width:100%; padding: var(--zen-bleed); margin: calc(var(--zen-bleed) * -1); }
.zen-track{ display:flex; gap:var(--zen-gap); will-change:transform; transform:translate3d(0,0,0); position:relative; }

/* Mobile = Grid */
@media (max-width:699.98px){
  .zen-viewport{ overflow: visible; padding: 0; margin: 0; }
  .zen-track{
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(min(320px,100%), 1fr));
    gap:var(--zen-gap);
    transform:none !important;
  }
}

/* Card + Glass */
.zen-card{
  flex:0 0 calc((100% - var(--zen-gap) * (var(--zen-slides) - 1)) / var(--zen-slides));
  border:1px solid rgba(255,255,255,.28);
  border-radius:18px;
  background: linear-gradient(180deg, rgba(255,255,255,.4), rgba(255,255,255,.18));
  backdrop-filter: saturate(160%) blur(14px);
  -webkit-backdrop-filter: saturate(160%) blur(14px);
  box-shadow: 0 10px 10px rgba(0,0,0,.12);
  overflow:hidden;
  position: relative;
  z-index: 0;
  transition:
    transform .22s cubic-bezier(.2,.7,.2,1),
    box-shadow .22s ease,
    filter .22s ease,
    z-index 0s step-end;
  will-change: transform, box-shadow, filter;
  opacity: 0;              /* für Fade-In/Out */
  transform: translateY(8px) scale(.995);
}
:root[data-theme="dark"] .zen-card{
  border-color: rgba(255,255,255,.12);
  background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
}

/* Reveal (schöner Fade in) via IO */
.zen-card.is-in{
  opacity: 1;
  transform: translateY(0) scale(1);
  transition:
    opacity .38s ease,
    transform .44s cubic-bezier(.2,.7,.2,1),
    box-shadow .22s ease;
}
/* leichter Fade-Out wenn Karte den Viewport verlässt */
.zen-card.is-out{
  opacity: .75;
  filter: saturate(.9);
}

/* Hover/Fokus: größer + schwarze Umrandung */
@media (hover:hover){
  .zen-card:hover{
    transform: scale(1.03);
    box-shadow:
      0 26px 64px rgba(0,0,0,.22),
      0 6px 18px rgba(0,0,0,.12),
      0 0 0 2px #000; /* schwarze Umrandung */
    z-index: 5;
    transition:
      transform .22s cubic-bezier(.2,.7,.2,1),
      box-shadow .22s ease,
      z-index 0s step-start;
  }
}
.zen-card:focus-within{
  transform: scale(1.03);
  box-shadow:
    0 26px 64px rgba(0,0,0,.22),
    0 6px 18px rgba(0,0,0,.12),
    0 0 0 2px #000;
  z-index: 5;
}

/* Header-Zeile (Zitat) */
.zen-toggle{
  width:100%; border:0; background:none; cursor: default;
  padding: clamp(1rem, 2.4vw, 1.3rem) clamp(1rem, 3vw, 1.6rem) .2rem;
  display:block; text-align:left;
}
.zen-quote{
  display:block;
  font-weight:800;
  line-height:1.3;
  font-size: clamp(1.08rem, 1rem + .7vw, 1.4rem);
  padding-left: .9rem;
  position:relative;
  word-break: normal;
  overflow-wrap: anywhere;
  hyphens: auto;
  text-wrap: balance;
}
.zen-quote::before{
  content: "“";
  position:absolute; left:0; top:-.1rem;
  font-weight:900;
  font-size: 1.6em;
  line-height:1;
  opacity:.22;
}

/* Inhalt */
.zen-drop{
  max-height:none !important;
  padding: .15rem clamp(1rem, 3vw, 1.6rem) 1rem;
}

/* Meta: Sterne unter die Bewertung */
.zen-meta{
  display:grid;
  grid-template-columns: 1fr auto;         /* links: Bewertung/Sterne, rechts: Autor */
  grid-auto-rows: auto;
  align-items:center;
  column-gap:.75rem;
  row-gap:.25rem;
  margin: .25rem 0 .2rem;
  padding: .35rem 0;
}
.zen-rating{
  font-weight:800;
}
.zen-stars{
  grid-column: 1 / 2;                      /* unter der Bewertung */
  margin-top: .1rem;
  letter-spacing:.08em;
  line-height: 1;
  user-select:none;
  white-space: normal;
}
.zen-stars .zen-star-half{ opacity:.4; }
.zen-author{
  grid-column: 2 / 3;
  justify-self:end;
  font-weight:700;
  white-space: normal;
  text-align:right;
}

/* Fließtext */
.zen-text{
  margin:0;
  padding:.5rem 0 0;
  line-height:1.75;
  font-weight:500;
  text-wrap:pretty;
  border-top: 1px solid color-mix(in oklab, var(--zen-ink) 15%, transparent);
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  .zen-card{ transition:none !important; opacity:1 !important; transform:none !important; }
}

/* Sehr kleine Viewports: Autor in eigene Zeile */
@media (max-width: 360px){
  .zen-meta{
    grid-template-columns: 1fr;
  }
  .zen-author{
    grid-column: 1 / -1;
    justify-self:start;
    text-align:left;
  }
}

@media (max-width:699.98px){
  /* ... dein bestehendes Mobile-CSS ... */

  /* Nur die ersten 3 Rezensionen anzeigen */
  .zen-track .zen-card:nth-of-type(n + 4){
    display: none !important;
  }
}
/* Hover unten nicht abschneiden (ab Tablet) */
@media (min-width:700px){
  .zen-viewport{
    overflow: visible; /* statt hidden */
    /* unten etwas mehr Platz geben und außenrum kompensieren */
    padding-bottom: calc(var(--zen-bleed) + 18px);
    margin-bottom:  calc(var(--zen-bleed) * -1 - 18px);
  }

  /* Wachstum nach oben verlagern, damit es noch seltener unten kollidiert */
  .zen-card{ transform-origin: 50% 35%; }
}

/* Optional: beim Hover leicht anheben */
@media (hover:hover) and (min-width:700px){
  .zen-card:hover{
    transform: translateY(-8px) scale(1.03);
  }
}
 .zen-card:hover{
    transform: translateY(-6px) scale(1.02);
    box-shadow:
      0 10px 14px rgba(0,0,0,.10),
      0 4px 10px rgba(0,0,0,.06);
  }

/* Standardzustand: kräftige schwarze Linie */
.zen-card{
  border: 2px solid rgba(0,0,0,.55);
  box-shadow: none;
  transition:
    transform .22s cubic-bezier(.2,.7,.2,1),
    border-color .25s ease,
    box-shadow .25s ease;
}

/* Hover/Fokus: stärkerer Kontrast + leicht angehoben */
@media (hover:hover){
  .zen-card:hover,
  .zen-card:focus-within{
    transform: translateY(-6px);
    border-color: rgba(0,0,0,.9);
    box-shadow:
      0 10px 22px rgba(0,0,0,.22),
      0 4px 8px rgba(0,0,0,.15);
    z-index: 5;
  }
}
/* ===== Verbesserungen: Farben, Sterne, Layout, Hover ===== */
:root{
  --zen-accent: #34c759;            /* Grün für Sterne (iOS-Grün) */
  --zen-accent-dark: #30d158;       /* Grün in Dark Mode */
}
:root[data-theme="dark"]{
  --zen-accent: var(--zen-accent-dark);
}

/* Kartenlayout straffer & konsistent */
.zen-card{
  display:flex;
  flex-direction:column;
  border: 2px solid rgba(0,0,0,.55) !important;  /* klare schwarze Umrandung */
  border-radius: 20px;
  box-shadow: none !important;
  background:
    linear-gradient(180deg, rgba(255,255,255,.5), rgba(255,255,255,.2));
  backdrop-filter: saturate(160%) blur(14px);
  -webkit-backdrop-filter: saturate(160%) blur(14px);
  transform-origin: 50% 35%;
}
:root[data-theme="dark"] .zen-card{
  background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
  border-color: rgba(255,255,255,.65) !important;
}

/* Header/Quote kompakter & lesbarer */
.zen-toggle{
  cursor: default;
  padding: clamp(1rem, 2.2vw, 1.25rem) clamp(1rem, 2.6vw, 1.4rem) .2rem;
}
.zen-quote{
  font-weight: 800;
  line-height: 1.25;
  font-size: clamp(1.05rem, .9rem + .7vw, 1.35rem);
  padding-left: 1rem;
  text-wrap: balance;
}
.zen-quote::before{
  left: 0;
  top: -.12rem;
  font-size: 1.55em;
  opacity: .22;
}

/* Content spacing */
.zen-drop{
  padding: .25rem clamp(1rem, 2.6vw, 1.4rem) 1rem;
}
.zen-text{
  margin:0;
  padding:.6rem 0 0;
  line-height: 1.7;
  border-top: 1px solid color-mix(in oklab, var(--zen-ink) 18%, transparent);
}

/* Meta-Row: stabil & kompakt */
.zen-meta{
  display:grid;
  grid-template-columns: 1fr auto;
  align-items:center;
  column-gap:.75rem;
  row-gap:.2rem;
  margin:.35rem 0 .1rem;
  padding:.25rem 0;
}
.zen-rating{ font-weight: 800; }
.zen-author{
  justify-self:end;
  font-weight:700;
  opacity:.9;
}

/* ★ Sterne grün */
.zen-stars{
  grid-column: 1 / 2;
  margin-top:.1rem;
  letter-spacing:.08em;
  line-height:1;
  user-select:none;
  color: var(--zen-accent) !important;        /* alle Sterne grün */
  text-shadow: 0 0 .01em currentColor;        /* knackiger Kantenrender */
}
.zen-stars .zen-star-half{
  opacity:.45;                                 /* halber Stern = leichter */
}

/* Mobile: nur 3 Rezensionen (wie gewünscht) */
@media (max-width:699.98px){
  .zen-track .zen-card:nth-of-type(n + 4){
    display:none !important;
  }
}

/* Hover unten nicht abschneiden (ab Tablet) */
@media (min-width:700px){
  .zen-viewport{
    overflow: visible; 
    padding-bottom: calc(var(--zen-bleed) + 18px);
    margin-bottom:  calc(var(--zen-bleed) * -1 - 18px);
  }
}

/* Interaktion: dezente, hochwertige Bewegung + stärkere Outline beim Hover/Focus */
@media (hover:hover) and (min-width:700px){
  .zen-card:hover,
  .zen-card:focus-within{
    transform: translateY(-6px) scale(1.01);
    border-color: rgba(0,0,0,.9) !important;          /* deutlicher Rand */
    box-shadow:                                       /* sanfter Depth-Effekt */
      0 10px 22px rgba(0,0,0,.16),
      0 4px 8px rgba(0,0,0,.10) !important;
    z-index: 5;
  }
}

/* Tastaturfokus sichtbar (A11y) */
.zen-card:focus-within{
  outline: 2px solid color-mix(in oklab, var(--zen-ink) 85%, transparent);
  outline-offset: 2px;
}

/* Tablet/Desktop: keine starken Grundschatten – Flat Look; nur Hover arbeitet */
@media (min-width:700px){
  .zen-card{ box-shadow: none !important; }
}

/* Immer 3 Karten pro View ab Tablet */
@media (min-width:700px){
  :root{ --zen-slides: 3; }
  .zen-viewport{
    overflow: hidden;                 /* andere Karten unsichtbar */
    padding-bottom: var(--zen-bleed); /* etwas Luft unten */
    margin-bottom: calc(var(--zen-bleed) * -1);
  }
}

/* Mobile: weiter wie gehabt – nur die ersten 3 überhaupt zeigen */
@media (max-width:699.98px){
  .zen-viewport{ overflow: visible; padding: 0; margin: 0; }
  .zen-track{
    display:grid;
    grid-template-columns: repeat(3, minmax(0, 1fr)); /* genau 3 Karten */
    gap:var(--zen-gap);
    transform:none !important;
  }
  .zen-track .zen-card:nth-of-type(n + 4){ display:none !important; }
}

@media (hover:hover) and (min-width:700px){
  .zen-card:hover,
  .zen-card:focus-within{
    transform: translateY(-4px) scale(1.005); /* minimaler Scale */
    box-shadow: 0 8px 16px rgba(0,0,0,.12);
  }
}
/* konsistent messen */
.zen-slider, .zen-viewport, .zen-track, .zen-card { box-sizing: border-box; }

/* ab 700px: links/rechts kein Padding, nur unten (wie gewollt) */
@media (min-width:700px){
  .zen-viewport{
    padding-left: 0 !important;
    padding-right: 0 !important;
  }
}
@media (min-width:700px){
  .zen-viewport{
    padding-left: 0 !important;
    padding-right: 0 !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
  }
}

/* ======= Zen Slider – fully responsive ======= */
:root{
  --zen-base:#ffffff; --zen-alt:#f7f7f7; --zen-ink:#0b0c0e; --zen-muted:#5f6368; --zen-border:#e6e6e6; --zen-shadow:0 10px 26px rgba(0,0,0,.08);
  --zen-accent:#34c759; --zen-accent-dark:#30d158;

  --zen-maxw: 1200px;
  --zen-gap: clamp(.9rem, 2.5vw, 1.6rem);
  --zen-slides: 1;                 /* default */
  --zen-speed: 420ms;
  --zen-bleed: clamp(10px, 1.8vw, 16px);
}

/* Dark theme */
:root[data-theme="dark"]{
  --zen-base:#000; --zen-alt:#0e0f12; --zen-ink:#fff; --zen-muted:#c6cad1; --zen-border:#1f1f1f; --zen-shadow:0 16px 38px rgba(0,0,0,.5);
  --zen-accent: var(--zen-accent-dark);
}

/* Slides per View – feinere Stufen */
@media (min-width:480px){ :root{ --zen-slides: 1; } }
@media (min-width:700px){ :root{ --zen-slides: 2; } }
@media (min-width:900px){ :root{ --zen-slides: 2; } }
@media (min-width:1024px){ :root{ --zen-slides: 3; } }
@media (min-width:1280px){ :root{ --zen-slides: 3; } }
@media (min-width:1536px){ :root{ --zen-slides: 4; } }   /* extra groß: 4 pro View */

/* Wrapper */
.zen-vault{
  padding: clamp(2rem, 5vw, 5.5rem) clamp(1rem, 4vw, 2rem);
  background: transparent !important;
  color: var(--zen-ink);
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}

/* Slider */
.zen-slider{ max-width: min(var(--zen-maxw), 100%); margin: 0 auto; position: relative; }
.zen-viewport{ overflow: hidden; width:100%; padding: var(--zen-bleed); margin: calc(var(--zen-bleed) * -1); }
.zen-track{ display:flex; gap:var(--zen-gap); will-change:transform; transform:translate3d(0,0,0); position:relative; }

/* Mobile: Grid/Fallback ohne Translate (nichts wird abgeschnitten) */
@media (max-width:699.98px){
  .zen-viewport{ overflow: visible; padding: 0; margin: 0; }
  .zen-track{
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(min(320px,100%), 1fr));
    gap:var(--zen-gap);
    transform:none !important;
    width:100% !important;
  }
  /* Optional: nur erste 3 Testimonials zeigen */
  .zen-track .zen-card:nth-of-type(n + 4){ display: none !important; }
}

/* Card + Glass */
.zen-card{
  /* exakte Flex-Basis nach Slides-per-View */
  flex:0 0 calc((100% - var(--zen-gap) * (var(--zen-slides) - 1)) / var(--zen-slides));
  min-width: 260px;                                /* harte Untergrenze verhindert zu schmale Karten */
  border: 2px solid rgba(0,0,0,.55) !important;
  border-radius:20px;
  background: linear-gradient(180deg, rgba(255,255,255,.5), rgba(255,255,255,.2));
  backdrop-filter: saturate(160%) blur(14px);
  -webkit-backdrop-filter: saturate(160%) blur(14px);
  box-shadow:none !important;
  overflow:hidden;
  position:relative;
  z-index:0;
  display:flex; flex-direction:column;
  transform-origin:50% 35%;
  transition:
    transform .22s cubic-bezier(.2,.7,.2,1),
    border-color .25s ease,
    box-shadow .25s ease,
    filter .22s ease,
    z-index 0s step-end;
  opacity:0; transform: translateY(8px) scale(.995);
}
:root[data-theme="dark"] .zen-card{
  background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
  border-color: rgba(255,255,255,.65) !important;
}

/* Reveal */
.zen-card.is-in{
  opacity:1;
  transform: translateY(0) scale(1);
  transition: opacity .38s ease, transform .44s cubic-bezier(.2,.7,.2,1), box-shadow .22s ease;
}
.zen-card.is-out{ opacity:.8; filter:saturate(.95); }

/* Hover/Fokus */
@media (hover:hover){
  .zen-card:hover,
  .zen-card:focus-within{
    transform: translateY(-4px) scale(1.01);
    border-color: rgba(0,0,0,.9) !important;
    box-shadow: 0 10px 22px rgba(0,0,0,.16), 0 4px 8px rgba(0,0,0,.10) !important;
    z-index:5;
  }
}
.zen-card:focus-within{
  outline:2px solid color-mix(in oklab, var(--zen-ink) 85%, transparent);
  outline-offset:2px;
}

/* Header */
.zen-toggle{
  width:100%; border:0; background:none; cursor: default;
  padding: clamp(1rem, 2.2vw, 1.25rem) clamp(1rem, 2.6vw, 1.4rem) .2rem;
  display:block; text-align:left;
}
.zen-quote{
  display:block; font-weight:800; line-height:1.25;
  font-size: clamp(1.05rem, .9rem + .7vw, 1.35rem);
  padding-left:1rem; position:relative; text-wrap: balance;
}
.zen-quote::before{
  content:"“"; position:absolute; left:0; top:-.12rem;
  font-weight:900; font-size:1.55em; line-height:1; opacity:.22;
}

/* Body */
.zen-drop{ max-height:none !important; padding:.25rem clamp(1rem, 2.6vw, 1.4rem) 1rem; }
.zen-text{
  margin:0; padding:.6rem 0 0; line-height:1.7; font-weight:500; text-wrap:pretty;
  border-top:1px solid color-mix(in oklab, var(--zen-ink) 18%, transparent);
}

/* Meta */
.zen-meta{
  display:grid; grid-template-columns:1fr auto; align-items:center;
  column-gap:.75rem; row-gap:.2rem; margin:.35rem 0 .1rem; padding:.25rem 0;
}
.zen-rating{ font-weight:800; }
.zen-stars{
  grid-column:1/2; margin-top:.1rem; letter-spacing:.08em; line-height:1; user-select:none;
  color: var(--zen-accent) !important; text-shadow:0 0 .01em currentColor;
}
.zen-stars .zen-star-half{ opacity:.45; }
.zen-author{ grid-column:2/3; justify-self:end; font-weight:700; opacity:.9; text-align:right; white-space:normal; }

/* Very small: Author unter die Bewertung */
@media (max-width:360px){
  .zen-meta{ grid-template-columns:1fr; }
  .zen-author{ grid-column:1/-1; justify-self:start; text-align:left; }
}

/* Tablet/Desktop: Hover unten nicht abschneiden, aber horizontales Clipping gegen Cutoffs */
@media (min-width:700px){
  .zen-viewport{
    overflow: hidden;                        /* verhindert „Abschneiden“ am rechten Rand durch Subpixel */
    padding-left: 0 !important;
    padding-right: 0 !important;
    padding-bottom: calc(var(--zen-bleed) + 18px);
    margin-bottom:  calc(var(--zen-bleed) * -1 - 18px);
  }
  .zen-card{ transform-origin:50% 35%; }
}

/* XXL: etwas mehr Luft im Grid */
@media (min-width:1536px){
  .zen-slider{ max-width: min(1400px, 100%); }
  .zen-gap{ --zen-gap: clamp(1rem, 2vw, 2rem); }
}

/* Konsistente Box-Sizing */
.zen-slider, .zen-viewport, .zen-track, .zen-card { box-sizing: border-box; }
@media (min-width:700px){
  .zen-viewport{
    overflow: hidden;
    padding-right: 4px;              /* >= Border(2px) + rounding */
    margin-right: -4px;
  }
}
/* === Desktop: kein horizontales Clipping + optisch bündig === */
@media (min-width:700px){
  .zen-viewport{
    overflow: visible !important;        /* nix mehr abschneiden */
    padding-left: 0 !important;
    padding-right: 12px !important;      /* Platz für Border + Scale + Rounding */
    margin-right: -12px !important;      /* optisch bündig halten */
  }
}
.zen-card{ transform-origin: 48% 35%; }  /* statt exakt 50% */
/* Sichtfenster: nur die mittleren 3 Karten sichtbar */
#zen-faq .zen-viewport{
  overflow: hidden;                 /* harter Viewport */
  position: relative;
  /* sanfter Seiten-Fade (hell/dunkel automatisch) */
  mask-image: linear-gradient(to right, transparent 0, #000 5%, #000 95%, transparent 100%);
  -webkit-mask-image: linear-gradient(to right, transparent 0, #000 5%, #000 95%, transparent 100%);
}

/* Karten-Zustände */
#zen-faq .zen-card{ transition: transform .22s ease, opacity .22s ease, filter .22s ease, border-color .22s ease; }
#zen-faq .zen-card.is-active{
  opacity: 1;
  filter: none;
}
#zen-faq .zen-card.is-dim{
  opacity: .25;               /* „ausgeblendet“ */
  filter: saturate(.8) blur(.2px);
  pointer-events: none;       /* nicht interaktiv */
  transform: translateY(0) scale(.995);
}

/* Hover soll die Mitte nicht „sprengen“ */
@media (hover:hover){
  #zen-faq .zen-card.is-dim:hover{ transform:none; box-shadow:none; }
}

/* Mobile bleibt Grid: dort keine Dimmung nötig */
@media (max-width:699.98px){
  #zen-faq .zen-viewport{
    mask-image:none; -webkit-mask-image:none;
    overflow: visible;
  }
  #zen-faq .zen-card{ opacity:1 !important; filter:none !important; }
}
/* Nur rechts ausfaden – links volle Deckkraft */
#zen-faq .zen-viewport{
  --zen-fade: 28px; /* Breite des rechten Fades, gerne anpassen */

  mask-image: linear-gradient(
    to right,
    #000 0,
    #000 calc(100% - var(--zen-fade)),
    transparent 100%
  );
  -webkit-mask-image: linear-gradient(
    to right,
    #000 0,
    #000 calc(100% - var(--zen-fade)),
    transparent 100%
  );
}
/* nur rechts ausfaden (Desktop/Tablet) – bleibt wie gehabt */
#zen-faq .zen-viewport{
  --zen-fade: 28px;
  mask-image: linear-gradient(to right, #000 0, #000 calc(100% - var(--zen-fade)), transparent 100%);
  -webkit-mask-image: linear-gradient(to right, #000 0, #000 calc(100% - var(--zen-fade)), transparent 100%);
}

/* Mobile: KEIN Fade (weder schwarz noch mask) */
@media (max-width:699.98px){
  #zen-faq .zen-viewport{
    mask-image: none !important;
    -webkit-mask-image: none !important;
  }
}

/* === Zen Slider: Stage auf 1600px deckeln + fester Außenabstand === */
:root{
  --zen-stage: 1500px;   /* maximale Bühnenbreite */
  --zen-gutter: 2rem;    /* fester Außenabstand je Seite */
}

/* fester Außenabstand der Section (respektiert Safe-Area) */
#zen-faq.zen-vault{
  padding-left:  max(var(--zen-gutter), env(safe-area-inset-left));
  padding-right: max(var(--zen-gutter), env(safe-area-inset-right));
  margin-left: 2rem;
}

/* Slider zentrieren und bei 1600px klemmen */
#zen-faq .zen-slider{
  max-width: var(--zen-stage) !important;
  margin-inline: auto !important;
}

/* Viewport lässt die Karten nicht über die Stage hinauswachsen */
#zen-faq .zen-viewport{
  max-width: 100%;
  margin-inline: 0;               /* wir zentrieren über .zen-slider */
  padding-left: 0;                /* deine bestehenden >=700px Regeln bleiben */
  padding-right: 0;
}

/* XXL-Override neutralisieren (du hast später noch max-widths für .zen-slider) */
@media (min-width:1536px){
  #zen-faq .zen-slider{ max-width: var(--zen-stage) !important; }
}

/* --- Fix: Hover nicht mehr abgeschnitten, aber mit rechtem Fade --- */

/* 1) Viewport darf überstehen, Maske weg */
#zen-faq .zen-viewport{
  overflow: visible !important;
  mask-image: none !important;
  -webkit-mask-image: none !important;
  position: relative; /* für das Overlay */
}

/* 2) Rechten Fade als Overlay statt als Maske zeichnen */
#zen-faq .zen-viewport::after{
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  width: var(--zen-fade, 28px);
  height: 100%;
  pointer-events: none;     /* klicks nicht blocken */
  z-index: 10;
  /* sanfter Fade ins Seiten-Hintergrund */
  background: linear-gradient(
    to right,
    transparent 0%,
    var(--zen-base) 90%
  );
}

/* 3) Kleiner „Hover-Gutter“, damit die letzte Karte Platz hat */
@media (min-width:700px){
  #zen-faq .zen-viewport{
    padding-right: calc(var(--zen-bleed) + 24px);
    margin-right:  calc(var(--zen-bleed) * -1 - 24px);
  }
}

</style>
<script>
document.addEventListener("DOMContentLoaded", () => {
  const root     = document.querySelector("#zen-faq");
  if (!root) return;

  const slider   = root.querySelector(".zen-slider");
  const viewport = slider?.querySelector(".zen-viewport");
  const track    = slider?.querySelector(".zen-track");
  if (!slider || !viewport || !track) return;

  const isMobile = () => window.matchMedia("(max-width:699.98px)").matches;

  // NEU: Slides-per-View sauber aus CSS lesen (synced zu deinen Breakpoints)
  const getSPV = () => {
    const v = getComputedStyle(document.documentElement).getPropertyValue("--zen-slides").trim();
    const n = Math.max(1, parseInt(v || "1", 10));
    return n;
  };

  // ARIA (unverändert)
  Array.from(track.querySelectorAll(".zen-card")).forEach((card, i) => {
    const btn  = card.querySelector(".zen-toggle");
    const drop = card.querySelector(".zen-drop");
    if (!btn || !drop) return;
    const id = `zen-drop-${i+1}`;
    drop.id = id;
    btn.setAttribute("aria-controls", id);
    btn.setAttribute("aria-expanded", "true");
    btn.addEventListener("click", (e) => e.preventDefault(), { passive:true });
  });

  // Reveal IO
  const revealIO = new IntersectionObserver((entries) => {
    entries.forEach(e => {
      if (e.isIntersecting){ e.target.classList.add("is-in"); e.target.classList.remove("is-out"); }
      else { e.target.classList.remove("is-in"); e.target.classList.add("is-out"); }
    });
  }, { root: viewport, threshold: 0.25 });

  let originals = [];
  let index     = 0;
  let slideW    = 0;
  let animLock  = false;

  const AUTOPLAY_MS = 4000;
  let autoplayTimer  = null;

  const cardsAll = () => Array.from(track.querySelectorAll(".zen-card"));
  const gapPX = () => {
    const g = getComputedStyle(track).gap || "0px";
    return g.endsWith("px") ? parseFloat(g) : 0;
  };

  function measureSlideW(){
    const spv = getSPV();
    const vw  = viewport.clientWidth;
    const padL = parseFloat(getComputedStyle(viewport).paddingLeft)||0;
    const padR = parseFloat(getComputedStyle(viewport).paddingRight)||0;
    const inner = vw - padL - padR;
    slideW = (inner - gapPX() * (spv - 1)) / spv;
  }
  const applyFixedWidths = () => cardsAll().forEach(c => {
    c.style.flex = `0 0 ${slideW}px`;
    c.style.width = `${slideW}px`;
    c.style.maxWidth = `${slideW}px`;
  });
  const clearFixedWidths = () => cardsAll().forEach(c => {
    c.style.flex = ""; c.style.width = ""; c.style.maxWidth = "";
  });

  // NEU: nicht mehr „3 erzwingen“, sondern dynamisch je nach SPV
  function markActiveBySPV(){
    if (isMobile()) {
      cardsAll().forEach(c => { c.classList.remove('is-active','is-dim'); });
      return;
    }
    const spv   = getSPV();
    const start = index;
    const end   = start + spv - 1;

    cardsAll().forEach((c, i) => {
      if (i >= start && i <= end) {
        c.classList.add('is-active');
        c.classList.remove('is-dim');
      } else {
        c.classList.add('is-dim');
        c.classList.remove('is-active');
      }
    });
  }

  function setTransform(jump=false){
    if (isMobile()){
      track.style.transition = "none";
      track.style.transform  = "none";
      requestAnimationFrame(markActiveBySPV);
      return;
    }
    const translate = -(index * (slideW + gapPX()));
    track.style.transition = jump ? "none" : `transform var(--zen-speed,420ms) ease`;
    track.style.transform  = `translate3d(${translate}px,0,0)`;
    requestAnimationFrame(markActiveBySPV);
  }

  function buildFullClones(){
    track.querySelectorAll("[data-clone]").forEach(n => n.remove());
    if (!originals.length) return;
    const pre = originals.map(n => { const c = n.cloneNode(true); c.dataset.clone = "true"; return c; });
    pre.reverse().forEach(c => track.insertBefore(c, track.firstChild));
    const post = originals.map(n => { const c = n.cloneNode(true); c.dataset.clone = "true"; return c; });
    post.forEach(c => track.appendChild(c));
    cardsAll().forEach(card => revealIO.observe(card));
  }

  function goToPageStart(page, jump=false){
    const spv = getSPV();
    const base = originals.length;
    index = base + page * spv;
    setTransform(jump);
  }

  function normalizeAfterTransition(){
    const base = originals.length;
    const first = base;
    const last  = base + originals.length - 1;
    if (index < first){
      index += originals.length;
      setTransform(true);
    } else if (index > last){
      index -= originals.length;
      setTransform(true);
    }
    markActiveBySPV();
  }

  function next(){
    if (animLock || isMobile()) return;
    animLock = true;
    index += getSPV();           // seitenweise passend zu SPV
    setTransform(false);
  }
  function prev(){
    if (animLock || isMobile()) return;
    animLock = true;
    index -= getSPV();           // seitenweise passend zu SPV
    setTransform(false);
  }
  track.addEventListener("transitionend", () => { normalizeAfterTransition(); animLock = false; });

  function startAutoplay(){
    if (autoplayTimer || isMobile()) return;
    stopAutoplay();
    autoplayTimer = setInterval(next, AUTOPLAY_MS);
  }
  function stopAutoplay(){
    if (autoplayTimer) clearInterval(autoplayTimer);
    autoplayTimer = null;
  }

  const visIO = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      const visible = entry.isIntersecting && !document.hidden;
      if (visible) startAutoplay(); else stopAutoplay();
    });
  }, { threshold: 0.5 });
  visIO.observe(root);

  document.addEventListener("visibilitychange", () => {
    if (document.hidden) stopAutoplay(); else startAutoplay();
  });

  ["mouseenter","focusin"].forEach(ev => slider.addEventListener(ev, stopAutoplay));
  ["mouseleave","focusout"].forEach(ev => slider.addEventListener(ev, startAutoplay));
  root.addEventListener("keydown", (e) => {
    if (e.key === "ArrowRight") { e.preventDefault(); next(); }
    if (e.key === "ArrowLeft")  { e.preventDefault(); prev(); }
  });
  viewport.addEventListener("wheel", (e) => {
    if (isMobile()) return;
    if (Math.abs(e.deltaX) > Math.abs(e.deltaY)) {
      e.preventDefault();
      if (e.deltaX > 0) next(); else prev();
    }
  }, { passive:false });

  function initDesktop(){
    originals = Array.from(track.querySelectorAll(".zen-card")).filter(n => !n.dataset.clone);
    if (!originals.length) return;
    originals.forEach(card => revealIO.observe(card));
    buildFullClones();
    measureSlideW();
    applyFixedWidths();
    goToPageStart(0, true);
    startAutoplay();
    markActiveBySPV();
  }
  function destroyDesktop(){
    stopAutoplay();
    track.querySelectorAll("[data-clone]").forEach(n => n.remove());
    clearFixedWidths();
    track.style.transition = "none";
    track.style.transform  = "none";
    index = 0;
  }

  let rTo;
  function onResize(){
    clearTimeout(rTo);
    rTo = setTimeout(() => {
      if (!isMobile()){
        destroyDesktop();
        initDesktop();
        setTimeout(markActiveBySPV, 60);
      } else {
        destroyDesktop();
        cardsAll().forEach(card => { revealIO.observe(card); card.classList.add("is-in"); });
      }
    }, 120);
  }
  window.addEventListener("resize", onResize);

  if (!isMobile()){ initDesktop(); }
  else { cardsAll().forEach(card => { revealIO.observe(card); card.classList.add("is-in"); }); }
});
</script>









<style>
  /* === Basis-Struktur === */
  .pane-transition{
    position:relative;
    background:none;
    display:flex;
    align-items:center;
    justify-content:center;
    flex-direction:column;
    overflow:visible;
    color:#111;
    -webkit-tap-highlight-color: transparent;
    font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif
  }
  .pane-world{
    position:relative;
    padding-top:clamp(2rem, 5vw, 6rem);
    padding-left: calc(1rem + env(safe-area-inset-left));
    padding-right: calc(1rem + env(safe-area-inset-right));
    padding-bottom: calc(2rem + env(safe-area-inset-bottom));
    height:auto;
    clip-path:none;
    display:flex;
    align-items:center;
    justify-content:center;
    flex-direction:column;
    background:linear-gradient(0deg,#ffffff,#ffffff);
    opacity:1;
    pointer-events:all;
    width:100%;            /* statt 100vw -> kein horizontaler Overflow */
    transition:background-color .25s ease,color .25s ease;
    z-index:15
  }
  .pane-wrap{
    text-align:center;
    width:100%;
    max-width:min(1200px, 92vw);
    margin-inline:auto;
    padding:0; /* Außen-Padding kommt über .pane-world (Safe-Area) */
  }

  /* ===== Headline & Subline im Aurora-Stil ===== */
  .pane-wrap .pane-title{
    margin: .2rem 0 .6rem;
    text-align:center;
    width:100%;
    display:block;
    font-weight:900;
    letter-spacing:-.02em;
    color:inherit;
    font-size: clamp(2rem, 1.6rem + 2.2vw, 3rem);
    line-height: 1.12;
    text-wrap: balance;
  }
  .pane-wrap .pane-subtitle{
    position: relative;
    color:#0f1729;
    max-width: 62rem;
    margin: 0 auto 2.2rem;
    line-height: 1.78;
    font-size: clamp(1.06rem, 1rem + .6vw, 1.22rem);
    letter-spacing: .004em;
    text-wrap: pretty;
    padding: 1.1rem 1.2rem 1.1rem;
    border-radius: 14px;
    background: linear-gradient(180deg, rgba(15,23,41,.06), rgba(15,23,41,.03));
    box-shadow: inset 0 1px 0 rgba(255,255,255,.7), 0 2px 8px rgba(0,0,0,.05);
  }
  :root[data-theme="dark"] .pane-wrap .pane-subtitle{
    color:#fff;
    background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
    box-shadow: inset 0 1px 0 rgba(255,255,255,.18), 0 2px 8px rgba(0,0,0,.35);
  }

  /* === Karten-Layout (Basis) === */
  .flow-rail{
    display:grid;                 /* grid als Basis – flexibel */
    grid-template-columns: 1fr;   /* mobile: 1 Spalte */
    gap:clamp(.8rem, 2.5vw, 1rem);
    align-items:stretch;
    justify-items:stretch;
    z-index:15;
    width:100%;
  }

  /* Tablet: 2 Spalten */
  @media (min-width: 601px) and (max-width: 1024px){
    .flow-rail{
      grid-template-columns: 1fr 1fr;
    }
  }

  /* Desktop: Flex-„Kästchen“-Modus via .is-enhanced (unten) */
  @media (min-width: 1025px){
    .flow-rail{
      display:flex;
      gap:1rem;
      justify-content:stretch;
      align-items:stretch;
    }
  }

  .flow-card{
    position:relative;
    border-radius:20px;
    border:1px solid rgba(70,70,70,.15);
    padding:clamp(1.2rem, 2.5vw, 2rem) clamp(1rem, 2vw, 1.6rem);
    box-shadow:0 0 0 rgba(0,0,0,0);
    overflow:hidden;
    cursor:pointer;
    --dur:0s;
    height:var(--tile-h,auto);
    min-width:0;                 /* wichtig gegen Überlauf */
    isolation:isolate;           /* für ::after Blend sauber */
  }
  .flow-card.is-growing{ --dur:8s; }
  .flow-card.is-open{ flex:1 1 auto }

  .card-core{
    position:relative;
    z-index:2;
    text-align:left;
    display:flex;
    flex-direction:column;
    gap:.75rem;
    min-width:0;                 /* verhindert Überlauf */
    height:100%;
    overflow-wrap:anywhere;      /* bricht lange Wörter */
  }

  /* h3 – wie Aurora .aether-card h3 */
  .flow-card h3{
    font-size: clamp(1.2rem, 1rem + 1.1vw, 1.9rem);
    color:#fff;
    font-weight:800;
    margin:.1rem 0 .5rem;
    line-height:1.2;
    letter-spacing:-.01em;
    text-shadow:0 1px 2px rgba(0,0,0,.25);
    text-wrap: balance;
  }

  /* p – wie Aurora .copy */
  .flow-card p{
    color: rgba(255,255,255,.96);
    font-weight: 690;
    letter-spacing: -.002em;
    font-size: clamp(1rem, .96rem + .4vw, 1.16rem);
    line-height: 1.7;
    text-wrap: pretty;
    hyphens: auto;
    max-width: 62ch;
    text-shadow: 0 1px 2px rgba(0,0,0,.18);
    margin: 0;
  }
  .flow-card .details p{ margin-top:.35rem; }

  .card-num{ font-size:1.4rem;font-weight:900;display:block;margin-bottom:.6rem;color:#fff }

  /* === große Zahl (visueller Akzent) === */
  .card-num-giant{
    position:absolute;right:.6rem;bottom:.6rem;
    font-weight:900;letter-spacing:-.03em;line-height:1;
    font-size:clamp(2.2rem, 10vh, 8rem);
    color:rgba(255,255,255,.18);
    pointer-events:none;z-index:1;white-space:nowrap;text-align:right;
    transform:rotate(-90deg);
    transform-origin:bottom right;
    transition:opacity .35s ease,transform .35s ease;
    mix-blend-mode:soft-light;
  }
  /* auf kleinen Screens ausblenden – spart Platz */
  @media (max-width: 600px){
    .card-num-giant{ display:none; }
  }

  /* === Gradients === */
  .flow-rail .flow-card:nth-child(1){ background:linear-gradient(270deg,#04006c,#6f00ff,#050088);background-size:600% 600%;color:#fff }
  .flow-rail .flow-card:nth-child(2){ background:linear-gradient(135deg,#0d0d0d,#000e5c,#0d0d0d);background-size:300% 300%;color:#fff }
    .flow-rail .flow-card:nth-child(3){ background:linear-gradient(135deg,#000000,#0d003b,#000000);background-size:300% 300%;color:#fff }
  .flow-rail .flow-card:nth-child(4){ background:linear-gradient(135deg,#ff5100,hwb(340 0% 0%),#ff5100);background-size:400% 400%;color:#fff }
  .flow-rail .flow-card:nth-child(5){ background:linear-gradient(135deg,#0d0d0d,#000,#0d0d0d);background-size:300% 300%;color:#fff }

  .flow-card[role="button"]:focus-visible{ outline:3px solid rgba(255,255,255,.6);outline-offset:4px }
  :root[data-theme="light"] .flow-card[role="button"]:focus-visible{ outline:3px solid rgba(0,0,0,.35) }

  /* === JS-Modus – Kästchen/Expand nur ab Desktop === */
  @media (min-width: 1025px){
    #flowhub.is-enhanced .flow-card{ flex:0 0 clamp(140px,14vw,220px);transition:flex var(--dur) ease }
    #flowhub.is-enhanced .flow-card.is-open{ flex:1 1 auto }

    #flowhub.is-enhanced .flow-card:not(.is-open) .card-num,
    #flowhub.is-enhanced .flow-card:not(.is-open) h3,
    #flowhub.is-enhanced .flow-card:not(.is-open) p,
    #flowhub.is-enhanced .flow-card:not(.is-open) .details{
      height:0;opacity:0;overflow:hidden;visibility:hidden
    }
    #flowhub.is-enhanced .flow-card.is-open .card-num,
    #flowhub.is-enhanced .flow-card.is-open h3,
    #flowhub.is-enhanced .flow-card.is-open p,
    #flowhub.is-enhanced .flow-card.is-open .details{
      height:auto;opacity:1;visibility:visible;transition:opacity .35s ease .1s
    }

    /* große Zahl per ::after nur auf Desktop */
    #flowhub.is-enhanced .flow-card::after{
      content:attr(data-stage);
      position:absolute;right:1rem;bottom:10rem;
      transform:rotate(-90deg);
      transform-origin:bottom right;
      font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,"Roboto Mono",monospace;
      font-weight:900;
      font-size:clamp(3rem,12vh,8rem);
      line-height:1;
      color:rgba(255,255,255,.4);
      white-space:nowrap;
      pointer-events:none;
      z-index:3;
      opacity:1;
      transition:opacity .25s ease;
      mix-blend-mode:soft-light;
    }
    #flowhub.is-enhanced .flow-card.is-open::after{ opacity:0 }
  }

  /* === Fallback ohne JS (immer grid, kein Kästchen) === */
  #flowhub:not(.is-enhanced) .flow-card{
    flex:1 1 320px !important;
    height:auto !important;
    --tile-h:auto !important;
    transition:none !important;
  }
  #flowhub:not(.is-enhanced) .flow-card .card-core{
    clip-path:none !important;
    min-width:0;
  }
  #flowhub:not(.is-enhanced) .flow-card .card-num,
  #flowhub:not(.is-enhanced) .flow-card h3,
  #flowhub:not(.is-enhanced) .flow-card p,
  #flowhub:not(.is-enhanced) .flow-card .details{
    height:auto !important;
    opacity:1 !important;
    visibility:visible !important;
    overflow:visible !important;
  }
  #flowhub:not(.is-enhanced) .flow-card::after{ display:none !important }

  /* === Feintuning Responsiv === */
  /* kleine Landscape-Displays: etwas kompakter */
  @media (max-height: 520px) and (max-width: 900px){
    .pane-world{ padding-top:1.2rem; }
    .pane-wrap .pane-subtitle{ margin-bottom:1.2rem; }
    .flow-card{ padding:1rem; }
  }

  /* Reduced motion */
  @media (prefers-reduced-motion: reduce){
    *{ animation-duration:0.01ms !important; animation-iteration-count:1 !important; transition-duration:0.01ms !important; scroll-behavior:auto !important; }
  }
  /* verstecke Inhalte der Karten erst, wenn .booted aktiv ist */
#flowhub.is-enhanced.booted .flow-card:not(.is-open) .card-num,
#flowhub.is-enhanced.booted .flow-card:not(.is-open) h3,
#flowhub.is-enhanced.booted .flow-card:not(.is-open) p,
#flowhub.is-enhanced.booted .flow-card:not(.is-open) .details{
  height:0;
  opacity:0;
  overflow:hidden;
  visibility:hidden;
}
/* ===============================
   FLOWHUB — Dark Mode
   Hintergrund immer #000 + Titel/Subline anpassen
   =============================== */

:root[data-theme="dark"] #flowhub .pane-world{
  background: #000 !important;
  color: #fff !important;
}

/* Überschrift */
:root[data-theme="dark"] #flowhub .pane-wrap .pane-title{
  color: #fff !important;
  text-shadow: 0 1px 2px rgba(0,0,0,.35) !important;
}

/* Subline (Glas-Look auf Schwarz) */
:root[data-theme="dark"] #flowhub .pane-wrap .pane-subtitle{
  color: #e8eeff !important;
  background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.035)) !important;
  border: 1px solid rgba(255,255,255,.08) !important;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.22),
    0 2px 8px rgba(0,0,0,.45) !important;
}

/* Optional: System-Dark bei data-theme="auto" */
@media (prefers-color-scheme: dark){
  :root[data-theme="auto"] #flowhub .pane-world{
    background: #000 !important;
    color: #fff !important;
  }
  :root[data-theme="auto"] #flowhub .pane-wrap .pane-title{
    color: #fff !important;
    text-shadow: 0 1px 2px rgba(0,0,0,.35) !important;
  }
  :root[data-theme="auto"] #flowhub .pane-wrap .pane-subtitle{
    color: #e8eeff !important;
    background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.035)) !important;
    border: 1px solid rgba(255,255,255,.08) !important;
    box-shadow:
      inset 0 1px 0 rgba(255,255,255,.22),
      0 2px 8px rgba(0,0,0,.45) !important;
  }
}
:root[data-theme="dark"] #flowhub .flow-card{
  border: 1px solid rgba(255,255,255,0.35) !important;
}

@media (prefers-color-scheme: dark){
  :root[data-theme="auto"] #flowhub .flow-card{
    border: 1px solid rgba(255,255,255,0.35) !important;
  }
}

/* 1) Unteren Sicherheitsabstand als Variable einführen */
.flow-card{
  /* NEU */
  --card-bottom-safe: 2.25rem;               /* Grundabstand unten */
  padding-top: clamp(1.2rem, 2.5vw, 2rem);
  padding-right: clamp(1rem, 2vw, 1.6rem);
  /* NEU: padding-bottom inkl. Sicherheitsabstand */
  padding-bottom: calc(clamp(1.2rem, 2.5vw, 2rem) + var(--card-bottom-safe));
  padding-left: clamp(1rem, 2vw, 1.6rem);
}

/* 2) Im Desktop-/Enhanced-Modus etwas mehr Luft, 
      weil ::after / .card-num-giant dort eine Rolle spielen kann */
@media (min-width: 1025px){
  #flowhub.is-enhanced .flow-card{
    --card-bottom-safe: 3.5rem;              /* mehr Freiraum unten */
  }
  /* Optional: wenn eine Karte offen ist, minimal kompakter */
  #flowhub.is-enhanced .flow-card.is-open{
    --card-bottom-safe: 2.75rem;
  }
}

/* 3) Kleinigkeit: kein zusätzlicher “letzter Rand” in Details */
.flow-card .details:last-child{ margin-bottom: 0; }

/* === FLOWHUB: Stage bei 1600px deckeln + fester Außenabstand === */
#flowhub {
  --flow-stage: 1300px;     /* maximale Bühnenbreite */
  --flow-gutter: 2rem;      /* Außenabstand je Seite */
}

/* Außenabstand der Sektion (respektiert Safe-Area) */
#flowhub .pane-world{
  padding-left:  max(var(--flow-gutter), calc(1rem + env(safe-area-inset-left)));
  padding-right: max(var(--flow-gutter), calc(1rem + env(safe-area-inset-right)));
}

/* Bühne zentrieren + bei 1600px klemmen (überschreibt die 1200px aus .pane-wrap) */
#flowhub .pane-wrap{
  max-width: var(--flow-stage) !important;
  width: 100%;
  margin-inline: auto !important;
  padding-inline: 0 !important;
}

/* Desktop-„Kästchen“-Modus: Rail selbst nicht darüber hinausziehen */
@media (min-width:1025px){
  #flowhub .flow-rail{
    max-width: var(--flow-stage);
    margin-inline: auto;
  }
}

/* Sicherheitsnetz: kein horizontales Scrollen durch Subpixel */
#flowhub .pane-world,
#flowhub .pane-wrap{ overflow-x: clip; }

</style>
<section class="pane-transition" id="flowhub" aria-labelledby="flowhub-h">
  <div class="pane-world is-visible" id="paneWorld">
    <div class="pane-wrap">
      <h2 id="flowhub-h" class="pane-title">So läuft ein Projekt mit Fusion³</h2>
      <p class="pane-subtitle">Kreativ, präzise und partnerschaftlich – von der ersten Idee bis zur finalen Umsetzung.</p>

      <div class="flow-rail" role="list">

        <!-- 01: STRATEGIE & VISION -->
        <div class="flow-card has-art" id="flow-step-01" role="button" tabindex="0"
             data-stage="01" aria-expanded="false" aria-labelledby="flow-step-01-h" aria-controls="flow-step-01-details">
          <span class="card-num-giant" aria-hidden="true">01</span>
          <div class="card-core">
            <span class="card-num" aria-hidden="true">01</span>
            <h3 id="flow-step-01-h">Strategie & Vision</h3>
            <p>Jedes Projekt beginnt mit einem klaren Verständnis Ihrer Ziele, Zielgruppen und Markenidentität. Wir entwickeln eine Strategie, die Design, Technologie und Kommunikation zu einem stimmigen Gesamtkonzept verbindet.</p>
            <div class="details" id="flow-step-01-details">
              <p>So entsteht die Grundlage für ein Ergebnis, das visuell überzeugt, technisch funktioniert und strategisch Wirkung zeigt.</p>
            </div>
          </div>
        </div>

        <!-- 02: KONZEPT & STRUKTUR -->
        <div class="flow-card" id="flow-step-02" role="button" tabindex="0"
             data-stage="02" aria-expanded="false" aria-labelledby="flow-step-02-h" aria-controls="flow-step-02-details">
          <span class="card-num-giant" aria-hidden="true">02</span>
          <div class="card-core">
            <span class="card-num" aria-hidden="true">02</span>
            <h3 id="flow-step-02-h">Konzept & Struktur</h3>
            <p>Aus der Vision entsteht ein fundiertes Konzept: Informationsarchitektur, Storyboard oder Szenenlayout – je nach Projektart. So legen wir den Rahmen für eine ästhetisch und funktional überzeugende Umsetzung.</p>
            <div class="details" id="flow-step-02-details">
              <p>Wir achten auf klare Strukturen, intuitive Abläufe und konsistente Designs – die Basis für ein stimmiges Nutzererlebnis.</p>
            </div>
          </div>
        </div>

        <!-- 03: DESIGN & ENTWICKLUNG -->
        <div class="flow-card" id="flow-step-03" role="button" tabindex="0"
             data-stage="03" aria-expanded="false" aria-labelledby="flow-step-03-h" aria-controls="flow-step-03-details">
          <span class="card-num-giant" aria-hidden="true">03</span>
          <div class="card-core">
            <span class="card-num" aria-hidden="true">03</span>
            <h3 id="flow-step-03-h">Design & Entwicklung</h3>
            <p>Das visuelle Konzept wird in greifbare Ergebnisse übersetzt – von Webdesigns über 3D-Renderings bis zu Animationen. Fortschritte sind jederzeit transparent einsehbar, Anpassungen fließen agil in den Prozess ein.</p>
            <div class="details" id="flow-step-03-details">
              <p>Wir kombinieren Kreativität mit technischer Präzision – für Designs, die begeistern und funktionieren.</p>
            </div>
          </div>
        </div>

        <!-- 04: FEINSCHLIFF & VERÖFFENTLICHUNG -->
        <div class="flow-card" id="flow-step-04" role="button" tabindex="0"
             data-stage="04" aria-expanded="false" aria-labelledby="flow-step-04-h" aria-controls="flow-step-04-details">
          <span class="card-num-giant" aria-hidden="true">04</span>
          <div class="card-core">
            <span class="card-num" aria-hidden="true">04</span>
            <h3 id="flow-step-04-h">Feinschliff & Veröffentlichung</h3>
            <p>In der finalen Phase werden alle Details perfektioniert – Design, Performance und Präsentation. Nach präzisem Testing oder Rendering erfolgt der Launch bzw. die Auslieferung – sauber, zuverlässig und auf höchstem Qualitätsniveau.</p>
            <div class="details" id="flow-step-04-details">
              <p>Das Ergebnis überzeugt visuell, technisch und konzeptionell – bereit für maximale Wirkung.</p>
            </div>
          </div>
        </div>

        <!-- 05: WACHSTUM & SKALIERBARKEIT -->
        <div class="flow-card" id="flow-step-05" role="button" tabindex="0"
             data-stage="05" aria-expanded="false" aria-labelledby="flow-step-05-h" aria-controls="flow-step-05-details">
          <span class="card-num-giant" aria-hidden="true">05</span>
          <div class="card-core">
            <span class="card-num" aria-hidden="true">05</span>
            <h3 id="flow-step-05-h">Wachstum & Skalierbarkeit </span></h3>
<p>Auch nach Projektabschluss bleibt das Fundament zukunftsfähig. Wir begleiten Skalierung, Content-Erweiterung und technische Weiterentwicklung – für nachhaltiges, messbares Wachstum.</p>
<div class="details" id="flow-step-05-details">
  <p>Mit modularen Designsystemen, automatisierten Renderpipelines und skalierbaren Architekturen wächst Ihr Projekt flexibel und effizient mit Ihrem Unternehmen.</p>
</div>

          </div>
        </div>

      </div><!-- /.flow-rail -->
    </div>
  </div>
</section>

<!-- GSAP -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js" defer></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js" defer></script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    if (window.gsap) {
      gsap.registerPlugin(ScrollTrigger);

      const cardsList = Array.from(document.querySelectorAll('#flowhub .flow-card'));

      // === Nummerierung 00-basiert (00, 01, 02, ...) ===
      cardsList.forEach((card, i) => {
        const nn = String(i).padStart(2, '0');
        card.setAttribute('data-stage', nn); // für ::after
        const small = card.querySelector('.card-num');
        const giant = card.querySelector('.card-num-giant');
        if (small) small.textContent = nn;
        if (giant) giant.textContent = nn;
      });

      // === Intro-Animation (sanft oder aus bei Reduced Motion) ===
      const tlIntro = prefersReduced ? null : gsap.timeline({
        scrollTrigger: {
          trigger:'#flowhub',
          start:'top 80%',
          toggleActions:'play none none reverse'
        }
      });

      const isDesktop = () => window.matchMedia('(min-width: 1025px)').matches;

      // === Nudge (Doppel-Stups) der zweiten Karte, zyklisch ===
      let nudgeInterval = null;
      let nudgeTl = null;

      function clearNudgeTl() {
        if (nudgeTl) { nudgeTl.kill(); nudgeTl = null; }
        if (cardsList[1]) gsap.set(cardsList[1], { y: 0 });
      }

      function stopNudge() {
        if (nudgeInterval) {
          clearInterval(nudgeInterval);
          nudgeInterval = null;
        }
        clearNudgeTl();
      }

      function makeNudge(target, amp = 10) {
        // zwei leichte Stupser
        const tl = gsap.timeline({ defaults: { clearProps: false } });
        tl.to(target, { y: -amp, duration: 0.16, ease: 'power1.out' })
          .to(target, { y: 0, duration: 0.20, ease: 'power2.out' }, '+=0.02')
          .to(target, { y: -(amp * 0.7), duration: 0.14, ease: 'power1.out' }, '+=0.18')
          .to(target, { y: 0, duration: 0.18, ease: 'power2.out' });
        return tl;
      }

      function startNudge() {
        if (prefersReduced || nudgeInterval || !isDesktop() || !cardsList[1]) return;
        nudgeInterval = setInterval(() => {
          clearNudgeTl();
          nudgeTl = makeNudge(cardsList[1], 10);
        }, 7000);
      }

      // Build Intro Tweens (ohne Nudge-Callback)
      if (!prefersReduced) {
        cardsList.forEach((card, i) => {
          tlIntro.fromTo(
            card,
            { opacity: 0, y: 60 },
            { opacity: 1, y: 0, duration: 1.0, ease: 'power3.out' },
            i * 0.16
          );
        });
      } else {
        gsap.set(cardsList, { opacity: 1, y: 0 });
      }

      // === Expand/Auto-Cycle nur auf Desktop ===
      (function(){
        const rail = document.querySelector('#flowhub .flow-rail');
        if(!rail) return;
        const cards = Array.from(rail.querySelectorAll('.flow-card'));
        const rootEl = document.documentElement;
        const root = document.getElementById('flowhub');
        let autoId=null,selectedIdx=-1,railInView=false,booted=false;

        const mqDesktop = window.matchMedia('(min-width:1025px)');
        let expandMode = mqDesktop.matches && !prefersReduced;

        function syncHeightFromFirst(){
          const first=cards[0];
          if(!first) return;
          const wasOpen=first.classList.contains('is-open');
          if(!wasOpen) first.classList.add('is-open');
          const h=first.getBoundingClientRect().height;
          rootEl.style.setProperty('--tile-h', (h||0)+'px');
          if(!wasOpen) first.classList.remove('is-open');
        }

        function openAt(idx){
          if(!expandMode) return;
          if(idx<0||idx>=cards.length) return;
          selectedIdx=idx;
          stopNudge();
          cards.forEach((c,i)=>{
            const open=i===idx;
            c.classList.toggle('is-open',open);
            c.setAttribute('aria-expanded',open?'true':'false');
          });
          if(idx===0) syncHeightFromFirst();
        }

        function clearAutoCycle(){ if(autoId){ clearTimeout(autoId); autoId=null; } }
        function planNext(delayMs=18000){
          if(!expandMode) return;
          clearAutoCycle();
          if(!railInView) return;
          autoId=setTimeout(()=>{
            if(!railInView) return;
            const next=(selectedIdx+1)%cards.length;
            openAt(next);
            planNext(delayMs);
          },delayMs);
        }

        cards.forEach((c,i)=>{
          c.addEventListener('click',()=>{ if(!expandMode) return; stopNudge(); openAt(i); planNext(); });
          c.addEventListener('keydown',e=>{
            if(!expandMode) return;
            if(e.key==='Enter'||e.key===' '){ e.preventDefault(); stopNudge(); openAt(i); planNext(); }
          });
        });

        const io=new IntersectionObserver((entries)=>{
          const entry=entries[0];
          railInView=entry.isIntersecting && entry.intersectionRatio>=0.5;
          if(!expandMode) return;
          if(railInView){
            if(!booted){ booted=true; openAt(0); planNext(); root.classList.add('booted'); }
            else { planNext(); }
            startNudge(); // Sichtbar + Desktop -> Nudge starten
          } else {
            stopNudge();  // nicht sichtbar -> pausieren
          }
        },{threshold:[0,0.5,1]});
        io.observe(rail);

        function applyMode(){
          expandMode = mqDesktop.matches && !prefersReduced;
          if (root){
            root.classList.toggle('is-enhanced', expandMode);
          }
          if(!expandMode){
            clearAutoCycle();
            cards.forEach(c=>{ c.classList.add('is-open'); c.setAttribute('aria-expanded','true'); });
            rootEl.style.setProperty('--tile-h','auto');
            stopNudge();
            root?.classList.remove('booted');
          }else{
            cards.forEach(c=>{ c.classList.remove('is-open'); c.setAttribute('aria-expanded','false'); });
            openAt(Math.max(0,selectedIdx,0)); // sofort öffnen
            root?.classList.add('booted'); // Boot-Modus aktivieren
            if(railInView){ planNext(); startNudge(); }
          }
        }

        mqDesktop.addEventListener('change', applyMode);
        window.addEventListener('resize', () => { if(expandMode) syncHeightFromFirst(); });

        applyMode();

        // Doppelt absichern: beim Laden direkt öffnen falls Desktop
        if (expandMode) { openAt(0); root?.classList.add('booted'); }
      })();
    }
  });
</script>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebPage",
      "@id": "https://example.com/prozess/#webpage",
      "url": "https://example.com/prozess/",
      "name": "Projektablauf mit Fusion³",
      "inLanguage": "de",
      "description": "So läuft ein Projekt mit Fusion³: transparenter Ablauf von Kick-off bis Launch – schnell, klar, partnerschaftlich.",
      "isPartOf": { "@type": "WebSite", "@id": "https://example.com/#website", "url": "https://example.com/" },
      "mainEntity": { "@id": "https://example.com/prozess/#howto-flow" }
    },
    {
      "@type": "HowTo",
      "@id": "https://example.com/prozess/#howto-flow",
      "name": "So läuft ein Projekt mit Fusion³",
      "inLanguage": "de",
      "description": "Schritt-für-Schritt-Ablauf von Erstgespräch über Konzeption bis Feinschliff und Übergabe.",
      "step": [
        {
          "@type": "HowToStep",
          "position": 0,
          "name": "Unser Ansatz",
          "url": "https://example.com/prozess/#flow-step-00",
          "itemListElement": [
            { "@type": "HowToDirection", "text": "Strukturiertes Onboarding nach Projektstart." },
            { "@type": "HowToDirection", "text": "Erstgespräch zu Rahmenbedingungen, Zielen und Wünschen." }
          ]
        },
        {
          "@type": "HowToStep",
          "position": 1,
          "name": "Erstgespräch – Der Grundstein",
          "url": "https://example.com/prozess/#flow-step-01",
          "itemListElement": [
            { "@type": "HowToDirection", "text": "Ziele, Zielgruppen und gewünschte Wirkungen klären." },
            { "@type": "HowToTip", "text": "Auf Wunsch nächste Schritte und Zeitplan definieren." }
          ]
        },
        {
          "@type": "HowToStep",
          "position": 2,
          "name": "Konzeption & Design",
          "url": "https://example.com/prozess/#flow-step-02",
          "itemListElement": [
            { "@type": "HowToDirection", "text": "Wireframes, Styleframes und Interaktionsideen entwickeln." },
            { "@type": "HowToDirection", "text": "Iterativ Look & Feel verfeinern – Story, Usability, Performance." }
          ]
        },
        {
          "@type": "HowToStep",
          "position": 3,
          "name": "Feedback & Feinschliff",
          "url": "https://example.com/prozess/#flow-step-03",
          "itemListElement": [
            { "@type": "HowToDirection", "text": "Feedbackschleifen zur Erwartungsabstimmung und Detailoptimierung." },
            { "@type": "HowToDirection", "text": "Übergabe, Dokumentation und Roadmap für spätere Ausbaustufen." }
          ]
        }
      ]
    }
  ]
}
</script>





















<!-- =============================================
     Kontakt + Video (gleich hohe Karten) + Testimonials
     – 6-Step Wizard-Form (Formspree) + Success-Screen
     ============================================= -->
<section class="kontakt-testimonial-section" id="kontakt">
  <div class="kontakt-testimonial-wrapper">
    <!-- Kontaktbereich -->
    <div class="kontakt-area">
      <h2 class="section-title">Lass uns loslegen!</h2>
      <p class="kontakt-subline">
        Eine starke Idee verdient ein starkes digitales Erlebnis.
      </p>

      <!-- =====================
           Wizard Formular
           ===================== -->
      <form action="https://formspree.io/f/xqapdvaq" method="POST" class="kontakt-form" id="kontaktForm" novalidate>

        <!-- STEP 1: Leistungswahl -->
        <fieldset class="form-step active" data-step="1" aria-labelledby="step1Title">
          <legend id="step1Title" class="sr-only">Leistungswahl</legend>
          <p class="copy step1-copy">Wofür interessierst du dich?</p>

          <div class="grid-choices" role="radiogroup" aria-label="Leistung wählen">
            <label class="choice" tabindex="0">
              <input type="radio" name="service" value="Webdesign" data-toggle="web" />
              <span class="title">Webdesign</span>
              <small>Speed, Responsiveness, SEO, UX</small>
            </label>
            <label class="choice" tabindex="0">
              <input type="radio" name="service" value="3D-Design" data-toggle="d3" />
              <span class="title">3D-Design</span>
              <small>Renderings, Animationen, Produkt/Architektur</small>
            </label>
            <label class="choice" tabindex="0">
              <input type="radio" name="service" value="Grafikdesign" data-toggle="gfx" />
              <span class="title">Grafikdesign</span>
              <small>Logo, Visitenkarte, Poster/Flyer, Styleguide</small>
            </label>
          </div>
        </fieldset>

        <!-- STEP 2: Material & Styleguides -->
        <fieldset class="form-step" data-step="2" aria-labelledby="step2Title">
          <legend id="step2Title" class="sr-only">Material & Styleguide</legend>

          <!-- Web -->
          <div class="service-block" data-service="web">
            <h3 class="block-title">Webdesign – Material & Branding</h3>
            <label class="select-row">
              <span>Material (Texte/Bilder/Logo)</span>
              <select name="web_material">
                <option value="">Bitte wählen</option>
                <option value="alles">Alles vorhanden</option>
                <option value="teilweise">Teilweise vorhanden</option>
                <option value="nichts">Bitte komplett erstellen</option>
              </select>
            </label>
            <label class="select-row">
              <span>Styleguide / CI vorhanden?</span>
              <select name="web_styleguide">
                <option value="">Bitte wählen</option>
                <option value="ja">Ja</option>
                <option value="nein">Nein</option>
              </select>
            </label>
          </div>

          <!-- 3D -->
          <div class="service-block" data-service="d3">
            <h3 class="block-title">3D-Design – Ausgangsmaterial</h3>
            <label class="select-row">
              <span>3D-Daten / Modelle vorhanden?</span>
              <select name="d3_daten">
                <option value="">Bitte wählen</option>
                <option value="vorhanden">Ja, vorhanden</option>
                <option value="modellierung_noetig">Nein, bitte modellieren</option>
              </select>
            </label>
          </div>

          <!-- Grafik -->
          <div class="service-block" data-service="gfx">
            <h3 class="block-title">Grafikdesign – Material & Branding</h3>
            <label class="select-row">
              <span>Branding / Styleguide vorhanden?</span>
              <select name="gfx_styleguide">
                <option value="">Bitte wählen</option>
                <option value="ja">Ja</option>
                <option value="nein">Nein</option>
              </select>
            </label>
            <label class="select-row">
              <span>Text-/Bildmaterial</span>
              <select name="gfx_material">
                <option value="">Bitte wählen</option>
                <option value="alles">Alles vorhanden</option>
                <option value="teilweise">Teilweise</option>
                <option value="nichts">Bitte erstellen</option>
              </select>
            </label>
          </div>
        </fieldset>

        <!-- STEP 3: Spezifische Ziele/Typen -->
        <fieldset class="form-step" data-step="3" aria-labelledby="step3Title">
          <legend id="step3Title" class="sr-only">Projektspezifikationen</legend>

          <!-- Web -->
          <div class="service-block" data-service="web">
            <h3 class="block-title">Webdesign – Typ & Prioritäten</h3>
            <label class="select-row">
              <span>Website-Typ</span>
              <select name="web_typ">
                <option value="">Bitte wählen</option>
                <option value="unternehmensseite">Unternehmensseite</option>
                <option value="portfolio">Portfolio</option>
                <option value="shop">Online-Shop</option>
                <option value="landingpage">Landingpage</option>
                <option value="sonstiges">Sonstiges</option>
              </select>
            </label>

            <fieldset class="checkbox-group tags" aria-label="Besondere Schwerpunkte">
              <legend class="checkbox-legend">Besondere Schwerpunkte</legend>
              <label class="pill"><input type="checkbox" name="web_prios[]" value="Ladegeschwindigkeit" data-pills /><span>Ladegeschwindigkeit</span></label>
              <label class="pill"><input type="checkbox" name="web_prios[]" value="Responsiveness" data-pills /><span>Responsiveness</span></label>
              <label class="pill"><input type="checkbox" name="web_prios[]" value="SEO" data-pills /><span>SEO</span></label>
              <label class="pill"><input type="checkbox" name="web_prios[]" value="Benutzerfreundlichkeit" data-pills /><span>Benutzerfreundlichkeit</span></label>
              <label class="pill"><input type="checkbox" name="web_prios[]" value="Designqualität" data-pills /><span>Designqualität</span></label>
            </fieldset>
          </div>

          <!-- 3D -->
          <div class="service-block" data-service="d3">
            <h3 class="block-title">3D-Design – Ziel & Anwendung</h3>
            <label class="select-row">
              <span>Was soll entstehen?</span>
              <select name="d3_typ">
                <option value="">Bitte wählen</option>
                <option value="rendering">Rendering</option>
                <option value="animation">Animation</option>
                <option value="produktvisualisierung">Produktvisualisierung</option>
                <option value="architekturvisualisierung">Architekturvisualisierung</option>
                <option value="sonstiges">Sonstiges</option>
              </select>
            </label>
            <label class="select-row">
              <span>Verwendungszweck</span>
              <select name="d3_use">
                <option value="">Bitte wählen</option>
                <option value="marketing">Marketing / Werbung</option>
                <option value="praesentation">Präsentation</option>
                <option value="shop">Online-Shop</option>
                <option value="print">Print</option>
              </select>
            </label>
          </div>

          <!-- Grafik -->
          <div class="service-block" data-service="gfx">
            <h3 class="block-title">Grafikdesign – Typ & Prioritäten</h3>
            <label class="select-row">
              <span>Design-Typ</span>
              <select name="gfx_typ">
                <option value="">Bitte wählen</option>
                <option value="logo">Logo</option>
                <option value="visitenkarte">Visitenkarte</option>
                <option value="flyer_poster">Flyer / Poster</option>
                <option value="styleguide">Styleguide</option>
                <option value="sonstiges">Sonstiges</option>
              </select>
            </label>
            <fieldset class="checkbox-group tags" aria-label="Prioritäten Grafikdesign">
              <legend class="checkbox-legend">Besondere Schwerpunkte</legend>
              <label class="pill"><input type="checkbox" name="gfx_prios[]" value="Brand-Konsistenz" data-pills /><span>Brand-Konsistenz</span></label>
              <label class="pill"><input type="checkbox" name="gfx_prios[]" value="Typografie" data-pills /><span>Typografie</span></label>
              <label class="pill"><input type="checkbox" name="gfx_prios[]" value="Druckvorbereitung" data-pills /><span>Druckvorbereitung</span></label>
              <label class="pill"><input type="checkbox" name="gfx_prios[]" value="Illustration" data-pills /><span>Illustration</span></label>
              <label class="pill"><input type="checkbox" name="gfx_prios[]" value="Schnelle Umsetzung" data-pills /><span>Schnelle Umsetzung</span></label>
            </fieldset>
          </div>
        </fieldset>

        <!-- STEP 4: Zeit & Budget -->
        <fieldset class="form-step" data-step="4" aria-labelledby="step4Title">
          <legend id="step4Title" class="sr-only">Zeit & Budget</legend>
          <label class="input-row">
            <span>Deadline oder Zeitraum</span>
            <input type="text" name="deadline" placeholder="z. B. bis 15. November oder Q4" />
          </label>
          <label class="input-row">
            <span>Budgetrahmen (optional)</span>
            <input type="text" name="budget" placeholder="z. B. 3.000–6.000 €" />
          </label>
        </fieldset>

        <!-- STEP 5: Kontaktdaten -->
        <fieldset class="form-step" data-step="5" aria-labelledby="step5Title">
          <legend id="step5Title" class="sr-only">Kontaktdaten</legend>

          <!-- Hidden (nur gewünschte Felder) -->
          <input type="hidden" name="_subject" id="autoSubject" />
          <textarea class="sr-only" name="summary_plain" id="summaryPlain" aria-hidden="true"></textarea>
          <input type="hidden" name="selected_service" id="selectedService" />

          <!-- Responsive Kontakt-Grid -->
          <div class="contact-grid">
           <div class="field span-6">
  <label for="name" class="req">Name</label>
  <input id="name" type="text" name="name" placeholder="Dein Name" autocomplete="name" required />
</div>

<div class="field span-6">
  <label for="email" class="req">E-Mail</label>
  <input id="email" type="email" name="email" placeholder="dein@mail.de" autocomplete="email" required />
</div>

<div class="field span-6">
  <label for="phone">Telefon (optional)</label>
  <input id="phone" type="tel" name="phone" placeholder="z. B. +49 151 12345678" autocomplete="tel" />
</div>

<div class="field span-12">
  <label for="message" class="req">Nachricht</label>
  <textarea id="message" name="message" rows="6" placeholder="Kurz dein Projekt / Ziel beschreiben…" minlength="5" required></textarea>
</div>

<p class="req-note">* Pflichtfelder</p>

          </div>
          <p class="legal-hint">
  Deine Angaben werden über <strong>Formspree</strong> zur Beantwortung deiner Anfrage verarbeitet.
  Mehr unter <a href="/datenschutz.html" target="_blank" rel="noopener">Datenschutz</a>.
</p>

        </fieldset>

        <!-- STEP 6: Abschluss / Erfolg -->
        <fieldset class="form-step" data-step="6" aria-labelledby="step6Title">
          <legend id="step6Title" class="sr-only">Abschluss</legend>
          <div class="success-card" role="status" aria-live="polite">
            <h3 class="success-title">Geschafft! 🎉</h3>
            <p class="success-copy">Vielen Dank für deine Anfrage <br> Wir melden uns in Kürze bei dir.</p>
            <p class="success-sub">Du wirst gleich automatisch zum Start zurückgeführt …</p>
            <button type="button" class="success-btn" disabled>✅ Anfrage gesendet</button>
          </div>
        </fieldset>

        <!-- === Progressbar === -->
        <div class="stepper" aria-label="Fortschritt" role="progressbar" aria-valuemin="1" aria-valuemax="6" aria-valuenow="1">
          <div class="stepper-header">
            <span id="stepLabel">Schritt 1/6</span>
          </div>
          <div class="stepper-track">
            <div class="stepper-fill" id="stepperFill" style="width:0%"></div>
          </div>
        </div>

        <!-- Wizard Navigation -->
        <div class="wizard-nav" id="wizardNav">
          <button type="button" class="nav-btn prev" id="prevBtn" disabled>Zurück</button>
          <button type="button" class="nav-btn next" id="nextBtn" disabled>Weiter</button>
          <button type="submit" class="kontakt-btn submit" id="submitBtn" hidden>Senden!</button>
        </div>
      </form>
    </div>

    <!-- Videokarte -->
    <div class="video-area" aria-label="Einblick in Prozess, Tools & Zusammenarbeit">
      <div class="video-card">
        <video 
          class="video-media"
          autoplay 
          loop 
          muted 
          playsinline 
          preload="auto"
        >
          <source src="./indexFotoSlideShow/kartenvideo.mp4" type="video/mp4" />
          Dein Browser unterstützt das Video-Tag nicht.
        </video>
      </div>
    </div>

    <!-- Testimonials (volle Breite darunter) -->
    <div class="testimonial-area">
      <testimonial-slider></testimonial-slider>
    </div>
  </div>
</section>
<style>
  /* ========= Theme Tokens ========= */
  :root{
    --surface:#fff; --surface-elev:#f7f8fa; --text:#0b0c0e; --muted:#5d6066;
    --border:#e6e8eb; --input-bg:#ffffffcc; --input-text:#0b0c0e; --placeholder:#8b9096; --btn-text:#fff;
    --choice-green:#00c851; --choice-ink:#ffffff;
    --pill-bg:#f3f5f7; --pill-text:#0b0c0e; --pill-green:#00c851; --pill-green-ink:#ffffff;
    --aur-ink:#0b0c10; --aur-ink-muted:#0f1729; --aur-shadow-light: 0 1px 2px rgba(0,0,0,.06); --aur-shadow-strong: 0 1px 2px rgba(0,0,0,.18);
  }
  :root[data-theme="dark"]{
    --surface:#000; --surface-elev:#111216; --text:#f5f7fa; --muted:#c6cad1;
    --border:#262a31; --input-bg:#111216cc; --input-text:#f5f7fa; --placeholder:#95a0ad; --btn-text:#fff;
    --pill-bg:#1b1d22; --pill-text:#e8ecf2;
  }

  /* ========= Layout ========= */
  html, body { box-sizing:border-box; overflow-x:hidden; margin:0; padding:0; }
  *, *::before, *::after { box-sizing:inherit; }

  .kontakt-testimonial-section{ background:var(--surface); color:var(--text); padding:clamp(2.5rem,5.5vw,5rem) 1.5rem; margin-top:clamp(4rem,8vw,8rem); font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif; }
  .kontakt-testimonial-wrapper{
    max-width:1440px; margin:0 auto; display:flex; gap:clamp(1.5rem,3.5vw,3rem); flex-wrap:wrap;
    justify-content:space-between; align-items:stretch; /* gleiche Höhe */
  }

  /* Karten nebeneinander gleich hoch */
  .kontakt-area,
  .video-area { flex:1 1 480px; max-width:640px; min-width:300px; }

  .kontakt-area{
    background:color-mix(in oklab,var(--surface-elev) 85%,transparent);
    border:1px solid var(--border); border-radius:18px;
    padding:clamp(1.1rem,2vw,1.6rem);
    box-shadow:0 10px 30px rgba(0,0,0,.06);
    backdrop-filter:blur(8px) saturate(1.02);
    height:auto; display:block;
  }

  /* Videokarte */
  .video-area{ display:flex; }
  .video-card{
    display:flex; flex-direction:column; gap:.8rem;
    background:color-mix(in oklab,var(--surface-elev) 85%,transparent);
    border:1px solid var(--border); border-radius:18px;
    padding:clamp(1.1rem,2vw,1.6rem); width:100%;
    box-shadow:0 10px 30px rgba(0,0,0,.06); backdrop-filter:blur(8px) saturate(1.02);
  }
  .video-header{ display:flex; flex-direction:column; gap:.15rem; text-align:center; } /* mittig */
  .video-title{ margin:0; font-size:clamp(1.2rem,1rem + .9vw,1.6rem); font-weight:900; letter-spacing:-.01em; color:var(--aur-ink); text-shadow:var(--aur-shadow-light); }
  .video-sub{ margin:0; color:var(--muted); font-weight:650; }

  /* Video füllt die Kartenhöhe */
  .video-wrapper{
    position:relative; flex:1 1 auto; min-height:260px; border-radius:14px; overflow:hidden; background:#000;
  }
  .video-media,
  .video-embed{
    position:absolute; inset:0; width:100%; height:100%;
    object-fit:cover; border:0; display:block;
  }

  /* Testimonials unter die beiden Karten schieben */
  .testimonial-area{
    flex:1 1 100%;
    max-width:100%; min-width:280px;
  }

  /* ========= Typo ========= */
  .section-title{
    font-size:clamp(1.9rem,1.5rem + 2.2vw,2.65rem); font-weight:900; letter-spacing:-.02em; line-height:1.12;
    margin:.1rem 0 .45rem; text-wrap:balance; color:var(--aur-ink); text-shadow:var(--aur-shadow-light);
    text-align:center; margin-inline:auto; /* mittig */
  }
  .kontakt-subline{
    color:var(--aur-ink-muted); max-width:62rem; margin:0 auto 1.15rem; line-height:1.6;
    font-size:clamp(1.02rem,1rem + .5vw,1.18rem); letter-spacing:.004em; text-wrap:pretty;
    padding:.85rem .95rem; border-radius:14px;
    background:linear-gradient(180deg, rgba(15,23,41,.06), rgba(15,23,41,.03));
    box-shadow:inset 0 1px 0 rgba(255,255,255,.7), 0 2px 8px rgba(0,0,0,.05);
    text-align:center; /* mittig */
  }
  :root[data-theme="dark"] .kontakt-subline{
    color:#fff;
    background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
    box-shadow:inset 0 1px 0 rgba(255,255,255,.18), 0 2px 8px rgba(0,0,0,.35);
  }
  .kontakt-area .copy{ color:rgba(0,0,0,.92); font-weight:690; letter-spacing:-.002em; font-size:clamp(1rem,.96rem + .35vw,1.12rem); line-height:1.55; margin:0 0 .25rem; }
  .step1-copy{ margin-bottom:.25rem !important; }
  :root[data-theme="dark"] .kontakt-area .copy{ color:rgba(255,255,255,.96); }

  /* ========= Form ========= */
  .kontakt-form{ display:flex; flex-direction:column; gap:.65rem; width:100%; }
  .kontakt-form input, .kontakt-form textarea, .kontakt-form select{
    width:100%; padding:.85rem .95rem; font-size:1rem; border:1px solid var(--border); border-radius:12px; background:var(--input-bg); color:var(--input-text); box-shadow:0 2px 8px rgba(0,0,0,0.04); transition:border-color .2s ease, box-shadow .2s ease, background-color .2s ease; appearance:none;
  }

  /* ========= Steps / Stepper / Choices etc. ========= */
  .sr-only{ position:absolute !important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
  .form-step{ display:none; }
  .form-step.active{ display:block; }
  .form-step[data-step="1"]{ margin-bottom:.05rem; }
  .form-step[data-step="1"] .grid-choices{ margin-bottom:.05rem; }

  .stepper{ display:flex; flex-direction:column; gap:.2rem; margin:.25rem 0 .05rem; padding-top:.25rem; border-top:1px solid color-mix(in oklab, var(--border) 75%, transparent); }
  .stepper-header{ display:flex; justify-content:space-between; align-items:center; font-weight:800; font-size:.88rem; color:var(--muted); line-height:1; margin-bottom:.05rem; }
  .stepper-track{ position:relative; width:100%; height:6px; background: color-mix(in oklab, var(--choice-green) 12%, transparent); border-radius:999px; overflow:hidden; }
  .stepper-fill{ position:absolute; inset:0 auto 0 0; width:0%; height:100%; background: linear-gradient(90deg, var(--choice-green), color-mix(in oklab, var(--choice-green) 82%, #007e33 18%)); border-radius:999px; transition: width .22s ease; box-shadow: 0 2px 10px color-mix(in oklab, var(--choice-green) 35%, transparent); }

  .grid-choices{ display:grid; grid-template-columns:repeat(3,1fr); gap:.5rem; }
  @media (max-width:680px){ .grid-choices{ grid-template-columns:1fr; } }
  .choice{ position:relative; display:flex; flex-direction:column; gap:.12rem; padding:.85rem; border:2px solid var(--border); border-radius:14px; cursor:pointer; user-select:none; background:var(--surface); transition: box-shadow .15s ease, border-color .15s ease, transform .06s ease, background .15s ease, color .15s ease; outline:none; }
  .choice:hover{ box-shadow:0 0 0 3px color-mix(in oklab, var(--choice-green) 25%, transparent); }
  .choice:active{ transform: scale(.995); }
  .choice .title{ display:block; font-weight:950; letter-spacing:-.01em; line-height:1.18; font-size: clamp(1.06rem, 0.96rem + 0.8vw, 1.5rem); text-shadow: var(--aur-shadow-light); }
  .choice small{ color:var(--muted); display:block; margin-top:.02rem; font-size: clamp(.9rem, .86rem + .25vw, 1rem); font-weight:650; letter-spacing:.01em; text-shadow: var(--aur-shadow-light); }
  .choice input[type="radio"]{ position:absolute; opacity:0; pointer-events:none; inset:0; width:100%; height:100%; }
  .choice.selected{ border-color:var(--choice-green); background:var(--choice-green); color:var(--choice-ink); box-shadow:0 6px 18px rgba(0,200,81,.25); }
  .choice.selected .title, .choice.selected small{ color:var(--choice-ink) !important; text-shadow: 0 1px 1px rgba(0,0,0,.12); }

  .service-block{ margin:.55rem 0 .55rem; padding:.55rem .7rem .7rem; border:1px dashed var(--border); border-radius:12px; background:color-mix(in oklab, var(--surface) 85%, transparent); }
  .service-block[hidden]{ display:none !important; }
  .block-title{ margin:.12rem 0 .45rem; font-size:1.04rem; font-weight:900; letter-spacing:-.01em; }
  .select-row, .input-row{ display:flex; flex-direction:column; gap:.3rem; margin-bottom:.5rem; }

  .tags{ display:grid; gap:.45rem; grid-template-columns:repeat(auto-fit, minmax(160px,1fr)); margin-top:.05rem; }
  .checkbox-legend{ font-weight:800; margin-bottom:.15rem; }
  .pill{ display:flex; align-items:center; justify-content:center; min-height:40px; padding:.5rem .65rem; border:2px solid var(--border); border-radius:12px; background:var(--pill-bg); color:var(--pill-text); cursor:pointer; user-select:none; transition: transform .06s ease, background .15s ease, border-color .15s ease, color .15s ease, box-shadow .15s ease; }
  .pill:hover{ box-shadow:0 0 0 3px color-mix(in oklab, var(--choice-green) 25%, transparent); }
  .pill:active{ transform:scale(.992); }
  .pill input{ position:absolute; opacity:0; pointer-events:none; }
  .pill span{ font-weight:800; letter-spacing:-.01em; }
  .pill.selected{ background:var(--pill-green); color:var(--pill-green-ink); border-color:var(--pill-green); box-shadow:0 6px 18px rgba(0,200,81,.25); }

  .wizard-nav{ display:flex; gap:.55rem; align-items:center; margin-top:.1rem; padding-top:.25rem; }
  .nav-btn{ background:var(--surface-elev); color:var(--text); border:1px solid var(--border); padding:.7rem .9rem; border-radius:12px; font-weight:800; cursor:pointer; transition:none; }
  .nav-btn[disabled]{ opacity:.55; cursor:not-allowed; }
  .nav-btn.next{ background: var(--choice-green); color: var(--choice-ink); border: none; box-shadow: 0 6px 18px color-mix(in oklab, var(--choice-green) 40%, transparent); }

  /* Success Step */
  .form-step[data-step="6"]{ display:none; }
  .form-step.active[data-step="6"]{ display:block; }
  .success-card{ display:flex; flex-direction:column; align-items:center; justify-content:center; gap:.6rem; min-height: var(--step6-minh, 320px); padding: 1rem; border: 2px solid var(--choice-green); border-radius: 14px; background: color-mix(in oklab, var(--choice-green) 8%, var(--surface) 92%); text-align:center; }
  .success-title{ font-weight:900; letter-spacing:-.01em; font-size: clamp(1.4rem,1.1rem + 1vw,1.9rem); }
  .success-copy{ font-weight:700; letter-spacing:-.002em; font-size: clamp(1.02rem,.98rem + .35vw,1.16rem); opacity:.95; }
  .success-sub{ color: var(--muted); }
  .success-btn{ margin-top:.2rem; padding:.8rem 1rem; border-radius:12px; border:none; background:var(--choice-green); color:var(--choice-ink); font-weight:850; box-shadow:0 6px 18px rgba(0,200,81,.25); }
  form.is-success .wizard-nav, form.is-success .stepper{ display:none !important; }
  .success-card.fade-out { animation: successFade 3s ease forwards; }
  @keyframes successFade { to { opacity: 0; transform: translateY(6px); } }

  /* Responsive */
  @media (max-width:1024px){
    .kontakt-testimonial-wrapper{ flex-direction:column; align-items:center; gap:2rem; }
    .kontakt-area, .video-area, .testimonial-area{ max-width:100%; }
    .kontakt-btn{ margin:0 auto; }
  }
  @media (max-width:540px){
    .kontakt-area, .testimonial-area, .video-area{ padding:0 .6rem; }
    .section-title{ font-size:clamp(1.7rem,4.6vw,2.1rem); margin:0 auto .6rem; }
    .kontakt-form{ padding:0 .1rem; gap:.6rem; }
    .stepper{ position:sticky; bottom:0; background: color-mix(in oklab, var(--surface) 95%, transparent); padding:.3rem .2rem .2rem; margin:.25rem -.2rem 0; }
    .wizard-nav{ position:sticky; bottom:0; background: color-mix(in oklab, var(--surface) 95%, transparent); padding:.25rem .2rem .3rem; margin:.05rem -.2rem 0; }
  }

  @media (prefers-reduced-motion:reduce){
    .kontakt-btn{ animation:none !important; transition:none !important; }
    .stepper-fill{ transition:none !important; }
  }
/* Karten-Wrapper: gleiche Höhe */
.kontakt-testimonial-wrapper{
  max-width:1440px; margin:0 auto; display:flex;
  gap:clamp(1.5rem,3.5vw,3rem); flex-wrap:wrap;
  justify-content:space-between; align-items:stretch; /* wichtig: gleiche Höhe */
}

/* Kontakt- und Videokarte teilen sich die Zeile */
.kontakt-area,
.video-area { flex:1 1 480px; max-width:640px; min-width:300px; }

/* Texte zentriert */
.section-title,
.kontakt-subline { text-align:center; }

/* Videokarte ohne Headline – Video füllt Karte */
.video-area{ display:flex; }
.video-card{
  position:relative; height:100%; width:100%;
  background:color-mix(in oklab,var(--surface-elev) 85%,transparent);
  border:1px solid var(--border); border-radius:18px;
  box-shadow:0 10px 30px rgba(0,0,0,.06); backdrop-filter:blur(8px) saturate(1.02);
  overflow:hidden; /* runde Ecken fürs Video */
  padding:0;       /* randlos */
}
.video-media{
  position:absolute; inset:0; width:100%; height:100%;
  object-fit:cover; display:block; border:0;
}

/* Testimonials weiterhin darunter in voller Breite */
.testimonial-area{ flex:1 1 100%; max-width:100%; }

/* ===== Kontaktkarte (Step 5) – responsives Innen-Layout ===== */
.form-step[data-step="5"] .contact-grid{
  display:grid;
  grid-template-columns: repeat(12, minmax(0,1fr));
  gap:.65rem;
}

/* generische Feld-Box */
.form-step[data-step="5"] .field{
  grid-column: span 12;
  display:flex; flex-direction:column; gap:.35rem;
}

/* Label etwas ruhiger, aber eindeutig */
.form-step[data-step="5"] .field label{
  font-weight:800; letter-spacing:-.01em;
}

/* Inputs / Textareas füllen die Spalte (nutzen schon deine Basis-Input-Styles) */
.form-step[data-step="5"] .field input,
.form-step[data-step="5"] .field textarea,
.form-step[data-step="5"] .field select{
  width:100%;
}

/* Textarea angenehm groß, aber nicht riesig */
.form-step[data-step="5"] .field textarea{
  min-height: clamp(120px, 16vh, 220px);
  resize: vertical;
}

/* Fehlertexte brechen sauber um */
.form-step[data-step="5"] .field .field-error{
  line-height:1.25;
}

/* Grid-Spans (12er System) */
.form-step[data-step="5"] .span-12{ grid-column: span 12; }
.form-step[data-step="5"] .span-6 { grid-column: span 12; } /* default: full width */
.form-step[data-step="5"] .span-4 { grid-column: span 12; }
.form-step[data-step="5"] .span-8 { grid-column: span 12; }

/* ab ~700px zweispaltig */
@media (min-width:700px){
  .form-step[data-step="5"] .span-6 { grid-column: span 6; }
  .form-step[data-step="5"] .span-4 { grid-column: span 4; }
  .form-step[data-step="5"] .span-8 { grid-column: span 8; }
}

/* ab ~1024px etwas luftiger – optional */
@media (min-width:1024px){
  .form-step[data-step="5"] .contact-grid{ gap:.75rem; }
}

/* Buttons in der Kontaktkarte über die volle Breite andocken */
.form-step[data-step="5"] + .wizard-nav{
  margin-top:.5rem;
}
/* Handy: Videokarte bewusst flacher + nicht mehr gestreckt */
@media (max-width:600px){
  .video-area{
    flex: 0 0 auto;               /* nicht mehr mitwachsen */
    align-self: stretch;           /* volle Breite behalten */
  }
  .video-area .video-card{
    height: 180px !important;      /* flach erzwingen */
    min-height: 180px !important;
    aspect-ratio: auto !important; /* falls ein aspect-ratio greift, neutralisieren */
  }
  .video-area .video-media{
    object-fit: cover;
    object-position: center center;
  }
}
/* Step-1 Auswahlkarten strikt innerhalb der Kontaktkarte halten */
.kontakt-area{
  position: relative;
  isolation: isolate;     /* eigener Stacking-Context */
  overflow: clip;         /* nichts ragt aus der Karte heraus */
  min-width: 0;           /* Flex-Overflow verhindern */
}

.kontakt-form{ max-width: 100%; overflow: clip; }
.form-step[data-step="1"]{ max-width: 100%; }

.grid-choices{ max-width: 100%; overflow: clip; }
.grid-choices .choice{
  transform-origin: center;     /* Hover/Active bleibt innen */
  will-change: transform;
}

/* Kontaktkarte darf breiter werden, Videokarte etwas schmaler */
.kontakt-area{ flex:1.2 1 640px; max-width:780px; }
.video-area{ flex:0.8 1 420px; max-width:540px; }

/* trotzdem gleich hohe Karten */
.kontakt-testimonial-wrapper{
  align-items:stretch;
}

/* Falls nötig: Hover-Effekte der Choices nicht abschneiden */
.kontakt-area{ overflow:visible; }

/* Wenn Karten untereinander: zentriert & breiter darstellen */
@media (max-width:1024px){
  .kontakt-testimonial-wrapper{
    flex-direction:column;
    align-items:center;
    justify-content:center;
    text-align:center;
    gap:2rem;
  }

  .kontakt-area,
  .video-area{
    width:90%;
    max-width:1000px;      /* deutlich breiter */
    margin-inline:auto;
  }
} 
/* 1024px–1148px: Kontaktkarte mittig, Videokarte darunter */
@media (min-width:1024px) and (max-width:1148px){
  .kontakt-testimonial-wrapper{
    /* Spalten-Stack statt Reihe */
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    gap: 1.75rem;
  }

  /* Side-by-side Vorgaben überstimmen */
  .kontakt-area,
  .video-area{
    flex: 0 0 auto;              /* nicht strecken/schrumpfen */
    width: min(92vw, 780px);     /* schön breit, aber begrenzt */
    max-width: 100%;
    margin-inline: auto;         /* perfekt mittig */
  }

  /* Reihenfolge explizit festlegen */
  .kontakt-area{ order: 1; }
  .video-area{   order: 2; }
  .testimonial-area{ order: 3; width: 100%; }

  /* Falls die Videokarte zuvor höhengleich gezogen wurde: hier auto */
  .video-area .video-card{
    height: auto;
    min-height: 260px;
  }
}

/* === 1) Hover oben nicht mehr abgeschnitten (Step 1) === */
/* Alles, was Step-1 umgibt, darf Überstand durch Hover-Shadow zeigen */
.kontakt-area,
.kontakt-form,
.form-step[data-step="1"],
.grid-choices{
  overflow: visible !important;
}

/* Falls ein Parent irgendwo noch clip/hidden setzt: neutralisieren */
.kontakt-area{ isolation:auto !important; }

/* Optional: minimaler Innenabstand oben, damit große Shadows Platz haben */
.form-step[data-step="1"]{
  padding-top: .1rem;
}

/* === 2) Kontaktkarte (Step 5) – alles untereinander + responsive === */
.form-step[data-step="5"] .contact-grid{
  display:grid;
  grid-template-columns: 1fr; /* nur 1 Spalte */
  gap: .7rem;
}

/* Alle Spans auf volle Breite erzwingen */
.form-step[data-step="5"] .span-12,
.form-step[data-step="5"] .span-8,
.form-step[data-step="5"] .span-6,
.form-step[data-step="5"] .span-4{
  grid-column: 1 / -1 !important;
}

/* Typo & Abstände wie vorher – übernehmen/inherit */
.form-step[data-step="5"] .field{
  display:flex; flex-direction:column; gap:.35rem;
  font: inherit; color: inherit;
}
.form-step[data-step="5"] .field label{
  font-weight:800; letter-spacing:-.01em;
}
.form-step[data-step="5"] .field input,
.form-step[data-step="5"] .field textarea,
.form-step[data-step="5"] .field select{
  width:100%;
  font: inherit; color: inherit;
}

/* Textarea angenehm, aber nicht riesig – passt sich Viewport an */
.form-step[data-step="5"] .field textarea{
  min-height: clamp(120px, 18vh, 220px);
  resize: vertical;
}

/* Mobile Feinschliff */
@media (max-width:700px){
  .form-step[data-step="5"] .contact-grid{ gap:.6rem; }
  .form-step[data-step="5"] .field label{ font-weight:800; }
  .form-step[data-step="5"] .field textarea{ min-height: clamp(110px, 22vh, 200px); }
}

/* === "Senden"-Button wie "Zurück", aber Orange === */
#submitBtn,
.kontakt-btn.submit {
  background: var(--choice-orange, #f97316); /* Orange Basisfarbe */
  color: #fff;
  border: 1px solid color-mix(in oklab, #f97316 80%, #000 10%);
  padding: .7rem .9rem;
  border-radius: 12px;
  font-weight: 800;
  font-size: 1rem;
  cursor: pointer;
  transition: background-color .2s ease, transform .06s ease, box-shadow .15s ease;
  box-shadow: 0 2px 6px rgba(249,115,22,.25);
}

/* Hover-Effekt wie beim Zurück-Button (leicht heller) */
#submitBtn:hover,
.kontakt-btn.submit:hover {
  background: color-mix(in oklab, #f97316 90%, white 10%);
}

/* Active-State: leichter Klick-Eindruck */
#submitBtn:active,
.kontakt-btn.submit:active {
  transform: translateY(1px);
  box-shadow: 0 1px 3px rgba(249,115,22,.3);
}

/* Disabled-State: gleiches Verhalten wie Zurück-Button */
#submitBtn[disabled],
.kontakt-btn.submit[disabled] {
  opacity: .6;
  cursor: not-allowed;
  box-shadow: none;
}

/* Damit der Button im letzten Step (Step 5) schön sitzt */
.form-step[data-step="5"] .wizard-nav #submitBtn,
.form-step[data-step="5"] .wizard-nav .kontakt-btn.submit {
  width: 100%;
  margin-top: .4rem;
}

/* === Typo-Konsistenz für alle Formular-Controls (alle Steps) === */
.kontakt-form,
.kontakt-form input,
.kontakt-form textarea,
.kontakt-form select,
.kontakt-form button {
  font-family: inherit;                 /* gleiche Schriftfamilie wie außen */
  color: var(--input-text);
  letter-spacing: .004em;
  -webkit-font-smoothing: antialiased;  /* gleiche Glättung */
  -moz-osx-font-smoothing: grayscale;
}

/* Placeholder-Optik angleichen */
.kontakt-form ::placeholder {
  color: var(--placeholder);
  opacity: 1;
}

/* Browser-Autofill angleichen (hell) */
.kontakt-form input:-webkit-autofill,
.kontakt-form textarea:-webkit-autofill,
.kontakt-form select:-webkit-autofill {
  -webkit-text-fill-color: var(--input-text);
  transition: background-color 9999s ease-out, color 9999s ease-out;
  box-shadow: 0 0 0 1000px var(--input-bg) inset !important; /* gleiche Input-Fläche */
}

/* Dark-Theme: Autofill leicht abdunkeln */
:root[data-theme="dark"] .kontakt-form input:-webkit-autofill,
:root[data-theme="dark"] .kontakt-form textarea:-webkit-autofill,
:root[data-theme="dark"] .kontakt-form select:-webkit-autofill {
  -webkit-text-fill-color: var(--input-text);
  box-shadow: 0 0 0 1000px color-mix(in oklab, var(--input-bg) 92%, black 8%) inset !important;
}

/* === Step 5 gezielt an die gleiche Typo wie die restlichen Copy-Texte binden === */
.form-step[data-step="5"] {
  color: var(--text);
  line-height: 1.55;                 /* wie .kontakt-area .copy */
  letter-spacing: .004em;
  font-size: clamp(1rem,.96rem + .35vw,1.12rem);
}

/* Labels in Step 5 wie überall: kräftig, aber sauber */
.form-step[data-step="5"] .field label{
  font-weight: 800;
  letter-spacing: -0.01em;
  color: var(--aur-ink);
}

/* Inputs in Step 5: die Basis-Input-Styles behalten + gleiche Typo */
.form-step[data-step="5"] .field input,
.form-step[data-step="5"] .field textarea,
.form-step[data-step="5"] .field select{
  font-family: inherit;
  font-size: 1rem;     /* konsistent zu deiner globalen Input-Regel */
  line-height: 1.4;
  color: var(--input-text);
}

/* Optional: Headline/Intro in Step 5 optisch angleichen (falls vorhanden) */
.form-step[data-step="5"] .copy {
  color: rgba(0,0,0,.92);
  font-weight: 690;
  letter-spacing: -0.002em;
  font-size: clamp(1rem,.96rem + .35vw,1.12rem);
}
:root[data-theme="dark"] .form-step[data-step="5"] .copy {
  color: rgba(255,255,255,.96);
}
/* =========================
   MOBILE POLISH (≤ 600px)
   ========================= */
@media (max-width:1024px){

  /* 1) Sektion: saubere Abstände + Safe-Area */
  .kontakt-testimonial-section{
    padding:
      max(16px, calc(env(safe-area-inset-top,0) + 12px))
      max(16px, calc(env(safe-area-inset-right,0) + 12px))
      max(20px, calc(env(safe-area-inset-bottom,0) + 12px))
      max(16px, calc(env(safe-area-inset-left,0) + 12px));
  }

  /* 2) Wrapper enger, damit die Karte visuell breiter wirkt */
  .kontakt-testimonial-wrapper{
    gap: clamp(12px, 4vw, 18px);
  }

  /* 3) Kontaktkarte: wieder "innen" gepolstert & volle Breite
        (überschreibt dein früheres padding: 0 .6rem auf mobile) */
  .kontakt-area{
    width: 100%;
    max-width: none;
    margin: 0;
    border-radius: 16px;
    padding: clamp(14px, 4.5vw, 18px) !important;   /* mehr Innenabstand */
    overflow: visible;                               /* nichts abschneiden */
  }

  /* 4) Überschrift/Subline: nie abgeschnitten, genug Luft oben */
  .kontakt-area .section-title{
    margin-top: .2rem;
    padding-top: .15rem;
    line-height: 1.2;
    overflow: visible;
    word-break: normal;
    hyphens: auto;
    text-wrap: balance;
  }
  .kontakt-area .kontakt-subline{
    margin-top: .35rem;
  }

  /* 5) Choice-Karten: größere Touch-Ziele, kein Clipping */
  .form-step[data-step="1"] .grid-choices{
    gap: .6rem;
  }
  .form-step[data-step="1"] .grid-choices .choice{
    padding: 1rem .95rem;
    border-radius: 16px;
    min-height: 64px;
    /* eigener stacking-context, damit Shadow oben/unten sichtbar bleibt */
    position: relative;
    z-index: 0;
  }
  .form-step[data-step="1"]{
    padding-top: .25rem; /* extra Luft damit Schatten nicht "oben" anstößt */
  }

  /* 6) Sticky-Elemente: vermeiden visuelles „Drücken“ */
  .stepper,
  .wizard-nav{
    margin-left: -2px;
    margin-right: -2px;
    border-radius: 12px;
  }

  /* 7) Formularfelder: Fingerfreundlich */
  .kontakt-form input,
  .kontakt-form select,
  .kontakt-form textarea{
    padding: 0.95rem 1rem;
    font-size: 1.02rem; /* minimal größer für Lesbarkeit */
  }

  /* 8) Video-Karte: darunter, vollbreit, flacher */
  .video-area{
    width: 100%;
    max-width: none;
  }
  .video-area .video-card{
    height: 200px !important;
    min-height: 200px !important;
    border-radius: 16px;
  }
  .video-area .video-media{
    object-fit: cover;
    object-position: center;
  }

  /* 9) Step-5: einspaltig + gleiche Typo (falls noch überstimmt) */
  .form-step[data-step="5"] .contact-grid{
    grid-template-columns: 1fr;
    gap: .65rem;
  }
  .form-step[data-step="5"]{
    font-size: clamp(1rem, 1.5vw + .96rem, 1.1rem);
    line-height: 1.55;
  }
  .form-step[data-step="5"] .field label{
    font-weight: 800;
    letter-spacing: -0.01em;
  }

  /* 10) Buttons: full-width, klare Hierarchie */
  .wizard-nav .nav-btn{
    flex: 1 1 auto;
  }
  #submitBtn,
  .kontakt-btn.submit{
    width: 100%;
  }
}

/* Optional (≤ 380px, sehr kleine Phones): noch etwas mehr Luft oben */
@media (max-width:380px){
  .kontakt-area{
    padding: 16px !important;
  }
  .kontakt-area .section-title{
    font-size: clamp(1.5rem, 7vw, 1.9rem);
  }
}
/* Step 5: immer linksbündig, egal ob die Karte mittig steht */
.kontakt-area .form-step[data-step="5"]{
  text-align: left !important;            /* überschreibt zentrierte Eltern */
}

.kontakt-area .form-step[data-step="5"] .contact-grid{
  justify-items: stretch;
  align-items: start;
}

.kontakt-area .form-step[data-step="5"] .field,
.kontakt-area .form-step[data-step="5"] .field label{
  text-align: left !important;
}

.kontakt-area .form-step[data-step="5"] .field input,
.kontakt-area .form-step[data-step="5"] .field select,
.kontakt-area .form-step[data-step="5"] .field textarea{
  text-align: left;                        /* auch Inhalt/Placeholder links */
}

/* falls du irgendwo text-centring auf .wizard-nav hast: nur Buttons mittig lassen */
.kontakt-area .form-step[data-step="5"] + .wizard-nav{
  text-align: left;                        /* Navigation linksbündig (optional) */
}
/* === Step 5: "Senden"-Button immer linksbündig, auch wenn Karte mittig steht === */

/* sorgt dafür, dass das Nav-Element selbst links ausgerichtet ist */
.kontakt-area .form-step[data-step="5"] + .wizard-nav {
  display: flex !important;
  justify-content: flex-start !important;  /* Button-Leiste links ausrichten */
  text-align: left !important;
  width: 100%;
}

/* "Senden"-Button linksbündig halten, nicht zentrieren */
.kontakt-area .form-step[data-step="5"] + .wizard-nav #submitBtn,
.kontakt-area .form-step[data-step="5"] + .wizard-nav .kontakt-btn.submit {
  justify-content: flex-start !important;
  align-self: flex-start !important;
  margin-left: 0 !important;
  margin-right: auto !important;
  width: auto !important;          /* verhindert full-width */
  min-width: 160px;
}

/* Falls du den Zurück-Button daneben hast → schöner Abstand */
.kontakt-area .form-step[data-step="5"] + .wizard-nav .nav-btn:not(#submitBtn) {
  margin-right: .6rem;
}

.legal-hint{
  font-size:.85rem; line-height:1.45;
  color:#666; margin:.4rem 0 .2rem;
}
.legal-hint a{ color:inherit; text-decoration:underline; }
:root[data-theme="dark"] .legal-hint{ color:#c6cad1; }

/* Pflichtfeld-Kennzeichnung */
label.req::after{
  content:" *";
  color:#b00020;
  font-weight:900;
}
.req-note{
  font-size:.85rem; color:#666; margin:.2rem 0 .4rem;
}
:root[data-theme="dark"] .req-note{ color:#c6cad1; }

/* =======================================
   Ganze Pill grün, wenn angeklickt
   ======================================= */
.pill input[type="checkbox"]:checked ~ span,
.pill input[type="checkbox"]:checked ~ * {
  background: var(--pill-green);
  color: var(--pill-green-ink);
  border-color: var(--pill-green);
  box-shadow: 0 6px 18px rgba(0,200,81,.25);
}

/* ===== Fix: 680px–1024px -> Karten nicht mehr vertikal strecken ===== */
@media (max-width:1024px) and (min-width:680px){
  .kontakt-testimonial-wrapper{
    flex-direction: column;      /* wie bei dir vorgesehen */
    align-items: center;
  }

  /* wichtig: kein flex:1 im Spaltenlayout -> sonst wird Höhe aufgeblasen */
  .kontakt-area,
  .video-area{
    flex: 0 0 auto !important;   /* nicht strecken */
    width: min(92vw, 780px);     /* hübsche Breite */
    height: auto !important;
    margin-inline: auto;
  }

  /* Videokarte nicht künstlich hochziehen */
  .video-area .video-card{
    height: auto !important;
    min-height: 280px;           /* angenehme Untergrenze */
    aspect-ratio: 16 / 9;        /* hält das Video kompakt */
  }

  /* Optional: innen etwas kompakter, damit die Kontaktkarte nicht „luftig“ wirkt */
  .kontakt-area{
    padding: clamp(14px, 2.2vw, 20px) !important;
  }
}
/* --- A) SOLO: Kontaktkarte alleine & breiter -------------------- */
/* <section id="kontakt" class="kontakt-testimonial-section variant-solo"> */
@media (min-width:840px) and (max-width:1148px){
  #kontakt.variant-solo .kontakt-testimonial-wrapper{
    flex-direction: column;
    align-items: center;
    gap: clamp(16px, 2.5vw, 24px);
  }
  #kontakt.variant-solo .kontakt-area{
    flex: 0 0 auto !important;
    width: min(96vw, 980px);
    max-width: 100%;
    margin-inline: auto;
  }
  /* Video bewusst ausblenden (oder nach unten verlagern) */
  #kontakt.variant-solo .video-area{
    display: none;               /* oder: display:block;width:min(92vw,720px) */
  }
}

</style>
<script>
(function () {
  const form = document.getElementById('kontaktForm');
  if (!form) return;

  /* =========================
     Cache DOM
  ========================== */
  const allSteps  = Array.from(form.querySelectorAll('.form-step'));
  const stepper   = form.querySelector('.stepper');
  const stepLabel = document.getElementById('stepLabel');
  const stepFill  = document.getElementById('stepperFill');
  const prevBtn   = document.getElementById('prevBtn');
  const nextBtn   = document.getElementById('nextBtn');
  const submitBtn = document.getElementById('submitBtn');

  // Success-Card DOM
  const successFieldset = allSteps.find(s => s.dataset.step === '6');
  const successCard     = successFieldset?.querySelector('.success-card');
  const successBtn      = successFieldset?.querySelector('.success-btn');
  const successSub      = successFieldset?.querySelector('.success-sub');

  /* =========================
     Live Status (a11y)
  ========================== */
  let statusBox = form.querySelector('[data-status]');
  if (!statusBox) {
    statusBox = document.createElement('div');
    statusBox.setAttribute('data-status','');
    statusBox.setAttribute('role','status');
    statusBox.setAttribute('aria-live','polite');
    statusBox.style.cssText = 'margin:.5rem 0 .25rem;font-weight:700;text-align:center;';
    form.insertBefore(statusBox, form.firstChild);
  }
  const setStatus = (msg, tone='')=>{
    statusBox.textContent = msg || '';
    statusBox.style.color =
      tone==='error' ? '#b00020' :
      tone==='ok'    ? '#0a7f2e' :
      tone==='warn'  ? '#a15c00' : 'inherit';
  };

  /* =========================
     Hidden Fields / Honeypot
  ========================== */
  ensureHidden({ id:'autoSubject',     name:'_subject',         tag:'input'    });
  ensureHidden({ id:'summaryPlain',    name:'summary_plain',    tag:'textarea' });
  ensureHidden({ id:'selectedService', name:'selected_service', tag:'input'    });
  ensureHidden({ id:'honeypot',        name:'_gotcha',          tag:'input'    });
  ensureHidden({ id:'metaRef',         name:'_referrer',        tag:'input'    }).value = location.href;
  ensureHidden({ id:'metaUA',          name:'_userAgent',       tag:'input'    }).value = navigator.userAgent;
  ensureHidden({ id:'metaOrigin',      name:'_origin',          tag:'input'    }).value = location.origin;

  function ensureHidden({id,name,tag='input'}) {
    let el = form.querySelector('#'+id);
    if (!el) {
      el = document.createElement(tag);
      el.id = id; el.name = name;
      if (tag==='input') el.type = 'hidden';
      el.className = 'sr-only'; el.setAttribute('aria-hidden','true');
      form.appendChild(el);
    } else if (el.name !== name) {
      el.name = name;
    }
    return el;
  }

  /* =========================
     Helpers
  ========================== */
  const q  = (sel,root=form)=>root.querySelector(sel);
  const qa = (sel,root=form)=>Array.from(root.querySelectorAll(sel));
  const trim = s => (s||'').toString().trim();

  function collectStepData(stepEl) {
    const data = {};
    stepEl.querySelectorAll('input, select, textarea').forEach(el=>{
      if (el.disabled || el.closest('[hidden]')) return;
      if (el.type === 'checkbox') {
        if (!data[el.name]) data[el.name] = [];
        if (el.checked) data[el.name].push(el.value);
      } else if (el.type === 'radio') {
        if (el.checked) data[el.name] = el.value;
      } else if (el.tagName === 'SELECT') {
        if (el.value) data[el.name] = el.value;
      } else {
        const v = trim(el.value);
        if (v) data[el.name] = v;
      }
    });
    return data;
  }
  function hasVisibleControls(stepEl){
    const controls = Array.from(stepEl.querySelectorAll('input,select,textarea'));
    return controls.some(el => !el.disabled && !el.closest('[hidden]'));
  }
  function getApplicableSteps(){
    const base = allSteps.filter(s => hasVisibleControls(s) && s.dataset.step !== '6');
    const success = allSteps.find(s => s.dataset.step === '6');
    return form.classList.contains('is-success') && success ? [...base, success] : base;
  }
  function getCurrentIndex(){ return Math.max(0, getApplicableSteps().indexOf(currentStepEl)); }
  function clampIndex(i){ const st = getApplicableSteps(); return Math.min(Math.max(i,0), st.length-1); }

  function isContactStep(stepEl){
    if (!stepEl) return false;
    if (stepEl.dataset.step === '5') return true;
    const hasName = stepEl.querySelector('input[name="name"]');
    const hasMail = stepEl.querySelector('input[name="email"]');
    const hasMsg  = stepEl.querySelector('textarea[name="message"]');
    return !!(hasName || hasMail || hasMsg);
  }

  /* =========================
     UI / Progress
  ========================== */
  function updateChoiceUI(){
    form.querySelectorAll('.grid-choices .choice').forEach(label=>{
      const rb = label.querySelector('input[type="radio"]');
      label.classList.toggle('selected', !!(rb && rb.checked));
    });
    const any = form.querySelector('input[name="service"]:checked');
    if(currentStepEl === allSteps[0]) nextBtn.disabled = !any;
    setProgress(getCurrentIndex());
  }

  function updatePillUI(){
    form.querySelectorAll('.pill').forEach(lbl=>{
      const cb = lbl.querySelector('input[type="checkbox"]');
      lbl.classList.toggle('selected', !!(cb && cb.checked));
    });
  }

  function syncServiceBlocks(){
    const sel = form.querySelector('input[name="service"]:checked');
    const key = sel ? sel.dataset.toggle : null;
    ['web','d3','gfx'].forEach(k=>{
      form.querySelectorAll(`.service-block[data-service="${k}"]`).forEach(block=>{
        const vis = key === k;
        block.hidden = !vis;
        block.querySelectorAll('input,select,textarea').forEach(el=>{
          el.disabled = !vis;
          if(!vis){
            if(el.type==='checkbox'||el.type==='radio') el.checked=false;
            else if(el.tagName==='SELECT') el.selectedIndex=0;
            else el.value='';
          }
        });
      });
    });
    // nach dem Umschalten neu bewerten (grün hinterlegen)
    updatePillUI();
  }

  function setProgress(idx){
    const steps = getApplicableSteps();
    let pct = 0;
    if(idx === 0){
      pct = form.querySelector('input[name="service"]:checked') ? 12 : 0;
    } else {
      pct = Math.min(100, Math.round((idx / (steps.length - 1)) * 100));
    }
    if (stepFill) stepFill.style.width = pct + '%';
    stepper?.setAttribute('aria-valuenow', String(idx + 1));
    if (stepLabel) stepLabel.textContent = `Schritt ${idx + 1}/${steps.length}`;
  }

  function enhanceSubmitBtn() {
    if (!submitBtn || submitBtn.dataset.enhanced === '1') return;
    submitBtn.dataset.enhanced = '1';
    if (!submitBtn.textContent.trim()) submitBtn.textContent = 'Jetzt Anfrage senden';
  }

  /* =========================
     Navigation
  ========================== */
  let currentStepEl = allSteps[0];

  function showStepByIndex(idx){
    const steps = getApplicableSteps();
    if(!steps.length) return;
    const targetIdx = clampIndex(idx);
    const targetEl  = steps[targetIdx];

    allSteps.forEach(s => s.classList.remove('active'));
    targetEl.classList.add('active');
    currentStepEl = targetEl;

    const isSuccess = targetEl.dataset.step === '6';

    if (isSuccess) {
      form.classList.add('is-success');

      prevBtn.hidden = true;
      nextBtn.hidden = true;
      submitBtn.hidden = true;

      const step1 = allSteps.find(s => s.dataset.step === '1');
      const h = step1 ? step1.scrollHeight : 320;
      targetEl.style.setProperty('--step6-minh', h + 'px');

      // 💡 Restart-Button immer neu, immer klickbar
      const oldBtn = successFieldset.querySelector('.success-btn');
      if (oldBtn) {
        const freshBtn = oldBtn.cloneNode(true);
        oldBtn.parentNode.replaceChild(freshBtn, oldBtn);
        freshBtn.disabled = false;
        freshBtn.textContent = 'Neu starten';
        freshBtn.setAttribute('aria-label','Wizard neu starten');
        freshBtn.style.color = '#fff';
        freshBtn.addEventListener('click', handleRestart);
      }

      if (successSub) {
        successSub.textContent = 'Du kannst jetzt neu starten und die Schritte erneut durchlaufen.';
        successSub.style.color = '#fff';
      }

    } else {
      form.classList.remove('is-success');
      prevBtn.hidden = false;
      const onContact = isContactStep(targetEl);
      nextBtn.hidden   = onContact;
      submitBtn.hidden = !onContact;
      if (onContact) enhanceSubmitBtn();
      prevBtn.disabled = targetIdx === 0;
      nextBtn.disabled = targetEl === allSteps[0] && !form.querySelector('input[name="service"]:checked');
    }

    // sicherstellen, dass Pills korrekt eingefärbt bleiben
    updatePillUI();

    setProgress(targetIdx);
    const first = targetEl.querySelector('input:not([disabled]),select:not([disabled]),textarea:not([disabled])');
    first?.focus({preventScroll:true});
  }

  /* =========================
     Restart / Success Handling
  ========================== */
  function resetToStep1(scrollToStart = true){
    form.reset();
    form.classList.remove('is-success');
    allSteps.forEach(s => s.classList.remove('active'));
    const step1 = allSteps.find(s => s.dataset.step === '1') || allSteps[0];
    step1.classList.add('active');
    currentStepEl = step1;
    syncServiceBlocks();
    updateChoiceUI();
    updatePillUI();
    setProgress(0);
    toggleFormDisabled(false);
    setStatus('', '');
    if (scrollToStart) {
      step1.scrollIntoView({ behavior:'smooth', block:'start' });
      const first = step1.querySelector('input,select,textarea,button');
      first?.focus({ preventScroll:true });
    }
  }

  function handleRestart(e){
    if (e) { e.preventDefault(); e.stopPropagation(); }
    resetToStep1(true);
  }

  function showSuccessScreen(){
    const steps = getApplicableSteps();
    const successIdx = steps.findIndex(s => s.dataset.step === '6');
    if (successIdx >= 0) showStepByIndex(successIdx);
  }

  /* =========================
     Validierung / Markierung
  ========================== */
  function markInvalid(el, msg){
    el.classList.add('is-invalid');
    el.setAttribute('aria-invalid','true');
    if (!el.nextElementSibling || !el.nextElementSibling.matches('.field-error')) {
      const e = document.createElement('div');
      e.className = 'field-error';
      e.style.cssText = 'color:#b00020;font-weight:700;margin-top:.2rem;font-size:.9rem;';
      e.textContent = msg;
      el.insertAdjacentElement('afterend', e);
    } else el.nextElementSibling.textContent = msg;
  }
  function clearInvalids(){
    qa('.is-invalid', form).forEach(el=>{
      el.classList.remove('is-invalid'); el.removeAttribute('aria-invalid');
    });
    qa('.field-error', form).forEach(el=> el.remove());
  }
  function validEmail(s){ return /^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(s); }
  function validateRequired(){
    clearInvalids();
    const name  = q('input[name="name"]');
    const email = q('input[name="email"]');
    const msg   = q('textarea[name="message"]');
    let ok = true;
    if (!trim(name?.value))               { markInvalid(name,'Bitte Namen angeben.'); ok=false; }
    if (!validEmail(trim(email?.value)))  { markInvalid(email,'Bitte gültige E-Mail angeben.'); ok=false; }
    if (trim(msg?.value).length < 5)      { markInvalid(msg,'Bitte kurz dein Projekt beschreiben.'); ok=false; }
    if (!ok) {
      const first = q('.is-invalid');
      first?.focus({preventScroll:true});
      setStatus('Bitte fehlende Angaben ergänzen.', 'warn');
    } else setStatus('', '');
    return ok;
  }

  /* =========================
     Submit Flow
  ========================== */
  let submitting = false;
  function toggleFormDisabled(disabled){
    qa('input,select,textarea,button', form).forEach(el=> el.disabled = disabled);
  }

  async function postWithTimeout(url, options={}, timeoutMs=12000) {
    const controller = new AbortController();
    const t = setTimeout(()=>controller.abort(), timeoutMs);
    try { return await fetch(url, { ...options, signal: controller.signal }); }
    finally { clearTimeout(t); }
  }

  form.addEventListener('submit', async function(e){
    e.preventDefault();
    if (submitting) return;

    if (!validateRequired()) return;

    const selectedServiceEl = q('input[name="service"]:checked');
    const selectedService   = selectedServiceEl ? selectedServiceEl.value : '';

    const summary = {};
    getApplicableSteps().forEach((step, i) => { summary[`step_${i+1}`] = collectStepData(step); });

    const lines = [];
    lines.push(`[Service] ${selectedService}`);
    lines.push(`[Kontakt]`);
    lines.push(`- Name: ${summary.step_5?.name || '-'}`);
    lines.push(`- E-Mail: ${summary.step_5?.email || '-'}`);
    if (summary.step_5?.message) lines.push(`- Nachricht: ${summary.step_5.message}`);
    const compiledPlain = lines.join('\n');

    q('#autoSubject').value     = `Projektanfrage: ${selectedService}`;
    q('#selectedService').value = selectedService;
    q('#summaryPlain').value    = compiledPlain;
    q('#honeypot').value        = '';

    const fd = new FormData(form);
    submitting = true;
    toggleFormDisabled(true);
    submitBtn.innerText = 'Senden …';
    setStatus('Sende Anfrage …');

    try {
      const res = await postWithTimeout(form.action, {
        method:'POST',
        body:fd,
        headers:{Accept:'application/json'}
      }, 12000);
      if (!res.ok) throw new Error(res.statusText);
      submitBtn.innerText = '✅ Anfrage gesendet!';
      setStatus('Danke! Wir melden uns in Kürze.', 'ok');
      form.classList.add('is-success');
      showSuccessScreen();
    } catch (err) {
      console.error(err);
      setStatus('Fehler beim Senden – bitte später erneut versuchen.', 'error');
      submitBtn.innerText = 'Fehler!';
      toggleFormDisabled(false);
    } finally {
      submitting = false;
    }
  });

  /* =========================
     Buttons & Choices
  ========================== */
  prevBtn.addEventListener('click', (e)=>{
    e.preventDefault();
    showStepByIndex(getCurrentIndex()-1);
  });
  nextBtn.addEventListener('click', ()=>{
    if (isContactStep(currentStepEl)) form.requestSubmit();
    else showStepByIndex(getCurrentIndex()+1);
  });

  // Klick auf Step-1-Karten (Service)
  form.addEventListener('click', (e)=>{
    const choice = e.target.closest('.choice');
    if(choice){
      const rb = choice.querySelector('input[type="radio"]');
      if(rb){
        setTimeout(()=>{
          form.classList.remove('is-success');
          updateChoiceUI();
          syncServiceBlocks();
          showStepByIndex(getCurrentIndex());
        },0);
      }
    }
    // Klick auf Pill-Labels (Schwerpunkte)
    const pill = e.target.closest('.pill');
    if (pill) {
      // Wait until checkbox toggled, then refresh UI
      setTimeout(updatePillUI, 0);
    }
  });

  // Änderungen an Service oder Pill-Checkboxen
  form.addEventListener('change', (e)=>{
    if(e.target && e.target.matches('input[name="service"]')){
      form.classList.remove('is-success');
      updateChoiceUI();
      syncServiceBlocks();
      showStepByIndex(getCurrentIndex());
      return;
    }
    if (e.target && (e.target.matches('.pill input[type="checkbox"]') || e.target.matches('input[data-pills]'))) {
      updatePillUI();
    }
  });

  /* =========================
     Init
  ========================== */
  function init(){
    form.classList.remove('is-success');
    syncServiceBlocks();
    updateChoiceUI();
    updatePillUI();
    showStepByIndex(0);
    setStatus('');
  }
  init();

})();
</script>

















<!-- ===== ETHOS / WERTE SECTION ===== -->
<section class="ethos section-wrap" id="webdesign-ethos" aria-labelledby="webdesign-ethos-heading">
  <div class="ethos-head">
    <h2 class="ethos-title" id="webdesign-ethos-heading">
      <span class="ethos-title-line">Werte, die gutes Webdesign formen</span>
    </h2>
    <div class="ethos-sub">
      <span class="ethos-sub-line">Ästhetisch. Funktional. Nutzerzentriert.</span>
    </div>
  </div>

  <div class="ethos-marquee" aria-live="off">
    <ul class="ethos-track" aria-label="Unsere Webdesign-Grundsätze">
      
      <li class="ethos-card" id="ethos-ux">
        <div class="ethos-icon"><i data-feather="users" aria-hidden="true"></i></div>
        <div class="ethos-content">
          <h3 id="ethos-ux-h">User Experience im Fokus</h3>
          <p>Wir gestalten Websites, die intuitiv funktionieren und echte Mehrwerte bieten. Jedes Detail dient der Nutzerfreundlichkeit und Markenbotschaft.</p>
        </div>
      </li>

      <li class="ethos-card" id="ethos-design">
        <div class="ethos-icon"><i data-feather="layout" aria-hidden="true"></i></div>
        <div class="ethos-content">
          <h3 id="ethos-design-h">Ästhetik mit Struktur</h3>
          <p>Visuelles Design folgt klaren Prinzipien: Balance, Kontrast, Typografie. So entstehen Layouts, die begeistern – auf jedem Bildschirm.</p>
        </div>
      </li>

      <li class="ethos-card" id="ethos-tech">
        <div class="ethos-icon"><i data-feather="code" aria-hidden="true"></i></div>
        <div class="ethos-content">
          <h3 id="ethos-tech-h">Sauberer Code, starke Performance</h3>
          <p>Wir setzen auf moderne Webtechnologien und optimierte Strukturen. Das Ergebnis: schnelle Ladezeiten und nachhaltige Skalierbarkeit.</p>
        </div>
      </li>

      <li class="ethos-card" id="ethos-growth">
        <div class="ethos-icon"><i data-feather="trending-up" aria-hidden="true"></i></div>
        <div class="ethos-content">
          <h3 id="ethos-growth-h">Design als Wachstumstreiber</h3>
          <p>Gutes Webdesign schafft messbare Ergebnisse – höhere Conversion, stärkere Markenbindung und langfristigen Erfolg.</p>
        </div>
      </li>

    </ul>
  </div>
</section>


<!-- Optional: reduziert Bewegung → Marquee pausieren -->
<style>
@media (prefers-reduced-motion: reduce){
  .ethos-marquee * { animation: none !important; transition: none !important; }
}
</style>

<!-- ===== Overlay / Viewer ===== -->
<div class="ethos-overlay" id="ethos-overlay" role="dialog" aria-modal="true" aria-lablledby="ethos-overlay-title" aria-hidden="true">
  <div class="ethos-overlay__backdrop" data-ethos-close></div>
  <div class="ethos-overlay__panel" tabindex="-1">
    <header class="ethos-overlay__header">
      <h3 class="ethos-overlay__title" id="ethos-overlay-title">Unsere Werte im Überblick</h3>
      <button class="icon-btn overlay-close" type="button" aria-labl="Schließen" title="Schließen" data-ethos-close>
        <i data-feather="x"></i>
      </button>
    </header>

    <!-- Desktop/Tablet: Grid -->
    <div class="ethos-overlay__grid" id="ethos-overlay-grid" aria-hidden="false" role="region" aria-labl="Werte-Grid"></div>

    <!-- Mobile: Carousel (nur falls jemand per DevTools einblendet) -->
    <div class="ethos-carousel" id="ethos-carousel" aria-hidden="true" role="region" aria-labl="Werte Durchblättern">
      <button class="carousel-nav prev" type="button" aria-labl="Vorherige" title="Vorherige" data-ethos-prev>‹</button>
      <div class="carousel-viewport">
        <ul class="carousel-track" id="ethos-carousel-track"></ul>
      </div>
      <button class="carousel-nav next" type="button" aria-labl="Nächste" title="Nächste" data-ethos-next>›</button>
    </div>
  </div>
</div>

<style>
/* ===== Tokens (Flat Colors) ===== */
:root{
  --clr-orange: #ff6600;
  --clr-blue-dark: #0a1f6f;
  --clr-black:  #0b0c0e;

  --surface: #ffffff;
  --ink:     #0b0c0e;
  --muted:   #41444a;
  --line:    #e6e8eb;

  --card-radius: 22px;
  --ring: rgba(10,31,111,.28);
}
:root[data-theme="dark"]{ --surface:#000; --ink:#fff; --muted:#c8ccd3; --line:#2a2e36; }
@media (prefers-color-scheme: dark){
  :root[data-theme="auto"]{ --surface:#000; --ink:#fff; --muted:#c8ccd3; --line:#2a2e36; }
}

/* ===== Section / Typo ===== */
.ethos, .ethos *{ -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility; font-feature-settings:"liga","kern","calt","ss01"; }
.section-wrap{ font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif; background:var(--surface); color:var(--ink); text-align:center; padding:clamp(3.5rem,6vw,7rem) 2rem; margin-top:clamp(3rem,7vw,10rem); position:relative; z-index:5; overflow:visible; }
.section-wrap .ethos-head{ max-width:1200px; margin:0 auto clamp(1.6rem,3vw,2.6rem); }
.ethos-title{ font-size:clamp(2.2rem, 1.6rem + 2.4vw, 3.4rem); font-weight:900; letter-spacing:-.02em; line-height:1.12; margin:.15rem 0 .5rem; text-wrap:balance; }
.ethos-sub-line{ display:inline-block; max-width:64rem; margin:0 auto 2.6rem; padding:1.05rem 1.2rem; font-size:clamp(1.06rem, 1rem + .6vw, 1.22rem); line-height:1.78; letter-spacing:.004em; color:var(--muted); background:rgba(0,0,0,.035); border:1px solid var(--line); border-radius:16px; }

/* ===== Marquee ===== */
.ethos-marquee{
  --gap:clamp(1.2rem, 2.2vw, 2.4rem);
  --speed:45s;
  position:relative; width:100%; margin-top:1.8rem; overflow:visible;
  mask-image:linear-gradient(to right, transparent 0, #000 6%, #000 94%, transparent 100%);
  -webkit-mask-image:linear-gradient(to right, transparent 0, #000 6%, #000 94%, transparent 100%);
}
.ethos-track{ display:flex; gap:var(--gap); align-items:stretch; will-change:transform; animation:ethos-loop var(--speed) linear infinite; }
@keyframes ethos-loop{ from{transform:translateX(0)} to{transform:translateX(-50%)} }
.ethos-marquee:hover .ethos-track{ animation-play-state:paused; }
@media (prefers-reduced-motion: reduce){ .ethos-track{ animation:none; transform:none } }

/* ===== Cards (desktop baseline) ===== */
.ethos-card{
  position:relative; border-radius:var(--card-radius);
  padding: clamp(1.25rem, 2.1vw, 1.9rem);
  display:flex; flex-direction:column; min-height:100%;
  flex:0 0 auto; min-width:min(520px, 85vw); max-width:560px;
  color:#fff; box-shadow:0 8px 24px rgba(0,0,0,.14);
  transition:transform .18s ease, box-shadow .18s ease, border-color .2s ease, background-color .2s ease;
  border:1px solid transparent; will-change:transform; transform:translateZ(0);
}
.ethos-content{ display:flex; flex-direction:column; gap:.45rem; }

.ethos-card:nth-child(1){ background:var(--clr-blue-dark) }
.ethos-card:nth-child(2){ background:var(--clr-black) }
.ethos-card:nth-child(3){ background:var(--clr-orange) }
.ethos-card:nth-child(4){ background:var(--clr-black) }
.ethos-card:nth-child(5){ background:var(--clr-blue-dark) }
.ethos-card:nth-child(6){ background:var(--clr-black) }

@media (hover:hover){
  .ethos-card:hover{ transform:translateY(-7px); box-shadow:0 22px 52px rgba(0,0,0,.24); border-color:rgba(255,255,255,.18) }
}

/* Icon */
.ethos-icon{ width:56px; height:56px; border-radius:14px; margin:0 auto 1rem; display:flex; align-items:center; justify-content:center; background:rgba(255,255,255,.12); border:1px solid rgba(255,255,255,.28); transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease, background-color .2s ease; }
.ethos-icon i{ width:26px; height:26px; color:#fff }
@media (hover:hover){ .ethos-card:hover .ethos-icon{ transform:translateY(-1px) scale(1.05); box-shadow:0 0 0 4px rgba(255,255,255,.12) } }

/* Typo in Cards */
.ethos-card h3{ font-size:clamp(1.5rem, 1.1rem + 1.15vw, 2.1rem); font-weight:900; margin:.05rem 0 .5rem; letter-spacing:-.02em; line-height:1.16; }
.ethos-card p{ margin:0; padding:.1rem 0 0; color:rgba(255,255,255,.98); font-weight:690; letter-spacing:-.002em; font-size:clamp(1.08rem, 1rem + .44vw, 1.24rem); line-height:1.72; }
.ethos-proof{ margin-top:.55rem; color:rgba(255,255,255,.92); font-size:1rem; font-weight:650 }

/* ===== Tablet Tweaks (<= 1024px) ===== */
@media (max-width: 1024px){
  .ethos-marquee{ --gap:clamp(1rem, 1.5vw, 1.6rem); --speed:42s; }
  .ethos-card{ min-width:min(460px, 88vw); max-width:520px; padding:clamp(1.1rem, 1.6vw, 1.5rem); border-radius:20px; }
  .ethos-icon{ width:52px; height:52px; border-radius:12px; }
  .ethos-icon i{ width:24px; height:24px; }
  .ethos-card h3{ font-size:clamp(1.35rem, 1rem + 1vw, 1.8rem); }
  .ethos-card p{ font-size:clamp(1.02rem, .96rem + .38vw, 1.14rem); line-height:1.7; }
}

/* ===== Phone Tweaks (<= 720px) =====
   Mobile: Werte als EINSPALTIGES Grid, Karten breit & zentriert,
   Button verstecken, Overlay deaktivieren, Marquee-Animation aus  */
@media (max-width: 720px){

  /* Deko & Animation aus */
  .ethos-marquee{
    mask-image:none; -webkit-mask-image:none;
    overflow:visible; margin-top:1.2rem;
  }

  /* Track als 1-Spalten-Grid, Items zentriert */
  .ethos-marquee .ethos-track{
    display:grid;
    grid-template-columns:1fr;
    gap:1rem;
    justify-items:center;
    animation:none; transform:none; width:100%;
  }

  /* Karten: alte min-width sicher überschreiben, breiter & mittig */
  .ethos-card{
    min-width:0 !important;
    width:min(600px, 94vw);
    max-width:600px;
    margin-inline:auto;
    box-shadow:0 8px 22px rgba(0,0,0,.16);
  }

  /* Button "Werte im Detail" ausblenden */
  .ethos-cta-row [data-ethos-open]{ display:none !important; }

  /* Overlay auf Handy nicht nutzen */
  .ethos-overlay{ display:none !important; }
}

/* ===== Very Small Phones (<= 360px) – nur Typo leicht schrumpfen ===== */
@media (max-width: 360px){
  .ethos-card{ padding:.9rem .9rem 1rem; }
  .ethos-icon{ width:40px; height:40px; }
  .ethos-icon i{ width:20px; height:20px; }
  .ethos-card h3{ font-size:1.16rem }
  .ethos-card p{ font-size:.98rem }
}

/* ===== Buttons unten ===== */
.btn{ display:inline-flex; align-items:center; justify-content:center; min-height:46px; padding:.95rem 1.3rem; border-radius:14px; font-weight:800; text-decoration:none; transition:transform .12s ease, box-shadow .12s ease, background-color .12s ease, border-color .12s ease, color .12s ease; border:1px solid transparent; letter-spacing:.005em; }
.btn:focus-visible{ outline:none; box-shadow:0 0 0 4px var(--ring) }
.btn:active{ transform:translateY(1px) }
.btn--primary{ background:var(--clr-orange); color:#fff; border-color:var(--clr-orange) }
.btn--primary:hover{ box-shadow:0 12px 28px rgba(255,102,0,.36); transform:translateY(-2px) }
.btn--accent{ background:var(--clr-blue-dark); color:#fff; border-color:var(--clr-blue-dark) }
.btn--accent:hover{ box-shadow:0 12px 28px rgba(10,31,111,.36); transform:translateY(-2px) }
.ethos-cta-row{ margin-top:clamp(3rem, 2.2rem + 2vw, 4rem); display:flex; gap:1rem; justify-content:center; flex-wrap:wrap }
.ethos-cta-row .btn{ min-width:240px }
@media (max-width:480px){ .ethos-cta-row .btn{ width:100%; min-width:unset } }

/* ===== Overlay ===== */
.ethos-overlay[aria-hidden="true"]{ display:none }
.ethos-overlay{ position:fixed; inset:0; z-index:999; display:grid; place-items:center; }
.ethos-overlay__backdrop{ position:absolute; inset:0; background:rgba(0,0,0,.5); backdrop-filter:saturate(1.2) blur(4px); }
.ethos-overlay__panel{ position:relative; z-index:2; background:var(--surface); color:var(--ink); width:min(1100px, 92vw); max-height:min(86vh, 1000px); border-radius:20px; box-shadow: 0 30px 90px rgba(0,0,0,.45); border:1px solid var(--line); display:flex; flex-direction:column; overflow:hidden; transform: translateY(12px) scale(.98); opacity:0; transition: transform .22s cubic-bezier(.2,.7,.2,1), opacity .22s ease; }
.ethos-overlay[aria-hidden="false"] .ethos-overlay__panel{ transform: translateY(0) scale(1); opacity:1 }
.ethos-overlay__header{ display:flex; align-items:center; justify-content:space-between; padding: clamp(1rem, 1rem + 1vw, 1.25rem) clamp(1rem, 1rem + 1.2vw, 1.5rem); border-bottom:1px solid var(--line); }
.ethos-overlay__title{ font-size: clamp(1.35rem, 1rem + 1vw, 1.7rem); font-weight:900; letter-spacing:-.01em; line-height:1.2; }
.icon-btn.overlay-close{ display:inline-flex; align-items:center; justify-content:center; width:42px; height:42px; border-radius:12px; border:1px solid var(--line); background:transparent; cursor:pointer; transition: transform .12s ease, background-color .12s ease, border-color .12s ease; }
.icon-btn.overlay-close:hover{ background:rgba(0,0,0,.04) }
.icon-btn.overlay-close:active{ transform: translateY(1px) }
.icon-btn.overlay-close i{ width:20px; height:20px; color:var(--ink) }

/* Grid / Carousel im Overlay */
.ethos-overlay__grid{ padding: clamp(1rem, 1rem + 1.2vw, 1.5rem); overflow:auto; display:grid; grid-template-columns: repeat(3, minmax(0, 1fr)); gap: clamp(1rem, .8rem + 1vw, 1.6rem); }
@media (max-width: 1024px){ .ethos-overlay__grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); } }
@media (max-width: 720px){ .ethos-overlay__grid{ display:none } }
.ethos-mini{ border:1px solid var(--line); border-radius:16px; padding: clamp(.9rem, .8rem + .4vw, 1.1rem); background:#fff; box-shadow: 0 6px 18px rgba(0,0,0,.08); }
:root[data-theme="dark"] .ethos-mini{ background:#0b0c10 }
.ethos-mini__eyebrow{ display:inline-flex; align-items:center; gap:.4rem; font-weight:800; letter-spacing:-.01em; font-size:1rem; line-height:1.2; color:#111; }
:root[data-theme="dark"] .ethos-mini__eyebrow{ color:#fff }
.ethos-mini__eyebrow i{ width:18px; height:18px }
.ethos-mini h4{ font-size: clamp(1.1rem, 1rem + .5vw, 1.35rem); font-weight:900; letter-spacing:-.01em; line-height:1.22; margin:.4rem 0 .35rem; }
.ethos-mini p{ margin:0; color:#363a40; line-height:1.6; font-size:1rem; letter-spacing:0; }
:root[data-theme="dark"] .ethos-mini p{ color:#d5d9e0 }

.ethos-carousel{ display:none; padding: clamp(.6rem, .6rem + 1vw, 1rem); }
@media (max-width: 720px){ .ethos-carousel{ display:block } }
.carousel-viewport{ overflow:hidden; border-top:1px solid var(--line) }
.carousel-track{ display:flex; gap:1rem; will-change:transform; transform:translateX(0); transition: transform .25s ease; padding:1rem .2rem }
.carousel-slide{ flex:0 0 92%; margin-inline:auto; border:1px solid var(--line); border-radius:16px; background:#fff; padding:1rem 1rem 1.2rem; box-shadow: 0 10px 24px rgba(0,0,0,.12); }
:root[data-theme="dark"] .carousel-slide{ background:#0b0c10 }
.carousel-slide h4{ font-size:1.2rem; font-weight:900; letter-spacing:-.01em; margin:.3rem 0 .35rem; }
.carousel-slide p{ margin:0; line-height:1.65; color:#363a40 }
:root[data-theme="dark"] .carousel-slide p{ color:#d5d9e0 }
.carousel-nav{ position:absolute; top:50%; transform:translateY(-50%); width:42px; height:42px; border-radius:999px; display:inline-flex; align-items:center; justify-content:center; border:1px solid var(--line); background:rgba(255,255,255,.9); box-shadow: 0 8px 18px rgba(0,0,0,.18); z-index:3; cursor:pointer; }
:root[data-theme="dark"] .carousel-nav{ background:rgba(20,20,20,.9) }
.carousel-nav.prev{ left:8px } .carousel-nav.next{ right:8px }
.carousel-nav:active{ transform:translateY(-50%) scale(.98) }
/* Global: Box-Sizing, damit Padding in Breite eingerechnet wird */
.ethos, .ethos *{
  box-sizing: border-box;
}

/* Verhindert horizontales Scrollen/Clipping innerhalb der Section */
.section-wrap{
  overflow-x: hidden; /* nur x verstecken; y bleibt sichtbar */
}

/* ===== Phone (<= 720px): 1-Spalten-Grid, Karten zentriert, keine rechte Überbreite ===== */
@media (max-width: 720px){

  /* Mask & Animation aus, kein zusätzliches Innenpadding auf dem Container */
  .ethos-marquee{
    mask-image: none;
    -webkit-mask-image: none;
    overflow: visible;
    margin-top: 1.2rem;
    padding-inline: 0; /* sicherstellen, dass nichts addiert wird */
  }

  /* Track als 1-Spalten-Grid; Breite am Container ausrichten */
  .ethos-marquee .ethos-track{
    display: grid;
    grid-template-columns: 1fr;
    gap: 1rem;
    justify-items: center;       /* Karten mittig */
    animation: none;
    transform: none;
    width: 100%;
    margin: 0 auto;              /* zentrieren */
  }

  /* Karten: nicht mit vw, sondern innerhalb des Containers aufspannen */
  .ethos-card{
    min-width: 0 !important;     /* überschreibt Desktop-Minbreite sicher */
    width: 100%;                 /* füllt die Grid-Spalte, kein Überlauf */
    max-width: 600px;            /* obere Kappung, wirkt nur auf größeren Phones */
    margin-inline: auto;         /* zentriert */
    box-shadow: 0 8px 22px rgba(0,0,0,.16);
    flex: initial;               /* falls Flex-Verhalten vom Desktop greift */
  }

  /* Button "Werte im Detail" ausblenden */
  .ethos-cta-row [data-ethos-open]{ display: none !important; }

  /* Overlay auf Handy nicht nutzen */
  .ethos-overlay{ display: none !important; }
}

/* Very small (<= 360px): nur leichte Typo-Anpassungen */
@media (max-width: 360px){
  .ethos-card{ padding:.9rem .9rem 1rem; }
  .ethos-icon{ width:40px; height:40px; }
  .ethos-icon i{ width:20px; height:20px; }
  .ethos-card h3{ font-size:1.16rem }
  .ethos-card p{ font-size:.98rem }
}
/* Reset für die Liste – entfernt die linke Einrückung */
.ethos-track{
  list-style: none;
  margin: 0;
  padding: 0;          /* <- Wichtig */
}

/* Mobile: harte Zentrierung absichern */
@media (max-width: 720px){
  .ethos-marquee{
    padding-inline: 0; /* falls irgendwo Padding übrig blieb */
  }
  .ethos-marquee .ethos-track{
    justify-items: center;
  }
  .ethos-card{
    justify-self: center;       /* falls ein Browser das Grid anders interpretiert */
    width: min(600px, 100%);    /* 100% des Tracks, maximal 600px */
    margin-inline: auto;
  }
}
/* Lift-Headroom für Hover in der Marquee schaffen */
.ethos-marquee{
  /* so hoch „springt“ die Karte auf Hover (7px) + Reserve */
  --hover-lift: 10px;
  padding-top: var(--hover-lift);
  /* optische Position beibehalten */
  margin-top: calc(1.8rem - var(--hover-lift));
  overflow: visible;            /* Sicherheit */
}

/* (optional) Falls noch Clipping in WebKit: Container über Deckelement heben */
.ethos-marquee,
.ethos-track{ position: relative; z-index: 1; }

/* Dein bestehender Hover kann bleiben:
@media (hover:hover){
  .ethos-card:hover{ transform: translateY(-7px); }
}
*/
/* Mask entfernen */
.ethos-marquee{
  mask-image: none !important;
  -webkit-mask-image: none !important;
  overflow: visible;
  position: relative;
}

/* Seiten-Fade als Overlay (blockiert Schatten nicht) */
.ethos-marquee::after{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  background:
    linear-gradient(to right,
      rgba(255,255,255,0) 0%,
      rgba(255,255,255,1) 6%,
      rgba(255,255,255,1) 94%,
      rgba(255,255,255,0) 100%);
  mix-blend-mode: multiply;          /* Light-Mode */
}
:root[data-theme="dark"] .ethos-marquee::after{
  background:
    linear-gradient(to right,
      rgba(0,0,0,0) 0%,
      rgba(0,0,0,1) 6%,
      rgba(0,0,0,1) 94%,
      rgba(0,0,0,0) 100%);
  mix-blend-mode: screen;            /* Dark-Mode */
}
/* === Blaue Karte + Button: neuer Verlauf === */
.ethos-card:nth-child(1),
.ethos-card[data-tone="blue"]{
  background: linear-gradient(135deg, #04006c, #050088) !important;
  background-size: 200% 200% !important;
  color: #fff !important;
}

/* Falls der Button dasselbe Blau haben soll */
.btn--accent{
  background: linear-gradient(135deg, #04006c, #050088) !important;
  border-color: #050088 !important;
  color: #fff !important;
}

.btn--accent:hover{
  box-shadow: 0 12px 28px rgba(4,0,108,.36) !important;
  transform: translateY(-2px);
}
/* Unterüberschrift (Box) etwas weiter unter die H2 schieben – responsiv */
.ethos-sub-line{
  /* vorher: margin: 0 auto 2.6rem; */
  margin: clamp(.35rem, .6vw, 1rem) auto 2.6rem; /* oben | seitlich | unten */
}
/* ==== ETHOS: 3 Karten pro View (ab 700px), rest unsichtbar ==== */
@media (min-width:700px){
  .ethos-marquee{
    overflow: hidden;          /* harte Sichtfensterbegrenzung */
    mask-image: none !important;
    -webkit-mask-image: none !important;
  }
  .ethos-track{
    display:flex;
    gap: clamp(1.2rem, 2.2vw, 2.4rem);
    will-change: transform;
    animation: none !important;      /* Marquee-Animation aus */
    transform: translate3d(0,0,0);
  }
  /* Drei pro View – Flex-Basis exakt berechnen */
  .ethos-track .ethos-card{
    flex: 0 0 calc((100% - 2 * clamp(1.2rem, 2.2vw, 2.4rem)) / 3);
    min-width: 0 !important;         /* alte min-width überfahren */
    max-width: none;
  }
}

/* Mobile (<= 700px): nur die ersten 3 überhaupt zeigen & zentrieren */
@media (max-width:699.98px){
  .ethos-marquee{ overflow: visible; }
  .ethos-track{
    display:grid;
    grid-template-columns: 1fr;
    gap: 1rem;
    transform: none !important;
    animation: none !important;
    justify-items: center;
  }
  .ethos-track .ethos-card{
    width: min(600px, 94vw);
    min-width: 0 !important;
  }
  .ethos-track .ethos-card:nth-of-type(n+4){ display:none !important; }
}

/* Optional: dezenter Hover ab Tablet, damit nix abgeschnitten wirkt */
@media (hover:hover) and (min-width:700px){
  .ethos-card:hover{ transform: translateY(-4px) scale(1.005); }
}

/* ===== ETHOS: starke Outline + zyklische Gradients ===== */

/* Grundstil: kräftige Outline, Inhalte bleiben weiß */
.ethos-card{
  border: 3px solid #000 !important;          /* starke schwarze Outline */
  box-shadow: none !important;                 /* Flat-Look */
  color: #fff !important;                      /* Text gut lesbar auf dunklem Gradient */
  background: #0b0c0e !important;              /* Fallback */
  background-size: 300% 300% !important;       /* Default, wird unten je Gradient überschrieben */
}

/* Dark Mode: weiße Outline */
:root[data-theme="dark"] .ethos-card{
  border-color: #fff !important;
}

/* Zyklische Zuweisung der vier Gradients (wiederholt sich alle 4 Karten) */
.ethos-track .ethos-card:nth-child(4n + 1){
  /* Blau/Violett Verlauf */
  background: linear-gradient(270deg, #04006c, #6f00ff, #050088) !important;
  background-size: 600% 600% !important;
}
.ethos-track .ethos-card:nth-child(4n + 2){
  /* Dunkelblau auf Graphit */
  background: linear-gradient(135deg, #0d0d0d, #000e5c, #0d0d0d) !important;
  background-size: 300% 300% !important;
}
.ethos-track .ethos-card:nth-child(4n + 3){
  /* Orange → Magenta → Orange */
  background: linear-gradient(135deg, #ff5100, hwb(340 0% 0%), #ff5100) !important;
  background-size: 400% 400% !important;
}
.ethos-track .ethos-card:nth-child(4n + 4){
  /* Tiefschwarz Verlauf */
  background: linear-gradient(135deg, #0d0d0d, #000, #0d0d0d) !important;
  background-size: 300% 300% !important;
}

/* Optional: dezenter Hover ohne Rand-Clipping */
@media (hover:hover){
  .ethos-card:hover{
    transform: translateY(-4px) scale(1.005);
  }
}
@media (min-width:700px){
  .ethos-marquee{
    max-width: 1600px;      /* nimmt ab hier keinen zusätzlichen Platz mehr ein */
    margin-inline: auto;    /* zentriert */
  }
}

/* === ETHOS: Bühne auf 1600px deckeln + fixe Gutter === */
#webdesign-ethos{
  --ethos-stage: 1450px;      /* maximale Breite */
  --ethos-gutter: 2rem;       /* Außenabstand je Seite */
}

/* sichere Außenabstände (inkl. Safe-Area) */
#webdesign-ethos.section-wrap{
  padding-left:  max(var(--ethos-gutter), calc(1rem + env(safe-area-inset-left)));
  padding-right: max(var(--ethos-gutter), calc(1rem + env(safe-area-inset-right)));
  overflow-x: clip; /* keine horizontale Scrollleiste durch Subpixel */
}

/* Head + Marquee zentriert und bei 1600px geklemmt */
#webdesign-ethos .ethos-head,
#webdesign-ethos .ethos-marquee{
  max-width: var(--ethos-stage);
  margin-inline: auto;
}

/* ab 700px sowieso: Sichtfenster hart, aber nicht breiter als 1600px */
@media (min-width:700px){
  #webdesign-ethos .ethos-marquee{
    overflow: hidden;
  }
}

/* Sicherheit: Track nimmt nicht mehr Platz als die Bühne ein */
#webdesign-ethos .ethos-track{
  max-width: var(--ethos-stage);
  margin-inline: auto;
}

</style>

<script>
(function(){
  const section = document.getElementById('webdesign-ethos'); // <- richtige ID
  if (!section) return;

  const marquee = section.querySelector('.ethos-marquee');
  const track   = marquee?.querySelector('.ethos-track');
  if (!track) return;

  const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)');
  const isMobile = () => window.matchMedia('(max-width:699.98px)').matches;

  // ---- Config
  const AUTOPLAY_MS  = 5500;
  const MAX_VIEWPORT = 1600;    // <- Karten nehmen ab hier keinen zusätzlichen Platz mehr ein

  // ---- State
  let originals = [];
  let index = 0;
  let cardW = 0;
  let gap = 0;
  let spv = 1;
  let animLock = false;
  let autoplayTimer = null;

  // ---- Helpers
  const cards = () => Array.from(track.querySelectorAll('.ethos-card'));
  const pxGap = () => {
    const g = getComputedStyle(track).gap || '0px';
    return g.endsWith('px') ? parseFloat(g) : 0;
  };

  function measure(){
    spv = isMobile() ? 1 : 3;
    gap = pxGap();
    // Breite anhand gedeckelter „Viewport“-Breite
    const raw = marquee.clientWidth;
    const vw  = Math.min(raw, MAX_VIEWPORT);    // cap bei 1600px
    cardW = (vw - gap * (spv - 1)) / spv;
  }

  function applyWidths(){ cards().forEach(c => c.style.width = cardW + 'px'); }
  function clearWidths(){ cards().forEach(c => c.style.width = ''); }

  function setTransform(jump=false){
    const x = -(index * (cardW + gap));
    track.style.transition = jump ? 'none' : 'transform 420ms ease';
    track.style.transform  = `translate3d(${x}px,0,0)`;
  }

  function buildClones(){
    track.querySelectorAll('[data-clone]')?.forEach(n => n.remove());
    originals = Array.from(track.children).filter(n => n.classList?.contains('ethos-card') && !n.dataset.clone);
    if (!originals.length) return;

    const pre  = originals.map(n => { const c = n.cloneNode(true); c.dataset.clone = 'true'; return c; });
    const post = originals.map(n => { const c = n.cloneNode(true); c.dataset.clone = 'true'; return c; });

    pre.reverse().forEach(c => track.insertBefore(c, track.firstChild));
    post.forEach(c => track.appendChild(c));
  }

  function goToStart(jump=true){ index = originals.length; setTransform(jump); }

  function normalize(){
    const firstReal = originals.length;
    const lastReal  = firstReal + originals.length - 1;
    if (index < firstReal){ index += originals.length; setTransform(true); }
    else if (index > lastReal){ index -= originals.length; setTransform(true); }
  }

  function next(){ if (animLock || isMobile()) return; animLock = true; index += spv; setTransform(false); }
  function prev(){ if (animLock || isMobile()) return; animLock = true; index -= spv; setTransform(false); }

  track.addEventListener('transitionend', () => { normalize(); animLock = false; }, {passive:true});

  function startAutoplay(){
    if (prefersReduced.matches || isMobile() || autoplayTimer) return;
    stopAutoplay(); autoplayTimer = setInterval(next, AUTOPLAY_MS);
  }
  function stopAutoplay(){ if (autoplayTimer) clearInterval(autoplayTimer); autoplayTimer = null; }

  const visIO = new IntersectionObserver((entries) => {
    entries.forEach(e => { const visible = e.isIntersecting && !document.hidden; if (visible) startAutoplay(); else stopAutoplay(); });
  }, { threshold: 0.5 });
  visIO.observe(section);
  document.addEventListener('visibilitychange', () => { if (document.hidden) stopAutoplay(); else startAutoplay(); });

  section.addEventListener('mouseenter', stopAutoplay);
  section.addEventListener('mouseleave', startAutoplay);
  section.addEventListener('focusin', stopAutoplay);
  section.addEventListener('focusout', startAutoplay);

  // Resize/Init
  let resizeTO;
  function rebuild(){
    stopAutoplay();
    clearWidths();
    buildClones();
    measure();
    applyWidths();
    goToStart(true);
    startAutoplay();
  }
  function onResize(){
    clearTimeout(resizeTO);
    resizeTO = setTimeout(() => {
      if (!isMobile()) rebuild();
      else {
        stopAutoplay(); clearWidths();
        track.style.transition = 'none';
        track.style.transform  = 'none';
      }
    }, 120);
  }
  window.addEventListener('resize', onResize);

  // Boot
  rebuild();
})();
</script>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebPage",
      "@id": "https://example.com/werte/#webpage",
      "url": "https://example.com/werte/",
      "name": "Werte von Fusion³",
      "inLanguage": "de",
      "description": "Werte, die digitale Erlebnisse prägen: Kreativ, strategisch, nachhaltig – unser Ethos für Web, Brand & Performance.",
      "mainEntity": { "@id": "https://example.com/werte/#ethos-terms" },
      "isPartOf": { "@type": "WebSite", "@id": "https://example.com/#website", "url": "https://example.com/" }
    },
    {
      "@type": "DefinedTermSet",
      "@id": "https://example.com/werte/#ethos-terms",
      "name": "Ethos & Werte",
      "inLanguage": "de",
      "hasDefinedTerm": [
        {
          "@type": "DefinedTerm",
          "@id": "https://example.com/werte/#ethos-webdesign",
          "name": "Ganzheitliches Webdesign",
          "description": "Konzeptgetrieben, technisch fundiert, visuell einprägsam und leicht bedienbar – Design trifft Funktion.",
          "url": "https://example.com/werte/#ethos-webdesign"
        },
        {
          "@type": "DefinedTerm",
          "@id": "https://example.com/werte/#ethos-brand",
          "name": "Markenidentität mit Charakter",
          "description": "Erscheinungsbilder, die aus Emotion und Strategie entstehen, Wiedererkennung schaffen und Vertrauen wecken.",
          "url": "https://example.com/werte/#ethos-brand"
        },
        {
          "@type": "DefinedTerm",
          "@id": "https://example.com/werte/#ethos-performance",
          "name": "Performance mit Sinn",
          "description": "Gestaltung, Analyse und datenbasierte Optimierung verbinden – Designentscheidungen führen zu messbarem Erfolg.",
          "url": "https://example.com/werte/#ethos-performance"
        },
        {
          "@type": "DefinedTerm",
          "@id": "https://example.com/werte/#ethos-care",
          "name": "Langfristige Betreuung",
          "description": "Wartung, Updates und kontinuierliche Optimierung nach dem Launch – Weiterentwicklung als Prinzip.",
          "url": "https://example.com/werte/#ethos-care"
        }
      ]
    }
  ]
}
</script>













<section class="lyra-vault" id="lyra-faq">
  <h2 class="lyra-heading">Häufige Fragen</h2>

  <div class="lyra-console" role="search">
    <input type="text" id="lyraSearch" placeholder="Nach Stichwort suchen …" aria-label="FAQ durchsuchen">
    <div class="lyra-nav">
      <button id="lyraPrev" type="button" aria-label="Vorheriges Ergebnis">
        <i data-feather="chevron-left" aria-hidden="true"></i>
      </button>
      <span id="lyraIndex" aria-live="polite">0 / 0</span>
      <button id="lyraNext" type="button" aria-label="Nächstes Ergebnis">
        <i data-feather="chevron-right" aria-hidden="true"></i>
      </button>
    </div>
  </div>

  <div class="lyra-grid">

    <!-- Card 1 -->
    <div class="lyra-card">
      <button class="lyra-toggle" aria-expanded="false">
        <span>Ablauf &amp;<br> Projektdauer</span>
        <i class="lyra-icon" data-feather="arrow-down-circle" aria-hidden="true"></i>
      </button>
      <div class="lyra-drop">
        <p><strong>Wie läuft ein Projekt ab?</strong><br>Nach einem kurzen Kick-off folgen Konzept, Entwurf, Abstimmung und finale Umsetzung. Sie sehen alle Fortschritte live.</p>
        <p><strong>Wie lange dauert das?</strong><br>Je nach Umfang: kleinere Projekte 2–3 Wochen, umfangreiche Websites oder 3D-Renderings 4–6 Wochen.</p>
        <p><strong>Wie oft kann ich Feedback geben?</strong><br>Zwei feste Feedbackrunden sind eingeplant – spontane Rückmeldungen sind jederzeit möglich.</p>
      </div>
    </div>

    <!-- Card 2 -->
    <div class="lyra-card">
      <button class="lyra-toggle" aria-expanded="false">
        <span>Kosten &amp;<br> Angebot</span>
        <i class="lyra-icon" data-feather="arrow-down-circle" aria-hidden="true"></i>
      </button>
      <div class="lyra-drop">
        <p><strong>Wie setzen sich die Kosten zusammen?</strong><br>Je nach Leistung – Design, Animation, SEO oder Hosting. Nach dem Briefing erhalten Sie ein transparentes Angebot mit klarer Aufschlüsselung.</p>
        <p><strong>Gibt es Pauschalpreise?</strong><br>Für Standardleistungen ja, z. B. Landingpages, kleinere Renderings oder Logos. Komplexe Projekte kalkulieren wir individuell.</p>
        <p><strong>Wie erfolgt die Bezahlung?</strong><br>In Etappen, meist zur Hälfte bei Start und zur Hälfte nach Abschluss.</p>
      </div>
    </div>

    <!-- Card 3 -->
    <div class="lyra-card">
      <button class="lyra-toggle" aria-expanded="false">
        <span>Technik &amp;<br> Umsetzung</span>
        <i class="lyra-icon" data-feather="arrow-down-circle" aria-hidden="true"></i>
      </button>
      <div class="lyra-drop">
        <p><strong>Welche Tools nutzen Sie?</strong><br>Für Web: moderne Frameworks &amp; CMS. Für 3D: Blender, Cinema 4D, Unreal Engine. Für Grafik: Adobe CC.</p>
        <p><strong>Bieten Sie Hosting oder Setup an?</strong><br>Ja – auf Wunsch übernehmen wir Domain, Hosting, SSL und Performance-Optimierung.</p>
        <p><strong>Kann ich später selbst Inhalte ändern?</strong><br>Ja – wir integrieren CMS-Lösungen und zeigen Ihnen, wie das geht.</p>
      </div>
    </div>

    <!-- Card 4 -->
    <div class="lyra-card">
      <button class="lyra-toggle" aria-expanded="false">
        <span>Design &amp;<br> Kreativprozess</span>
        <i class="lyra-icon" data-feather="arrow-down-circle" aria-hidden="true"></i>
      </button>
      <div class="lyra-drop">
        <p><strong>Wie werde ich eingebunden?</strong><br>Über Vorschauen, Live-Links oder Render-Previews. So können Sie Änderungen früh sehen und leicht abstimmen.</p>
        <p><strong>Kann ich eigene Ideen einbringen?</strong><br>Natürlich – wir entwickeln das Design gemeinsam und beraten bei Stil, Struktur und Wirkung.</p>
        <p><strong>Ist das Ergebnis markengerecht?</strong><br>Ja – wir achten auf Farbwelt, Typografie und Wiedererkennung über alle Medien hinweg.</p>
      </div>
    </div>

    <!-- Card 5 -->
    <div class="lyra-card">
      <button class="lyra-toggle" aria-expanded="false">
        <span>Nach Projekt &amp;<br> Betreuung</span>
        <i class="lyra-icon" data-feather="arrow-down-circle" aria-hidden="true"></i>
      </button>
      <div class="lyra-drop">
        <p><strong>Gibt es Support nach dem Projekt?</strong><br>Ja – wir bieten Wartung, Updates oder weitere Anpassungen bei Bedarf.</p>
        <p><strong>Kann das Projekt erweitert werden?</strong><br>Jederzeit – zusätzliche Seiten, Renderings oder Kampagnen sind problemlos möglich.</p>
        <p><strong>Erhalte ich die Originaldateien?</strong><br>Ja – alle finalen Daten, Designs und Renderings werden nach Abschluss übergeben.</p>
      </div>
    </div>

    <!-- Card 6 -->
    <div class="lyra-card">
      <button class="lyra-toggle" aria-expanded="false">
        <span>Rechtliches &amp;<br> Datenschutz</span>
        <i class="lyra-icon" data-feather="arrow-down-circle" aria-hidden="true"></i>
      </button>
      <div class="lyra-drop">
        <p><strong>Ist alles DSGVO-konform?</strong><br>Ja – inklusive SSL, Cookie-Management und datensicherem Hosting.</p>
        <p><strong>Wie gehen Sie mit Daten um?</strong><br>Vertraulich und sicher. Auf Wunsch schließen wir eine NDA.</p>
        <p><strong>Wem gehören die Rechte?</strong><br>Nach vollständiger Zahlung gehen alle Nutzungsrechte auf Sie über.</p>
      </div>
    </div>

  </div>
</section>


<style>
:root{
  --nova-base:#ffffff; --nova-alt:#f7f7f7; --nova-ink:#0b0c0e; --nova-muted:#5f6368; --nova-border:#e6e6e6; --nova-shadow:0 10px 26px rgba(0,0,0,.08);
  --lyra-maxw: 1200px;
}
:root[data-theme="dark"]{
  --nova-base:#000; --nova-alt:#0e0f12; --nova-ink:#fff; --nova-muted:#c6cad1; --nova-border:#1f1f1f; --nova-shadow:0 16px 38px rgba(0,0,0,.5);
}

/* Section */
.lyra-vault{
  padding: clamp(2rem, 5vw, 5.5rem) clamp(1rem, 4vw, 2rem);
  background: var(--nova-base);
  color: var(--nova-ink);
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  margin-top: 5rem;
}

/* Heading */
.lyra-heading{
  text-align: center !important;
  font-size: clamp(1.8rem, 1.4rem + 2vw, 3rem) !important;
  font-weight: 900 !important;
  letter-spacing: -0.02em !important;
  margin-bottom: clamp(1.25rem, 3vw, 2.5rem) !important;
  color: var(--nova-ink) !important;
  text-wrap: balance !important;
}

/* Search Console */
.lyra-console{
  max-width: min(var(--lyra-maxw), 100%);
  margin: 0 auto clamp(1.2rem, 3vw, 2.2rem);
  display: grid;
  grid-template-columns: 1fr auto;
  gap: .9rem;
  align-items: center;
}
.lyra-console input{
  min-height: 48px;
  padding: .9rem 1.1rem;
  border:1px solid var(--nova-border); border-radius:10px;
  background: var(--nova-alt); color: var(--nova-ink);
  font-size: 1rem; font-weight: 500; letter-spacing:.01em;
  transition:border-color .25s ease, box-shadow .25s ease;
  width:100%;
}
.lyra-console input::placeholder{ color: color-mix(in oklab, var(--nova-ink) 55%, transparent); opacity:.8; }
.lyra-console input:focus{ outline:none; border-color: color-mix(in oklab, var(--nova-ink) 45%, transparent); box-shadow: 0 0 0 3px color-mix(in oklab, var(--nova-ink) 18%, transparent); }

/* Console responsive: stack on small */
@media (max-width: 680px){
  .lyra-console{ grid-template-columns: 1fr; }
  .lyra-nav{ justify-content: space-between; }
}

/* Nav */
.lyra-nav{ display:flex; align-items:center; gap:.6rem; }
.lyra-nav button{
  padding:.6rem .9rem; min-height:44px;
  border-radius:10px; border:1px solid var(--nova-border);
  background:var(--nova-base); color:var(--nova-ink);
  font-size:1rem; font-weight:700; line-height:1;
  cursor:pointer; transition: all .2s ease;
  display:flex; align-items:center; justify-content:center;
}
.lyra-nav button:hover{ background: color-mix(in oklab, var(--nova-alt) 70%, transparent); transform: translateY(-1px); }
.lyra-nav span{ font-size: .95rem; font-weight:600; letter-spacing:.02em; color: color-mix(in oklab, var(--nova-ink) 75%, transparent); user-select:none; }

/* Feather icons in nav */
.lyra-nav button .feather{
  width: 20px;
  height: 20px;
  stroke-width: 2.5;
  display: block;
}

/* Grid */
.lyra-grid{
  max-width: min(var(--lyra-maxw), 100%);
  margin: 0 auto;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(min(320px, 100%), 1fr));
  gap: clamp(.9rem, 2.5vw, 1.6rem);
  padding-inline: clamp(.25rem, 2vw, 1rem);
}
/* Karten-Grid exakt so breit wie die Konsole */
@media (min-width: 681px){
  .lyra-grid{ padding-inline: 0; }
}
/* Mobile-Fix: auch auf Handy kein zusätzliches Padding */
@media (max-width: 680px){
  .lyra-grid{ padding-inline: 0; }
}

/* Card */
.lyra-card{
  border:1px solid var(--nova-border); border-radius:18px;
  background: linear-gradient(180deg, var(--nova-base), var(--nova-alt));
  box-shadow: var(--nova-shadow);
  transition: transform .2s ease, box-shadow .2s ease;
  overflow: hidden;
}
@media (hover:hover){
  .lyra-card:hover{ transform: translateY(-3px); box-shadow: 0 20px 56px rgba(0,0,0,.10); }
}

/* Toggle */
.lyra-toggle{
  width:100%; background:none; border:0; padding: clamp(1rem, 2.5vw, 1.3rem) clamp(1rem, 3vw, 1.6rem);
  display:flex; align-items:center; justify-content:space-between; gap:.75rem;
  text-align:left; cursor:pointer; color:var(--nova-ink);
}
.lyra-toggle span{
  font-size: clamp(1.06rem, 1rem + .6vw, 1.35rem);
  font-weight: 800; line-height: 1.25; text-wrap: balance;
}

/* Icon */
.lyra-icon{
  width: clamp(28px, 6vw, 42px); height: clamp(28px, 6vw, 42px);
  color: color-mix(in oklab, var(--nova-ink) 85%, transparent);
  stroke-width: 2.25; flex: 0 0 auto;
  transition: transform .3s ease, color .2s ease;
}
.lyra-toggle[aria-expanded="true"] .lyra-icon{ transform: rotate(180deg); }

/* Drop */
.lyra-drop{
  max-height: 0; overflow: hidden;
  padding: 0 clamp(1rem, 3vw, 1.6rem);
  transition: max-height .35s ease, padding .25s ease;
}
.lyra-toggle[aria-expanded="true"] + .lyra-drop{
  max-height: 900px; padding: .25rem clamp(1rem, 3vw, 1.6rem) 1rem;
}
.lyra-drop p{
  margin: 0; padding: .8rem 0;
  font-size: clamp(.98rem, .95rem + .2vw, 1.05rem);
  line-height: 1.7; font-weight: 500; color: var(--nova-ink);
}
.lyra-drop strong{ font-weight: 700; }
.lyra-drop p + p{
  border-top: 1px solid color-mix(in oklab, var(--nova-ink) 15%, transparent);
  margin-top: .3rem;
}

/* Markierung (hell + dark) */
.lyra-card mark{
  background:#ffe58a; color:#000; padding:0 3px; border-radius:3px;
}
:root[data-theme="dark"] .lyra-card mark{
  background:#665c00; color:#fff;
}

/* Dark tweaks */
:root[data-theme="dark"] .lyra-nav button{ background:#111; border-color:#333; color:#fff; }
:root[data-theme="dark"] .lyra-console input::placeholder{ color: rgba(255,255,255,.55); }
:root[data-theme="dark"] .lyra-nav span{ color: rgba(255,255,255,.8); }

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  html:focus-within{ scroll-behavior: auto; }
  .lyra-card, .lyra-icon, .lyra-drop, .lyra-nav button{ transition: none !important; }
}
</style>

<script src="https://unpkg.com/feather-icons" defer></script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  if (window.feather) feather.replace();

  const vault = document.getElementById("lyra-faq");
  const cards = document.querySelectorAll(".lyra-card");
  const input = document.getElementById("lyraSearch");
  const prev = document.getElementById("lyraPrev");
  const next = document.getElementById("lyraNext");
  const indexlabl = document.getElementById("lyraIndex");
  let matches = [], current = 0;

  const prefersReduced = window.matchMedia("(prefers-reduced-motion: reduce)").matches;
  const smoothOpts = prefersReduced ? {behavior:"auto"} : {behavior:"smooth"};

  function closeAll() {
    cards.forEach(c => {
      const b = c.querySelector(".lyra-toggle");
      const d = c.querySelector(".lyra-drop");
      b.setAttribute("aria-expanded", "false");
      d.style.maxHeight = null;
    });
  }

  function removeMarks() {
    vault.querySelectorAll("mark").forEach(m => {
      const t = document.createTextNode(m.textContent);
      m.replaceWith(t);
    });
  }

  // Escape RegExp Sonderzeichen
  function escapeRegExp(str){
    return str.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
  }

  function highlight(node, keyword) {
    const terms = keyword.split(/\s+/).filter(Boolean).map(escapeRegExp);
    if (!terms.length) return;
    const rx = new RegExp("(" + terms.join("|") + ")", "gi");

    if (node.nodeType === 3) {
      const span = document.createElement("span");
      span.innerHTML = node.nodeValue.replace(rx, "<mark>$1</mark>");
      node.parentNode.replaceChild(span, node);
    } else if (node.nodeType === 1 && node.childNodes && !["SCRIPT","STYLE","INPUT","BUTTON"].includes(node.tagName)) {
      [...node.childNodes].forEach(child => highlight(child, keyword));
    }
  }

  function scrollToCard(c) {
    const y = c.getBoundingClientRect().top + window.scrollY - 80;
    window.scrollTo({ top: y, ...smoothOpts });
  }

  function openCard(c) {
    const b = c.querySelector(".lyra-toggle");
    const d = c.querySelector(".lyra-drop");
    b.setAttribute("aria-expanded", "true");
    d.style.maxHeight = d.scrollHeight + "px";
  }

  function recalcOpenHeights() {
    // bei Resize: Höhe offener Panels neu setzen
    cards.forEach(c => {
      const b = c.querySelector(".lyra-toggle");
      const d = c.querySelector(".lyra-drop");
      if (b.getAttribute("aria-expanded") === "true") {
        d.style.maxHeight = d.scrollHeight + "px";
      }
    });
  }

  function updateIndex() {
    indexlabl.textContent = matches.length ? `${current + 1} / ${matches.length}` : "0 / 0";
  }

  function search(keyword) {
    const q = keyword.trim().toLowerCase();
    removeMarks();
    closeAll();
    matches = [];
    if (!q) return updateIndex();

    cards.forEach(c => {
      if (c.innerText.toLowerCase().includes(q)) {
        matches.push(c);
        // Markiere gesamten Karteninhalt (Titel + Body)
        highlight(c, q);
      }
    });

    current = 0;
    if (matches.length) {
      openCard(matches[0]);
      scrollToCard(matches[0]);
    }
    updateIndex();
  }

  input.addEventListener("input", e => search(e.target.value));
  prev.addEventListener("click", () => {
    if (!matches.length) return;
    current = (current - 1 + matches.length) % matches.length;
    closeAll(); openCard(matches[current]); scrollToCard(matches[current]); updateIndex();
  });
  next.addEventListener("click", () => {
    if (!matches.length) return;
    current = (current + 1) % matches.length;
    closeAll(); openCard(matches[current]); scrollToCard(matches[current]); updateIndex();
  });

  // Toggle expand/collapse
  cards.forEach((c, i) => {
    const btn = c.querySelector(".lyra-toggle");
    const drop = c.querySelector(".lyra-drop");
    const dropId = `lyra-drop-${i+1}`;
    drop.id = dropId;
    btn.setAttribute("aria-controls", dropId);

    btn.addEventListener("click", () => {
      const isOpen = btn.getAttribute("aria-expanded") === "true";
      btn.setAttribute("aria-expanded", isOpen ? "false" : "true");
      drop.style.maxHeight = isOpen ? null : drop.scrollHeight + "px";
    });
  });

  // Recalc on resize (responsive)
  let resizeTo;
  window.addEventListener("resize", () => {
    clearTimeout(resizeTo);
    resizeTo = setTimeout(recalcOpenHeights, 120);
  });
});
</script>














<section class="angled-image-section">
  <!-- Overlay für diagonalen Hintergrund -->
  <div class="angled-bg-overlay" aria-hidden="true"></div>

  <figure class="angled-image-wrapper">
    <img
      src="./WebdesignPic/webgerade.webp"
      alt=""
      width="1920"
      height="1080"
      loading="lazy"
      decoding="async"
    />
  </figure>
</section>
<style>
  html, body {
    overflow-x: hidden;
  }

  :root {
    --angled-rotation: -4deg;
    --angled-width: 150vw;
    --angled-offset: -25vw;
  }

  .angled-image-section {
    position: relative;
    width: 100vw;
    overflow: visible;
    margin-top: 3rem;
    margin-bottom: -5rem;
    pointer-events: none;
    background: transparent;
    z-index: 10;
  }

  /* Gradient-Hintergrund hinter dem Bild */
  .angled-bg-overlay {
    position: absolute;
    inset: 0;
    z-index: 0;
    background: transparent;
  }

  .angled-image-wrapper {
    width: var(--angled-width);
    margin-left: var(--angled-offset);
    transform: rotate(var(--angled-rotation));
    position: relative;
    z-index: 1;
  }

  .angled-image-wrapper img {
    width: 100%;
    height: auto;
    display: block;
    z-index: 2;
    position: relative;
  }

  /* Section enger an den Footer rücken */
.angled-image-section {
  margin-top: 5rem; /* stärker ins Footer reinziehen */
  z-index: 0;
}

.footer-clean {
  margin-top: 0;
  position: relative;
  z-index: 75;
}

</style>



</body>













<footer role="contentinfo" itemscope itemtype="https://schema.org/Organization" class="footer-clean" aria-labl="Seitenende">
  <div class="fc-container">
    <!-- Head: Brand & Claim + CTA -->
    <section class="fc-head" aria-labl="Markenbereich">
      <div class="fc-brand">
        <h2 class="fc-logo" itemprop="name" aria-labl="Fusion hoch drei">Fusion³</h2>
        <p class="fc-claim">UX &amp; Webdesign – Nutzerzentriert. Visuell stark. Technisch fundiert.</p>
      </div>
      <div class="fc-cta">
        <a class="fc-btn" href="mailto:hello@fusion3.de" aria-labl="Projekt anfragen per E-Mail">
          Projekt anfragen
        </a>
      </div>
    </section>

    <!-- Grid -->
    <nav class="fc-grid" aria-labl="Footer-Navigation">
      <div class="fc-col">
        <h3 class="fc-col-title">Leistungen</h3>
        <ul class="fc-links" role="list">
          <li><a href="/ux-audit.html">UX-Audit</a></li>
          <li><a href="/webdesign.html">Webdesign</a></li>
          <li><a href="/prototyping.html">Prototyping</a></li>
          <li><a href="/design-system.html">Design-Systeme</a></li>
        </ul>
      </div>

      <div class="fc-col">
        <h3 class="fc-col-title">Ressourcen</h3>
        <ul class="fc-links" role="list">
          <li><a href="/cases.html">Case Studies</a></li>
          <li><a href="/blog.html">Insights &amp; Blog</a></li>
          <li><a href="/faq.html">FAQ</a></li>
          <li><a href="/kontakt.html">Termin buchen</a></li>
        </ul>
      </div>

      <div class="fc-col">
        <h3 class="fc-col-title">Rechtliches</h3>
        <ul class="fc-links" role="list">
          <li><a href="/impressum.html">Impressum</a></li>
          <li><a href="/datenschutz.html">Datenschutzerklärung</a></li>
          <li><a href="/cookies.html">Cookie-Hinweis</a></li>
        </ul>
      </div>

      <div class="fc-col">
        <h3 class="fc-col-title">Kontakt</h3>
        <ul class="fc-links" role="list">
          <li><a href="mailto:hello@fusion3.de" itemprop="email">hello@fusion3.de</a></li>
          <li><a href="tel:+491234567890" itemprop="telephone">+49&nbsp;123&nbsp;4567890</a></li>
          <li itemprop="address" itemscope itemtype="https://schema.org/PostalAddress" aria-labl="Adresse">
            <span itemprop="addressLocality">Berlin</span>, <span itemprop="addressCountry">Deutschland</span>
          </li>
        </ul>

        <!-- Socials -->
        <div class="fc-socials" aria-labl="Social Media">
          <a class="fc-social" href="mailto:hello@fusion3.de" aria-labl="E-Mail">
            <img src="./FooterIcons/Gmail.png" alt="E-Mail" loading="lazy" decoding="async" width="20" height="20">
          </a>
          <a class="fc-social fc-li" href="https://www.linkedin.com/" target="_blank" rel="noopener" aria-labl="LinkedIn">
            <img src="./FooterIcons/LinkedIn.png" alt="LinkedIn" loading="lazy" decoding="async" width="20" height="20">
          </a>
          <a class="fc-social fc-wa" href="https://wa.me/491234567890" target="_blank" rel="noopener" aria-labl="WhatsApp">
            <img src="./FooterIcons/Whatsapp.svg" alt="WhatsApp" loading="lazy" decoding="async" width="20" height="20">
          </a>
          <a class="fc-social fc-ig" href="https://www.instagram.com/" target="_blank" rel="noopener" aria-labl="Instagram">
            <img src="./FooterIcons/instgram.jpg" alt="Instagram" loading="lazy" decoding="async" width="20" height="20">
          </a>
        </div>
      </div>
    </nav>

    <!-- Bottom -->
    <div class="fc-legal" aria-labl="Rechtliches & Hinweise">
      <p>© <span id="currentYear"></span> <span class="nowrap">Fusion³</span> · DSGVO-konform &amp; barrierearm entwickelt.</p>
    </div>
  </div>
</footer>

<style>
  /* ===== Tokens & Typo ===== */
  :root{
    --primary: #111;
    --fc-bg: #ffffff;
    --fc-fg: #0f1114;
    --fc-fg-muted: #535861;
    --fc-line: rgba(0,0,0,.08);
    --fc-maxw: 1240px;
    --fc-lh: 1.65;
    --fc-rad: 12px;

    /* fluid sizes */
    --fc-s1: clamp(.82rem, .7rem + .4vw, .92rem);
    --fc-s2: clamp(.98rem, .9rem + .5vw, 1.08rem);
    --fc-s3: clamp(1.06rem, 1rem + .6vw, 1.22rem);
    --fc-s4: clamp(1.5rem, 1.2rem + 1.2vw, 2rem);
    --fc-s5: clamp(2rem, 1.6rem + 2.2vw, 3rem);

    --fc-focus-color: color-mix(in oklab, var(--primary) 92%, #000 8%);
    --fc-focus: 2px dashed var(--fc-focus-color);

    --fc-btn-fg: #fff;
    --fc-btn-bg: var(--primary);
    --fc-btn-bg-hover: #000;

    --fc-social-bg: #f5f5f5;
    --fc-social-bg-hover: #ececec;
    --fc-social-inset: rgba(0,0,0,.06);

    --fc-udt: 1.5px;
    --fc-udoff: 2px;

    --font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  }

  /* dark / auto */
  :root[data-theme="dark"]{
    --fc-bg:#0a0a0b; --fc-fg:#f5f7fa; --fc-fg-muted:#a8b0bb; --fc-line:rgba(255,255,255,.10);
    --fc-btn-fg:#fff; --fc-btn-bg:#111; --fc-btn-bg-hover:#000;
    --fc-social-bg:#17191d; --fc-social-bg-hover:#1e2127; --fc-social-inset:rgba(255,255,255,.08);
    --fc-focus-color:#ff7a1a;
  }
  @media (prefers-color-scheme: dark){
    :root[data-theme="auto"]{ color-scheme: dark; }
  }

  /* rendering */
  .footer-clean, .footer-clean *{
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  .footer-clean{
    background: var(--fc-bg);
    color: var(--fc-fg);
    padding-block: clamp(2rem, 4vw, 3.5rem) calc(clamp(1.5rem, 3vw, 2.5rem) + env(safe-area-inset-bottom));
    border-top: 1px solid var(--fc-line);
    line-height: var(--fc-lh);
    font-family: var(--font-sans) !important;
    letter-spacing: -0.003em;
    text-wrap: pretty;
  }

  .fc-container{
    max-width: min(var(--fc-maxw), 100%);
    margin-inline: auto;
    padding-inline: clamp(1rem, 5vw, 2rem);
  }

  /* ===== Head: responsive via grid-areas ===== */
  .fc-head{
    display: grid;
    grid-template-columns: 1fr auto;
    grid-template-areas: "brand cta";
    gap: clamp(.9rem, 2vw, var(--fc-s3));
    align-items: end;
    padding-bottom: clamp(1rem, 2vw, var(--fc-s3));
    border-bottom: 1px solid var(--fc-line);
  }
  .fc-brand{ grid-area: brand; }
  .fc-cta{ grid-area: cta; }

  /* mobile: Button nach LINKS & unter dem Claim */
  @media (max-width: 700px){
    .fc-head{
      grid-template-columns: 1fr;
      grid-template-areas:
        "brand"
        "cta";
      align-items: start;
    }
    .fc-cta{ justify-self: start; text-align: left; }
  }

  /* Brand / Claim */
  .fc-logo{
    margin: 0 !important;
    font-weight: 900 !important;
    letter-spacing: -0.02em !important;
    font-size: var(--fc-s5) !important;
    line-height: 1.12 !important;
    text-wrap: balance !important;
    color: var(--fc-fg) !important;
  }
  .fc-claim{
    margin: .6rem 0 0 !important;
    font-size: var(--fc-s3) !important;
    font-weight: 600 !important;
    letter-spacing: .004em !important;
    line-height: 1.78 !important;
    color: var(--fc-fg-muted) !important;
    max-width: 65ch !important;
  }

  /* CTA */
  .fc-btn{
    display: inline-flex; gap: .6rem; align-items: center; justify-content: center;
    padding: .9rem 1.05rem;
    border-radius: var(--fc-rad);
    background: var(--fc-btn-bg);
    color: var(--fc-btn-fg);
    text-decoration: none;
    font-size: var(--fc-s2);
    font-weight: 800;
    letter-spacing: .01em;
    transition: transform .18s ease, background .18s ease, box-shadow .18s ease;
    will-change: transform;
    box-shadow: 0 2px 10px rgba(0,0,0,.18);
  }
  .fc-btn:hover{ transform: translateY(-1px); background: var(--fc-btn-bg-hover); }
  .fc-btn:focus-visible{ outline: var(--fc-focus); outline-offset: 4px; }

  /* sehr kleine screens: volle breite optional */
  @media (max-width: 360px){
    .fc-btn{ width: 100%; justify-content: center; }
  }

  /* ===== Grid ===== */
  .fc-grid{
    display: grid;
    /* kleinstes sinnvoll lesbares Kartenmaß */
    grid-template-columns: repeat(auto-fit, minmax(min(200px, 100%), 1fr));
    gap: clamp(1rem, 3vw, var(--fc-s4));
    padding-top: clamp(1.2rem, 3vw, var(--fc-s4));
  }
  .fc-col{ min-width: 0; }

  .fc-col-title{
    margin: 0 0 .7rem 0 !important;
    font-size: .92rem !important;
    font-weight: 800 !important;
    text-transform: uppercase !important;
    letter-spacing: .08em !important;
    color: var(--fc-fg) !important;
    text-wrap: balance !important;
  }

  .fc-links{
    list-style: none; margin: 0; padding: 0;
    display: grid; gap: .55rem;
  }
  .fc-links a{
    display: inline-block;
    color: var(--fc-fg);
    font-size: var(--fc-s2) !important;
    font-weight: 600 !important;
    letter-spacing: -0.002em !important;
    text-decoration: none;
    transition: color .18s ease, transform .18s ease, text-underline-offset .18s ease;
    word-break: break-word;
    text-underline-offset: var(--fc-udoff);
    text-decoration-thickness: var(--fc-udt);
    text-wrap: pretty;
  }
  .fc-links a:hover{ color: var(--fc-fg-muted); transform: translateX(2px); text-decoration: underline; }
  .fc-links a:focus-visible{ outline: var(--fc-focus); outline-offset: 3px; }

  /* ===== Socials ===== */
  .fc-socials{
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(44px, 1fr));
    gap: .65rem;
    margin-top: 1rem;
    align-items: center;
  }
  @media (max-width: 420px){ .fc-socials{ gap: .55rem; } }

  .fc-social{
    position: relative;
    display: grid; place-items: center;
    width: 44px; height: 44px;
    border-radius: 999px;
    background: var(--fc-social-bg);
    text-decoration: none;
    box-shadow: inset 0 0 0 1px var(--fc-social-inset);
    transition: transform .18s ease, background .18s ease, box-shadow .18s ease;
  }
  .fc-social:hover{
    transform: translateY(-1px);
    background: var(--fc-social-bg-hover);
    box-shadow: inset 0 0 0 1px color-mix(in oklab, var(--fc-social-inset) 80%, transparent);
  }
  .fc-social:focus-visible{ outline: var(--fc-focus); outline-offset: 3px; }
  .fc-social img{
    width: 20px; height: 20px; display: block;
    pointer-events: none; -webkit-user-drag: none; user-select: none;
  }
  .fc-li:hover{ background: color-mix(in oklab, #0a66c2 20%, var(--fc-social-bg-hover)); }
  .fc-wa:hover{ background: color-mix(in oklab, #25D366 20%, var(--fc-social-bg-hover)); }
  .fc-ig:hover{ background: color-mix(in oklab, #d62976 18%, var(--fc-social-bg-hover)); }

  /* ===== Legal ===== */
  .fc-legal{
    margin-top: clamp(1.25rem, 3vw, var(--fc-s4));
    padding-top: clamp(.95rem, 2vw, var(--fc-s3));
    border-top: 1px solid var(--fc-line);
    color: var(--fc-fg-muted);
    font-size: var(--fc-s2) !important;
    text-align: center;
    word-break: break-word;
    letter-spacing: .005em !important;
  }
  .nowrap{ white-space: nowrap; }

  /* ===== Motion ===== */
  @media (prefers-reduced-motion: reduce){
    .fc-btn, .fc-links a, .fc-social{ transition: none !important; }
    .fc-btn:hover, .fc-links a:hover, .fc-social:hover{ transform: none !important; }
  }
}
</style>
