<!DOCTYPE html>
<html lang="de" data-theme="auto">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fusion³ – UX & Webdesign Studio</title>
  <meta name="description" content="Fusion³ ist dein Partner für UX-Design, Webdesign & Prototyping. Wir gestalten digitale Erlebnisse mit Substanz." />

  <!-- Google Fonts Optimierung -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&display=swap">
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&display=swap" rel="stylesheet" media="all" onload="this.media='all'">
  <noscript>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&display=swap" rel="stylesheet">
  </noscript>

  <!-- Lokale Fonts optimieren -->
  <link rel="preload" as="style" href="./fonts/fonts.css">
  <link rel="stylesheet" href="./fonts/fonts.css" media="print" onload="this.media='all'">
  <noscript><link rel="stylesheet" href="./fonts/fonts.css"></noscript>

  <!-- Optional Scripts (lassen wir drin; keine Abhängigkeit) -->
  <script type="module" src="https://unpkg.com/feather-icons" defer></script>
  <script nomodule src="feather-icons.legacy.js"></script>
  <script src="https://unpkg.com/scrollreveal" defer></script>

  <!-- Analytics Beispiel (unverändert) -->
  <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
      c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
      t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
      y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "t1mbvlhldj");
  </script>

  <!-- ===============================
       GLOBAL CSS
       =============================== -->
  <style>
    :root{
      --accent:#0062ff;
      --text:#111;
      --muted:#555;
      --border:rgba(0,0,0,.08);
      --surface:#ffffff;
  --container-width: min(95vw, 1340px);
      --header-pad-y: .75rem;
      --radius: 12px;

      --primary: #ff4d00;
      --secondary: #ff9900;
    }
    /* Dark Theme Tokens */
    @media (prefers-color-scheme: dark){
      :root{
        --text:#f5f7fa;
        --muted:#b7bec7;
        --border:rgba(255,255,255,.12);
        --surface:#000000;
      }
    }
    :root[data-theme="dark"]{
      --text:#f5f7fa;
      --muted:#b7bec7;
      --border:rgba(255,255,255,.12);
      --surface:#000000;
    }

    *{margin:0;padding:0;box-sizing:border-box}
    html,body{
      font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial,sans-serif;
      background:#fff; /* via data-theme dunkler */
      color:var(--text);
      scroll-behavior:smooth;
    }
    :root[data-theme="dark"] body{ background:#000000; }

    a{color:inherit;text-decoration:none;transition:color .2s ease,opacity .2s ease}
    h1,h2,h3,h4{font-weight:900;letter-spacing:-.02em}
    .container{max-width:var(--container-width);margin:0 auto;padding:5rem 2rem}
    .section-title{font-size:clamp(2rem, 1.2rem + 2.4vw, 2.8rem);text-align:center;margin-bottom:.5rem;color:var(--text);font-weight:700;letter-spacing:-.02em}

    /* Skip-Link */
    .skip-link{
      position:absolute; left:-9999px; top:auto; z-index:1000;
    }
    .skip-link:focus{
      left:auto; top:.5rem; inset-inline-start:.5rem;
      background:#000; color:#fff; padding:.5rem .75rem; border-radius:.5rem;
    }

    /* ===== HERO (Video) ===== */
    main{ display:block; }

    .hero-video-wrapper {
      position: relative;
      /* Reihenfolge = bestes Fallback */
      min-height: 100vh;
      min-height: 100dvh;
      min-height: 100svh;
      width: 100%;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      background-color: #000;
      /* Fallback-Bilder */
      background: #000 url('./IndexM/PC.webp') center center / cover no-repeat;
    }
    /* Tablet Fallback-Bild */
    @media (max-width: 1024px) {
      .hero-video-wrapper { background-image: url('./IndexM/Tablet.webp'); }
    }
    /* Smartphone Fallback-Bild */
    @media (max-width: 480px) {
      .hero-video-wrapper { background-image: url('./IndexM/handy.webp'); }
    }

    .hero-video-content {
      position: relative;
      z-index: 2;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 3rem 2rem;
      max-width: 800px;
      width: 100%;
      color: #ffffff;
      text-align: center;
      border-radius: 12px;
      background-color: #2a2a2a63; /* semitransparent, kein Verlauf */
      margin-top: -5rem;
    }
    .hero-video-content::before { content: none !important; }

    .video-background {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;
      z-index: 0;
      pointer-events: none;
    }

    .hero-video-content h1 {
      font-size: 3.8rem;
      line-height: 1.1;
      margin-bottom: 1.2rem;
      color: #ffffff;
    }
    .hero-video-content p {
      font-size: 1.3rem;
      line-height: 1.6;
      color: rgba(255, 255, 255, 0.85);
    }

    .cta-btn {
      background: linear-gradient(to right, var(--primary), var(--secondary));
      color: #fff;
      font-weight: 700;
      padding: 1rem 2.2rem;
      border-radius: 12px;
      font-size: 1rem;
      text-transform: uppercase;
      margin-top: 2rem;
      border: none;
      box-shadow: 0 0 12px rgba(255, 102, 0, 0.3),
                  0 0 24px rgba(255, 102, 0, 0.25);
      transition: all 0.3s ease;
      display: inline-block;
      text-decoration: none;
    }
    .cta-btn:hover,
    .cta-btn:focus {
      background: var(--secondary);
      color: #000;
      transform: scale(1.03);
      cursor: pointer;
      outline: 2px solid var(--primary);
      outline-offset: 4px;
    }

    .video-fallback-image {
      position: absolute; inset: 0;
      width: 100%; height: 100%;
      object-fit: cover; object-position: center;
      z-index: 0; pointer-events: none;
    }

    /* Typo/Spacing – Responsiv */
    @media (max-width: 1024px) {
      .hero-video-content { padding: 2rem; }
      .hero-video-content h1 { font-size: 3rem; }
      .hero-video-content p  { font-size: 1.1rem; line-height: 1.5; }
    }
    @media (max-width: 768px) {
      .hero-video-content { padding: 1.5rem; margin-top: 0; }
      .hero-video-content h1 { font-size: 2.2rem; line-height: 1.2; }
      .hero-video-content p  { font-size: 1rem; line-height: 1.4; }
      .cta-btn { font-size: 0.95rem; padding: 0.75rem 1.5rem; width: auto; max-width: 90%; margin: 1.5rem auto 0; }
    }
    @media (max-width: 480px) {
      .hero-video-content h1 { font-size: 1.6rem; line-height: 1.3; }
      .hero-video-content p  { font-size: 0.95rem; }
    }
    @media (max-width: 425px) {
      .cta-btn {
        width: 100%; max-width: 180px; font-size: 0.9rem;
        padding: 0.9rem 1.2rem; text-align: center; margin-left: auto; margin-right: auto;
      }
    }

    /* ===== Hero-Video: „immer 100% höhe“ & Beschnitt-Regeln ===== */

    /* Mobile: Hero bleibt 100vh/dvh/svh */
    @media (max-width: 768px) {
      .hero-video-wrapper {
        min-height: 100vh;
        min-height: 100dvh;
        min-height: 100svh;
      }
    }

    /* Desktop ≥ 1025px: Video 10% höher, seitlich beschnitten */
    @media (min-width: 1025px) {
      .video-background {
        top: 50%; left: 50%;
        width: auto;
        height: 110%;
        transform: translate(-50%, -50%);
        object-fit: contain; /* wir steuern Größe selbst */
      }
    }

    /* iPad quer / mittlere Geräte: 832–1024px Breite UND Höhe unter 833px */
    @media (min-width: 832px) and (max-width: 1024px) and (max-height: 832px) {
      .video-background {
        top: 50%; left: 50%;
        width: auto;
        height: 110%;
        transform: translate(-50%, -50%);
        object-fit: contain;
      }
    }
  </style>

<style>/* ===== Section Headings – Root Tokens ===== */
:root{
  /* Title */
  --sec-title-fs: clamp(2rem, 1.5rem + 2vw, 3rem);
  --sec-title-fw: 900;
  --sec-title-ls: -0.02em;
  --sec-title-mb: 0rem;
  --sec-title-color: var(--text-main, #1c1c1e);

  /* Subtitle */
  --sec-sub-fs: 1.1rem;
  --sec-sub-color: #666;
  --sec-sub-mb: 2rem;
  --sec-sub-lh: 1.5;
  --sec-sub-max: 65ch;
}

/* ===== Utilities (kannst du überall verwenden) ===== */
.section-title{
  font-size: var(--sec-title-fs);
  font-weight: var(--sec-title-fw);
  letter-spacing: var(--sec-title-ls);
  margin: 0 0 var(--sec-title-mb);
  color: var(--sec-title-color);
  text-align: center; /* optional, rausnehmen wenn nicht gewünscht */
}

.section-subtitle{
  font-size: var(--sec-sub-fs);
  color: var(--sec-sub-color);
  margin: 0 0 var(--sec-sub-mb);
  line-height: var(--sec-sub-lh);
  max-width: var(--sec-sub-max);
  margin-inline: auto;
  text-align: center; /* optional */
}

/* ===== Optional: bestehende Klassen aliasen ===== */
:is(.persona-title)   { all: unset; display:block; }
:is(.persona-subline) { all: unset; display:block; }

/* Fallback ohne PostCSS "composes": dupliziere die Regeln */
.persona-title{
  font-size: var(--sec-title-fs);
  font-weight: var(--sec-title-fw);
  letter-spacing: var(--sec-title-ls);
  margin: 0 0 var(--sec-title-mb);
  color: var(--sec-title-color);
  text-align: center;
}
.persona-subline{
  font-size: var(--sec-sub-fs);
  color: var(--sec-sub-color);
  margin: 0 0 var(--sec-sub-mb);
  line-height: var(--sec-sub-lh);
  max-width: var(--sec-sub-max);
  margin-inline: auto;
  text-align: center;
}

/* ===== Dark / Auto-Dark ===== */
:root[data-theme="dark"] .section-title,
:root[data-theme="dark"] .persona-title{ color:#fff; }

:root[data-theme="dark"] .section-subtitle,
:root[data-theme="dark"] .persona-subline{ color:#fff; }

@media (prefers-color-scheme: dark){
  :root[data-theme="auto"] .section-title,
  :root[data-theme="auto"] .persona-title{ color:#fff; }
  :root[data-theme="auto"] .section-subtitle,
  :root[data-theme="auto"] .persona-subline{ color:#fff; }
}
</style>
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/denizs-dapper-site-2d192b.webflow.css" rel="stylesheet" type="text/css">
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>


  <body data-page="titlepage">

<style>
/* --------------------------
   Lokale Bild-Overrides nur für titlepage.html
--------------------------- */
body[data-page="titlepage"] .hero-image-background {
  background-image: url("./images/hero-bg-sky_1hero-bg-sky.webp") !important;
}

body[data-page="titlepage"] .hero-image-foreground {
  background-image: url("./images/titlepage-fg.webp") !important;
}

/* Optional: Mobile- oder Tablet-Varianten */
@media (max-width: 1024px) {
  body[data-page="titlepage"] .hero-image-foreground {
    background-image: url("./images/titlepage-fg-tablet.webp") !important;
  }
}
@media (max-width: 480px) {
  body[data-page="titlepage"] .hero-image-foreground {
    background-image: url("./images/titlepage-fg-mobile.webp") !important;
  }
}
</style>




</head>




<body>
  <a class="skip-link" href="#main">Zum Inhalt springen</a>


<style>
/* === BASIS ================================================================= */
.site-header{
  position:sticky; top:0; z-index:50;
  background:rgba(255,255,255,.9);
  border-bottom:1px solid var(--border);
  padding-top:max(0px, env(safe-area-inset-top));
  transition:box-shadow .2s ease, background-color .2s ease, padding .2s ease;
}
@supports(backdrop-filter: blur(8px)){
  .site-header{ backdrop-filter:saturate(1.1) blur(8px); background:color-mix(in oklab, var(--surface) 88%, transparent); }
}
.site-header.is-scrolled{ box-shadow: 0 6px 24px rgba(0,0,0,.08); }

.site-header__bar{
  max-width:var(--container-width);
  margin:0 auto;
  padding:var(--header-pad-y) clamp(6px,5vw,10px);
  display:grid;
  grid-template-columns:auto 1fr auto; /* Brand | Nav | Actions */
  align-items:center;
  gap:1rem;
}

.brand{
  font-size:clamp(1.1rem, 2vw, 1.4rem);
  font-weight:900; letter-spacing:0.02em;
  color:var(--text);
  display:inline-flex; align-items:center; gap:.5rem;
  white-space:nowrap; text-decoration:none;
}

/* Actions (CTA + Theme) */
.header-actions{ display:inline-flex; align-items:center; gap:.5rem; }
.button-cta{
  padding:.6rem .9rem; border-radius:var(--radius); font-weight:600;
  background:var(--primary); color:#fff; text-decoration:none; line-height:1;
  min-height:44px; display:inline-flex; align-items:center; justify-content:center;
}
/* CTA-Button global */
.button-cta{ background: var(--primary) !important; }

/* Toggle (Burger/X) */
.site-nav-toggle{
  appearance:none; border:1px solid var(--border); background:var(--surface);
  border-radius:var(--radius); padding:.5rem .6rem; line-height:1; cursor:pointer;
  display:inline-flex; align-items:center; gap:.5rem; justify-self:end; min-width:44px; min-height:44px;
  color:var(--text);
}
.site-nav-toggle:focus-visible{outline:2px solid color-mix(in oklab, var(--text) 20%, transparent); outline-offset:2px}
.site-nav-toggle .icon{ width:22px; height:22px; }
.site-nav-toggle .icon-close{ display:none; }
.site-nav-toggle[aria-expanded="true"] .icon-burger{ display:none; }
.site-nav-toggle[aria-expanded="true"] .icon-close{ display:inline; }

/* NAV – Basis */
.site-nav{ width:100%; }
.site-nav__list{ list-style:none; padding:0; margin:0; }
.site-nav__item{ position:relative; border:0; }
.site-nav__link{
  display:block; text-decoration:none;
  font-weight:500; color:var(--muted);
  white-space:nowrap; text-align:center;
  padding:0.85rem 1rem; min-height:44px; line-height:44px;
  position:relative;
}
.site-nav__link:hover,
.site-nav__link:focus-visible{ color:var(--text); }
.site-nav__link[aria-current="page"],
.site-nav__link[data-active]{ color:var(--text); font-weight:600; }
.site-nav__link::after{
  content:""; position:absolute; left:10px; right:10px; bottom:6px;
  height:2px; background:currentColor; opacity:0; transform:scaleX(.6);
  transition:opacity .18s ease, transform .18s ease;
}
@media(hover:hover){
  .site-nav__link:hover::after,
  .site-nav__link:focus-visible::after,
  .site-nav__link[aria-current="page"]::after,
  .site-nav__link[data-active]::after{ opacity:.75; transform:scaleX(1); }
}

/* Mobile Menüs */
@media (max-width:479px){
  .site-nav{
    display:flex; flex-direction:column;
    position:fixed; inset:var(--header-height) 0 0;
    background:var(--surface);
    transform:translateY(-8px); opacity:0; pointer-events:none;
    transition:transform .18s ease, opacity .18s ease;
    height:calc(100dvh - var(--header-height));
  }
  .site-nav.is-open{ transform:translateY(0); opacity:1; pointer-events:auto; }
  .site-nav__list{
    display:grid; grid-template-columns:1fr; gap:0;
    padding:.25rem clamp(16px,5vw,40px) .75rem;
    flex:1 1 auto; overflow:auto;
  }
  .site-nav__link{ padding:0.95rem 0; font-size:1rem; line-height:1.4; min-height:auto; }
  .header-actions .button-cta{ display:none; }
}
.nav-overlay{ position:fixed; inset:var(--header-height) 0 0; background:rgba(0,0,0,.28); opacity:0; pointer-events:none; transition:opacity .18s ease; }
.nav-overlay.is-open{ opacity:1; pointer-events:auto; }

@media (min-width:480px) and (max-width:767px){
  .site-nav{
    display:flex; flex-direction:column;
    position:fixed; inset:var(--header-height) 0 0;
    background:var(--surface);
    transform:translateY(-8px); opacity:0; pointer-events:none;
    transition:transform .18s ease, opacity .18s ease;
    height:calc(100dvh - var(--header-height));
  }
  .site-nav.is-open{ transform:translateY(0); opacity:1; pointer-events:auto; }
  .site-nav__list{
    display:flex; flex-direction:column; gap:0;
    padding:.5rem clamp(16px,6vw,48px) .75rem;
    flex:1 1 auto; overflow:auto;
  }
  .site-nav__link{ padding:.8rem 0; }
  .header-actions .button-cta{ display:none; }
}

/* Tablet & Desktop */
@media (min-width:768px){
  .site-nav-toggle{ display:none; }
  .site-nav{ display:block; position:static; transform:none; opacity:1; pointer-events:auto; background:transparent; width:auto; height:auto; }
  .site-nav__list{ display:flex; gap:0; padding:0; align-items:center; justify-content:center; overflow:visible; }
  .site-nav__item{ border:0; }
  .site-nav__link{ padding:.85rem 1.05rem; color:var(--muted); min-height:auto; line-height:normal; }
  .header-actions{ display:inline-flex; }
}

/* Fokus-Stile */
.site-nav__link:focus-visible{ outline:2px solid color-mix(in oklab, currentColor 60%, transparent); outline-offset:3px; border-radius:8px; }

/* Scroll-Lock */
.nav-lock, .nav-lock body{ overflow:hidden; }

/* Mobile CTA Container */
.site-nav__mobile-actions{ display:none; }
@media (max-width:767px){
  .site-nav__mobile-actions{
    display:grid; grid-template-columns: 1fr; gap:.75rem;
    padding:.75rem clamp(16px,6vw,48px) 1rem; background:inherit;
    margin-top:auto; border-top:none !important;
  }
  .site-nav__mobile-actions .button-cta{ width:100%; min-height:44px; }
}

/* THEME */
:root:not([data-theme="dark"]) .site-nav.is-open{ background:#fff; }
:root:not([data-theme="dark"]) .site-nav__link{ color:#111; }
:root:not([data-theme="dark"]) .site-nav__link[aria-current="page"],
:root:not([data-theme="dark"]) .site-nav__link[data-active]{ color:#000; }
:root:not([data-theme="dark"]) .site-nav-toggle{ color:#111; border-color:var(--border); background:#fff; }
[data-theme="dark"] .site-nav.is-open{ background:#000; }
[data-theme="dark"] .site-nav__link{ color:#fff; }
[data-theme="dark"] .site-nav__link::after{ background:#fff; }
[data-theme="dark"] .site-nav__link[aria-current="page"],
[data-theme="dark"] .site-nav__link[data-active]{ color:#fff; }
[data-theme="dark"] .site-nav-toggle{ color:#fff; border-color:rgba(255,255,255,.25); background:#111; }
[data-theme="dark"] .nav-overlay.is-open{ background:rgba(0,0,0,.6); }

/* Kompaktere Abstände Mobile */
@media (max-width: 767px){
  .site-nav__list{ padding: .25rem clamp(16px,5vw,40px) .5rem; }
  .site-nav__link{ padding: .5rem 0; line-height: 1.25; min-height: 40px; font-size: .98rem; }
  .site-nav__link::after{ bottom:4px; height:2px; opacity:.6; }
  .site-nav__item + .site-nav__item{ border-top:none !important; }
}
@media (max-width: 479px){
  .site-nav__list{ padding:.2rem clamp(14px,5vw,36px) .45rem; }
  .site-nav__link{ padding:.45rem 0; font-size:.95rem; min-height:38px; }
}

/* Mobile Subnav Grundlayout */
@media (max-width: 767px){
  .site-nav__item{ display:block; position:relative; }
  .site-nav__item > .site-nav__link{ text-align:center !important; padding-right: 2.5rem; }
  .site-subtoggle{
    position:absolute; right: clamp(16px,5vw,40px); top:50%; transform:translateY(-50%);
    appearance:none; border:0; background:transparent; padding:.25rem; line-height:1; cursor:pointer;
    display:inline-flex; align-items:center; justify-content:center;
    min-width:36px; min-height:36px; border-radius:8px; color:var(--muted);
  }
  .site-subtoggle svg{ width:18px; height:18px; transition:transform .18s ease, color .18s ease; }
  .site-subtoggle[aria-expanded="true"] svg{ transform:rotate(180deg); color:var(--text); }
  .site-subnav{ list-style:none; padding:0; margin:.2rem 0 .4rem; }
  .site-nav__link--sub{
    text-align:left; padding:.35rem 0 .35rem 1rem;
    line-height:1.25; min-height:36px; font-size:.95rem;
    color: color-mix(in oklab, var(--muted) 90%, var(--text) 10%);
  }
  .site-nav__link--sub:hover, .site-nav__link--sub:focus-visible{ color:var(--text); }
}

/* Pill/Active im Mobile, Trenner etc. */
@media (max-width:767px){
  .site-nav__item{ display:grid; grid-template-columns: 1fr auto; align-items:center; border-bottom:1px solid color-mix(in oklab, var(--muted) 12%, transparent); }
  .site-nav__item:last-child{ border-bottom:0; }
  .site-nav__item > .site-nav__link{ text-align:left !important; padding: 0.85rem clamp(16px,6vw,24px); padding-right: 3.25rem; line-height:1.3; }
  .site-subtoggle{ position:static; transform:none; margin-right: clamp(12px,5vw,24px); color: var(--muted); }
  .site-subtoggle:hover{ color: var(--text); }
  .site-nav__link[aria-current="page"],
  .site-nav__link[data-active]{ background: color-mix(in oklab, var(--accent) 9%, transparent); color: var(--text); border-radius:12px; }
  .site-nav__link::after{ display:none; }
}

/* Subnav Kompaktheit + Einblendung */
@media (max-width:767px){
  .site-subnav{ margin: .25rem 0 .6rem; padding-left: clamp(18px, 7vw, 28px); border-left: 2px solid color-mix(in oklab, var(--muted) 20%, transparent); }
  .site-nav__link--sub{ padding: .45rem 0; font-size: .96rem; color: color-mix(in oklab, var(--text) 70%, var(--muted) 30%); }
  .site-subnav[hidden]{ display:block !important; height:0; overflow:hidden; opacity:0; }
  .site-subnav:not([hidden]){ animation: subreveal .18s ease-out; }
  @keyframes subreveal { from{ opacity:0; height:0 } to{ opacity:1; height:auto } }
  .site-nav__link{ padding-top:.9rem; padding-bottom:.9rem; }
  .site-nav__mobile-actions{
    position:sticky; bottom:0;
    padding: .85rem clamp(16px,6vw,24px) calc(.85rem + env(safe-area-inset-bottom));
    background: inherit; box-shadow: 0 -8px 24px rgba(0,0,0,.08);
  }
  .site-nav__mobile-actions .button-cta{ font-size:1rem; font-weight:700; border-radius: 12px; }
  .site-nav__item > .site-nav__link{ font-weight: 750; font-size: 1.08rem; letter-spacing: .1px; }
}
[data-theme="dark"] .site-nav.is-open{ background:#000000; }
@media (max-width:767px){
  [data-theme="dark"] .site-nav__item{ border-bottom:1px solid rgba(255,255,255,.07); }
  [data-theme="dark"] .site-subnav{ border-left-color: rgba(255,255,255,.12); }
}

/* Zusätzliche Feinheiten Mobile */
@media (max-width:767px){
  .site-subnav{ margin: .15rem 0 .5rem; padding-left: clamp(16px,6vw,24px); border-left: 2px solid color-mix(in oklab, var(--muted) 22%, transparent); }
  .site-nav__link--sub{ padding: .4rem 0; font-size: .96rem; }
  .site-nav__item.is-open > .site-nav__link{ padding-bottom: .35rem; }
  .site-nav__item.is-open .site-subnav{ margin-top: .1rem; }
}

/* CTA Effekte/States */
.button-cta { text-rendering: optimizeLegibility; -webkit-font-smoothing: antialiased; }
@media (hover:hover){
  .button-cta:hover{ transform: translateY(-1px); box-shadow: var(--cta-shadow-hover), inset 0 0 0 1px rgba(255,255,255,.08); }
  .button-cta:active{ transform: translateY(0); box-shadow: var(--cta-shadow); }
}
.button-cta:focus-visible{
  outline: none;
  box-shadow:
    0 0 0 3px color-mix(in oklab, var(--cta-focus) 70%, transparent),
    0 0 0 6px color-mix(in oklab, var(--cta-focus) 25%, transparent),
    var(--cta-shadow);
}
.button-cta__icon{ width: 1.15em; height: 1.15em; flex: 0 0 auto; transform: translateX(0); transition: transform .18s ease; }
@media(hover:hover){ .button-cta:hover .button-cta__icon{ transform: translateX(2px); } }
@media (prefers-contrast: more){
  .button-cta{ box-shadow: 0 0 0 2px color-mix(in oklab, #000 20%, var(--cta-bg)); }
  .button-cta:focus-visible{ box-shadow: 0 0 0 3px #fff, 0 0 0 6px color-mix(in oklab, var(--cta-bg) 60%, #000 40%); }
}
[data-theme="dark"] .button-cta{ --cta-shadow: 0 10px 24px rgba(0,0,0,.36); --cta-shadow-hover: 0 14px 34px rgba(0,0,0,.46); }
.button-cta::before{
  content:""; position:absolute; inset:0; border-radius:inherit; z-index:0;
  background: radial-gradient(120% 140% at 0% 0%, rgba(255,255,255,.22), rgba(255,255,255,.08) 35%, transparent 60%);
  mix-blend-mode: soft-light; pointer-events:none; opacity:.95;
}
.button-cta > *{ position:relative; z-index:1; }
.button-cta .cta-ripple{
  position:absolute; inset:auto; border-radius:50%;
  pointer-events:none; transform: translate(-50%, -50%) scale(0);
  opacity:.5; filter:saturate(120%);
  background: radial-gradient(circle at center, rgba(255,255,255,.55), rgba(255,255,255,.22), rgba(255,255,255,0) 70%);
}
.button-cta .cta-ripple.is-anim{ animation: ctaRipple .6s ease-out forwards; }
@keyframes ctaRipple{ to{ transform: translate(-50%, -50%) scale(20); opacity:0; } }
@media (prefers-reduced-motion: reduce){
  .button-cta .cta-ripple{ display:none !important; }
  .button-cta{ transition: box-shadow .01ms, transform .01ms; }
}
.button-cta[aria-busy="true"]{ cursor: progress; filter: saturate(.9) brightness(.96); }
.button-cta[aria-busy="true"] .button-cta__label{ opacity:.0; }
.button-cta[aria-busy="true"] .button-cta__icon{ opacity:0; }
.button-cta[aria-busy="true"]::after{
  content:""; position:absolute; inset:0; display:block; margin:auto;
  width:1.25rem; height:1.25rem; border-radius:50%;
  border: 2px solid rgba(255,255,255,.55);
  border-top-color: rgba(255,255,255,0);
  animation: ctaSpin .9s linear infinite; z-index:2;
}
@keyframes ctaSpin{ to{ transform: rotate(360deg); } }
.button-cta[aria-disabled="true"], .button-cta.is-disabled{ opacity:.58; cursor:not-allowed; pointer-events:none; }
.button-cta--lg{ padding: .9rem 1.1rem; font-size:1.05rem; }
.button-cta--sm{ padding: .55rem .8rem; font-size:.92rem; }
.header-actions .button-cta{ white-space:nowrap; }

/* === ÜBERNAHMEN/OVERRIDES AUS DEM UNTEREN BLOCK ================================= */
/* Header-Actions rechtsbündig + Reihenfolge */
.header-actions{ justify-content:flex-end; gap:.5rem; }
.header-actions .toggle{ order:0; }
.header-actions .button-cta{ order:1; }

/* Mobile Subnav – enger und ohne Trennlinie zwischen Oberpunkt/Subnav */
@media (max-width:767px){
  .site-nav__item.is-open > .site-subnav{ margin-top: -2rem !important; }
  .site-nav__item.is-open > .site-nav__link,
  .site-nav__item:has(.site-subtoggle[aria-expanded="true"]) > .site-nav__link{ padding-bottom: .18rem !important; }
  .site-subnav{ margin: .08rem 0 .38rem !important; padding-left: clamp(16px,6vw,24px); border-left: 2px solid color-mix(in oklab, var(--muted) 22%, transparent); }
  .site-nav__link--sub{ padding: .35rem 0 !important; }
  .site-nav__item.is-open{ border-bottom: 0 !important; }
}

/* Tablet 768–1023px: kompakter, einzeilig, ggf. Scrollen */
@media (min-width:768px) and (max-width:1023px){
  .site-nav__list{ flex-wrap: nowrap !important; justify-content: flex-start; gap: .25rem !important; overflow-x:auto; -webkit-overflow-scrolling:touch; scrollbar-width:none; }
  .site-nav__list::-webkit-scrollbar{ display:none; }
  .site-nav__link{ padding:.56rem .68rem !important; font-size:.80rem !important; line-height:1.15 !important; }
  .site-header__bar{ grid-template-columns: auto minmax(0,1fr) auto !important; gap:.5rem !important; }
  .brand{ flex-shrink:0 !important; white-space:nowrap !important; margin-right: clamp(8px,2vw,16px) !important; font-size: clamp(1.05rem, 1.6vw, 1.25rem) !important; line-height:1 !important; }
  .site-nav{ min-width:0 !important; justify-self:end !important; margin-left: clamp(10px, 2.5vw, 28px) !important; }
  .site-subtoggle{ display:none !important; } /* Platz sparen */
  .header-actions{ gap:.35rem !important; }
  .header-actions .button-cta{ font-size:.80rem !important; padding:.55rem .85rem !important; min-height:38px !important; border-radius:10px !important; margin:0 !important; white-space:nowrap !important; }
}

/* Desktop/Tablet: Dropdown sichtbar & 90% Deckkraft, saubere Trenner */
@media (min-width:768px){
  .site-subtoggle{ display:inline-flex !important; appearance:none; border:0; background:transparent; cursor:pointer; padding:.25rem; line-height:1; color:var(--muted); }
  .site-subtoggle svg{ width:16px; height:16px; transition:transform .18s ease, color .18s ease; }
  .site-subtoggle[aria-expanded="true"] svg{ transform:rotate(180deg); color:var(--text); }

  .site-nav__item{ display:inline-flex; align-items:center; position:relative; }
  .site-nav__item > .site-nav__link{ padding-right:.25rem; }

  .site-subnav{
    position:absolute; left:0; top:calc(100% + 8px);
    min-width: 240px; max-width:420px;
    padding:.5rem 0 !important;
    background: rgba(0,0,0,.9) !important; color:#fff;
    border-radius:12px; border:1px solid rgba(255,255,255,.10) !important;
    box-shadow:0 14px 34px rgba(0,0,0,.36);
    display:none; z-index:2000 !important;
  }
  .site-subnav::before{
    content:""; position:absolute; top:-6px; left:14px; width:12px; height:12px;
    background: rgba(0,0,0,.9) !important;
    transform:rotate(45deg);
    border-left:1px solid rgba(255,255,255,.10) !important;
    border-top:1px solid rgba(255,255,255,.10) !important;
  }
  .site-subnav li{ list-style:none; margin:0; }
  .site-subnav li + li{ border-top:1px solid rgba(255,255,255,.12); }
  .site-nav__link--sub{
    display:block; text-align:left !important;
    padding:.6rem .9rem !important; margin:0; border-radius:0; color:#e9e9e9;
  }
  .site-nav__link--sub:hover, .site-nav__link--sub:focus-visible{ background: rgba(255,255,255,.08); color:#fff; }
  .site-nav__item.is-open > .site-subnav{ display:block !important; }
  .site-nav__list{ overflow: visible !important; } /* Dropdown nicht clippen */
}

/* Light-Mode: Subnav weiß/schwarz */
:root:not([data-theme="dark"]) .site-subnav{
  background:#fff !important; color:#111 !important;
  border:1px solid rgba(0,0,0,.12) !important; box-shadow:0 14px 34px rgba(0,0,0,.14) !important;
}
:root:not([data-theme="dark"]) .site-subnav::before{
  background:#fff !important;
  border-left:1px solid rgba(0,0,0,.12) !important;
  border-top:1px solid rgba(0,0,0,.12) !important;
}
:root:not([data-theme="dark"]) .site-nav__link--sub{ color:#111 !important; }
:root:not([data-theme="dark"]) .site-nav__link--sub:hover,
:root:not([data-theme="dark"]) .site-nav__link--sub:focus-visible{ background:rgba(0,0,0,.06) !important; color:#000 !important; }

/* Mobile Light Mode: Subnav ohne Box */
@media (max-width: 767px){
  :root:not([data-theme="dark"]) .site-subnav{
    background: transparent !important; border: 0 !important; box-shadow: none !important; border-radius: 0 !important;
    padding: .08rem 0 .38rem clamp(16px,6vw,24px) !important;
  }
  :root:not([data-theme="dark"]) .site-subnav::before{ display:none !important; }
  :root:not([data-theme="dark"]) .site-nav__link--sub{ color:#111 !important; }
  :root:not([data-theme="dark"]) .site-nav__link--sub:hover,
  :root:not([data-theme="dark"]) .site-nav__link--sub:focus-visible{
    background: rgba(0,0,0,.05) !important; color:#000 !important; border-radius:8px;
  }
}

/* XS Phones: Einrückungen & Abstände */
@media (max-width: 479px){
  .site-nav__item.is-open > .site-subnav{ margin-top: 0.35rem !important; margin-bottom: 2.35rem !important; }
  .site-nav__item.is-open > .site-nav__link{ padding-bottom: .35rem !important; }
  .site-subnav{ padding-left: clamp(16px, 6vw, 22px) !important; }
}

/* Brand größer auf Phones */
@media (max-width: 767px){
  .brand{ font-size: clamp(1.4rem, 6vw, 1.9rem) !important; line-height: 1.1; }
}

/* Mobile CTA unten ohne Box-Hintergrund */
@media (max-width: 767px){
  .site-nav__mobile-actions{
    background: transparent !important; box-shadow: none !important; border-top: none !important; padding-top: 1rem;
  }
}

/* Mobile: Subnav nur beim offenen Punkt zeigen */
@media (max-width:767px){
  .site-nav__list{ display:flex; flex-direction:column; }
  .site-subnav{ display:none; }
  .site-nav__item.is-open > .site-subnav{ display:block; }
}
</style>

<header class="site-header" id="siteHeader">
  <div class="site-header__bar">
    <a href="/" class="brand">Fusion³</a>

    <!-- NAV mit Subnav-Accordions (nur Mobile sichtbar) -->
    <nav class="site-nav" id="siteNav" aria-label="Hauptnavigation">
      <ul class="site-nav__list">

        <!-- Leistungen -->
        <li class="site-nav__item">
          <a class="site-nav__link" href="/leistungen">Leistungen</a>
          <button class="site-subtoggle" aria-expanded="false" aria-controls="sub-leistungen" aria-label="Unterpunkte zu Leistungen ein-/ausklappen">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          <ul id="sub-leistungen" class="site-subnav" hidden>
            <li><a class="site-nav__link site-nav__link--sub" href="/leistungen/webdesign">Webdesign</a></li>
            <li><a class="site-nav__link site-nav__link--sub" href="/leistungen/branding-ci">Branding &amp; CI</a></li>
            <li><a class="site-nav__link site-nav__link--sub" href="/leistungen/performance">Performance Marketing</a></li>
            <li><a class="site-nav__link site-nav__link--sub" href="/leistungen/support">Wartung &amp; Support</a></li>
          </ul>
        </li>

        <!-- Über uns -->
        <li class="site-nav__item">
          <a class="site-nav__link" href="#ueber-uns">Über uns</a>
          <button class="site-subtoggle" aria-expanded="false" aria-controls="sub-about" aria-label="Unterpunkte zu Über uns ein-/ausklappen">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          <ul id="sub-about" class="site-subnav" hidden>
            <li><a class="site-nav__link site-nav__link--sub" href="#team">Team</a></li>
            <li><a class="site-nav__link site-nav__link--sub" href="#werte">Werte</a></li>
            <li><a class="site-nav__link site-nav__link--sub" href="/jobs">Jobs</a></li>
            <li><a class="site-nav__link site-nav__link--sub" href="/presse">Presse</a></li>
          </ul>
        </li>

        <!-- Portfolio -->
        <li class="site-nav__item">
          <a class="site-nav__link" href="#portfolio">Portfolio</a>
          <button class="site-subtoggle" aria-expanded="false" aria-controls="sub-portfolio" aria-label="Unterpunkte zu Portfolio ein-/ausklappen">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          <ul id="sub-portfolio" class="site-subnav" hidden>
            <li><a class="site-nav__link site-nav__link--sub" href="#web-projekte">Web-Projekte</a></li>
            <li><a class="site-nav__link site-nav__link--sub" href="#markenauftritte">Markenauftritte</a></li>
            <li><a class="site-nav__link site-nav__link--sub" href="/cases">Case Studies</a></li>
            <li><a class="site-nav__link site-nav__link--sub" href="/referenzen">Referenzen</a></li>
          </ul>
        </li>

        <!-- Kontakt -->
        <li class="site-nav__item">
          <a class="site-nav__link" href="#kontakt">Kontakt</a>
          <button class="site-subtoggle" aria-expanded="false" aria-controls="sub-kontakt" aria-label="Unterpunkte zu Kontakt ein-/ausklappen">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          <ul id="sub-kontakt" class="site-subnav" hidden>
            <li><a class="site-nav__link site-nav__link--sub" href="/anfrage">Anfrage stellen</a></li>
            <li><a class="site-nav__link site-nav__link--sub" href="/beratung">Beratung buchen</a></li>
            <li><a class="site-nav__link site-nav__link--sub" href="/standort">Standort</a></li>
            <li><a class="site-nav__link site-nav__link--sub" href="/impressum">Impressum</a></li>
          </ul>
        </li>

      </ul>
    </nav>

    <div class="header-actions">

      <!-- ===== REPLACED: Fancy Dark/Light Toggle (nur HTML, CSS/JS sind bereits eingebunden) ===== -->
      <button class="toggle" id="themeToggle" aria-pressed="true" aria-describedby="themeStatus" aria-controls="themeStatus" aria-label="Hell- oder Dunkelmodus umschalten">
        <div class="sky day" aria-hidden="true"></div>
        <div class="sky night" aria-hidden="true"></div>
        <div class="stars" id="stars" aria-hidden="true"></div>
        <div class="clouds" id="clouds" aria-hidden="true">
          <div class="lane back"  data-lane="back"></div>
          <div class="lane mid"   data-lane="mid"></div>
          <div class="lane front" data-lane="front"></div>
        </div>
        <span class="thumb" id="thumb" aria-hidden="true"></span>
      </button>
      
      <p id="themeStatus" class="visually-hidden" aria-live="polite">Dunkelmodus aktiv</p>
      <!-- ===== /REPLACED ===== -->


          <!-- CTA: Drop-in Replacement -->
<a
  class="button-cta button-cta--prime"
  href="#kontakt"
  id="ctaAngebot"
  role="button"
  aria-label="Angebot anfordern"
  data-cta
  data-cta-context="header"
>
  <span class="button-cta__label">Check starten</span>

  <!-- Live-Region für Zustandsansagen (nur Screenreader) -->
  <span class="visually-hidden" aria-live="polite" aria-atomic="true"></span>
</a>
  
    </div>

    <button class="site-nav-toggle" id="navToggle" aria-label="Menü öffnen" aria-expanded="false" aria-controls="siteNav">
      <!-- Burger -->
      <svg class="icon icon-burger" viewBox="0 0 24 24" aria-hidden="true">
        <path d="M3 6h18M3 12h18M3 18h18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>
      <!-- X -->
      <svg class="icon icon-close" viewBox="0 0 24 24" aria-hidden="true">
        <path d="M6 6l12 12M18 6L6 18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>
      <span class="label">Menü</span>
    </button>
  </div>
  <div class="nav-overlay" id="navOverlay" hidden></div>
</header>
<script>
  /* ---------------------------
     Header / Navigation Logic
     --------------------------- */
  (function(){
    const docEl   = document.documentElement;
    const header  = document.getElementById('siteHeader');
    const btn     = document.getElementById('navToggle');
    const nav     = document.getElementById('siteNav');
    const overlay = document.getElementById('navOverlay');
    if(!btn || !nav) return;

    // Headerhöhe als CSS-Var (für Mobile-Panel)
    function setHeaderHeight(){
      const h = header.getBoundingClientRect().height;
      docEl.style.setProperty('--header-height', h + 'px');
    }
    setHeaderHeight();
    addEventListener('resize', setHeaderHeight, {passive:true});

    // MQ Sync
    const mq = window.matchMedia('(min-width: 768px)');

    // Mobile Actions Container (nur CTA dynamisch)
    const mobileActionsId = 'mobileActions';
    let mobileActions = null;
    function ensureMobileActions(){
      if(!mobileActions){
        mobileActions = document.createElement('div');
        mobileActions.id = mobileActionsId;
        mobileActions.className = 'site-nav__mobile-actions';
        mobileActions.setAttribute('hidden','');
        nav.appendChild(mobileActions);
      }
    }
    function moveActionsToMobile(){
      ensureMobileActions();
      const cta = document.querySelector('.button-cta');
      if(cta && cta.parentElement !== mobileActions){ mobileActions.appendChild(cta); }
      mobileActions.removeAttribute('hidden');
    }
function moveActionsBack(){
  const headerActions = document.querySelector('.header-actions');
  if(!headerActions) return;
  const cta = mobileActions?.querySelector('.button-cta');
  if(cta && headerActions !== cta.parentElement){
    headerActions.appendChild(cta); // <<< CTA immer ans Ende = rechts
  }
  mobileActions?.setAttribute('hidden','');
}


    // Focus Trap fürs Mobile-Menü
    const trap = (()=>{
      let active = false;
      function handle(e){
        if(!active || e.key !== 'Tab') return;
        const focusables = nav.querySelectorAll('a, button, [tabindex]:not([tabindex="-1"])');
        const list = Array.from(focusables).filter(el=>!el.hasAttribute('disabled'));
        if(list.length === 0) return;
        const first = list[0];
        const last  = list[list.length-1];
        if(e.shiftKey && document.activeElement === first){ e.preventDefault(); last.focus(); }
        else if(!e.shiftKey && document.activeElement === last){ e.preventDefault(); first.focus(); }
      }
      return {
        activate(){ if(!active){ active = true; document.addEventListener('keydown', handle); }},
        deactivate(){ if(active){ active = false; document.removeEventListener('keydown', handle); }}
      };
    })();

    function collapseAllSubnav(){
      nav.querySelectorAll('.site-subtoggle[aria-expanded="true"]').forEach(btn=>{
        btn.setAttribute('aria-expanded','false');
      });
      nav.querySelectorAll('.site-subnav:not([hidden])').forEach(ul=>{
        ul.setAttribute('hidden','');
      });
      // NEU: .is-open an allen <li> entfernen
      nav.querySelectorAll('.site-nav__item.is-open').forEach(li=>{
        li.classList.remove('is-open');
      });
    }

    function closeMenu(){
      nav.classList.remove('is-open');
      overlay?.classList.remove('is-open');
      overlay?.setAttribute('hidden', '');
      btn.setAttribute('aria-expanded','false');
      btn.setAttribute('aria-label','Menü öffnen');
      docEl.classList.remove('nav-lock');
      trap.deactivate();
      document.querySelector('main')?.removeAttribute('inert');
      collapseAllSubnav();
      moveActionsBack();
      btn.focus();
    }
    function openMenu(){
      nav.classList.add('is-open');
      overlay?.classList.add('is-open');
      overlay?.removeAttribute('hidden');
      btn.setAttribute('aria-expanded','true');
      btn.setAttribute('aria-label','Menü schließen');
      docEl.classList.add('nav-lock');

      const firstLink = nav.querySelector('a');
      if(firstLink) firstLink.focus();

      trap.activate();
      document.querySelector('main')?.setAttribute('inert', '');
      moveActionsToMobile();
    }
    function syncState(){ if(mq.matches){ closeMenu(); } }
    mq.addEventListener?.('change', syncState);
    syncState();

    // Toggle Button (Menü)
    btn.addEventListener('click', function(){
      const isOpen = nav.classList.contains('is-open');
      if(isOpen) closeMenu(); else openMenu();
    });

    // Overlay / Outside click
    overlay?.addEventListener('click', () => closeMenu());
    document.addEventListener('click', (e) => {
      if(!nav.classList.contains('is-open')) return;

      // NEU: Klicks auf den Dark-Mode-Toggle (".toggle") sollen das Menü NICHT schließen
      if (e.target.closest('.toggle')) return;

      if(!nav.contains(e.target) && !btn.contains(e.target)) closeMenu();
    });

    // ESC
    document.addEventListener('keydown', (e) => {
      if(e.key === 'Escape' && nav.classList.contains('is-open')){
        e.preventDefault(); closeMenu();
      }
    });

    // Scroll Shadow
    addEventListener('scroll', () => {
      const y = window.scrollY || 0;
      header.classList.toggle('is-scrolled', y>4);
    }, {passive:true});

    // Scrollspy
    const links = [...document.querySelectorAll('.site-nav__link')];
    const linkMap = Object.fromEntries(links.map(a=>[a.getAttribute('href'), a]));
    const obs = new IntersectionObserver(entries => {
      entries.forEach(e => {
        const id = '#'+e.target.id;
        if(e.isIntersecting){
          links.forEach(l=>{ l.removeAttribute('data-active'); l.removeAttribute('aria-current'); });
          const link = linkMap[id];
          if(link){ link.setAttribute('data-active',''); link.setAttribute('aria-current','page'); }
        }
      });
    }, {rootMargin:'-40% 0px -55% 0px', threshold:[0, 1]});
    document.querySelectorAll('section[id]').forEach(s=>obs.observe(s));

    // Smooth scroll Offset
    links.forEach(a=>{
      a.addEventListener('click', (ev)=>{
        const href = a.getAttribute('href')||'';
        if(href.startsWith('#')){
          const target = document.getElementById(href.slice(1));
          if(target){
            ev.preventDefault();
            const y = target.getBoundingClientRect().top + window.scrollY - (header.getBoundingClientRect().height + 8);
            window.scrollTo({top:y, behavior:'smooth'});
            closeMenu();
          }
        }
      });
    });
  })();
</script>
<script>
(function(){
  const prefersReduced = matchMedia('(prefers-reduced-motion: reduce)').matches;

  function makeRipple(btn, x, y){
    if (prefersReduced) return;
    const r = document.createElement('span');
    r.className = 'cta-ripple';
    r.style.left = x + 'px';
    r.style.top  = y + 'px';
    btn.appendChild(r);
    // Force layout, then animate
    r.offsetWidth; r.classList.add('is-anim');
    r.addEventListener('animationend', ()=> r.remove(), {once:true});
  }

  // Tastatur-Trigger: Space/Enter → visuell gleichwertig
  function keyRipple(e){
    if(e.key !== ' ' && e.key !== 'Enter') return;
    const btn = e.currentTarget;
    const rect = btn.getBoundingClientRect();
    makeRipple(btn, rect.width/2, rect.height/2);
  }

  // Optionaler "busy" Helper – z.B. wenn du via JS async navigierst
  function setBusy(btn, busy=true){
    btn.setAttribute('aria-busy', String(!!busy));
    const live = btn.querySelector('[aria-live]');
    if(live){ live.textContent = busy ? 'Lädt…' : 'Bereit'; }
  }

  // Init
  document.querySelectorAll('[data-cta]').forEach(btn=>{
    // Maus/Touch Ripple
    btn.addEventListener('pointerdown', e=>{
      // Nicht auf echten Keyboard-Focus feuern
      if(e.pointerType === 'mouse' || e.pointerType === 'touch' || e.pointerType === 'pen'){
        const rect = btn.getBoundingClientRect();
        makeRipple(btn, e.clientX - rect.left, e.clientY - rect.top);
      }
    });

    // Keyboard-Ripple
    btn.addEventListener('keydown', keyRipple);

    // (Optional) Beispiel: kurz "busy", dann zur URL
    // -> Entfernen, falls unerwünscht.
    btn.addEventListener('click', (e)=>{
      const href = btn.getAttribute('href') || '';
      const targetLocal = href.startsWith('#');
      if(targetLocal){
        // Smooth anchor scroll ist bei dir schon global geregelt;
        // hier nur kurze visuelle Rückmeldung:
        setBusy(btn, true);
        setTimeout(()=> setBusy(btn, false), 420);
      }
    }, {passive:true});
  });
})();
</script>
<script>
(function(){
  const nav = document.getElementById('siteNav');
  if(!nav) return;

  nav.addEventListener('click', (e)=>{
    const btn = e.target.closest('.site-subtoggle');
    if(!btn) return;
    e.preventDefault();
    e.stopPropagation();

    const li  = btn.closest('.site-nav__item');
    const id  = btn.getAttribute('aria-controls');
    const sub = id ? document.getElementById(id) : li?.querySelector('.site-subnav');
    if(!li || !sub) return;

    const isOpen = btn.getAttribute('aria-expanded') === 'true';

    // 1) alle anderen Menüs schließen
    nav.querySelectorAll('.site-nav__item.is-open').forEach(other=>{
      if(other !== li){
        other.classList.remove('is-open');
        const otherBtn = other.querySelector('.site-subtoggle[aria-expanded="true"]');
        const otherSub = other.querySelector('.site-subnav');
        if(otherBtn) otherBtn.setAttribute('aria-expanded','false');
        if(otherSub) otherSub.setAttribute('hidden','');
      }
    });

    // 2) aktuelles Menü toggeln
    btn.setAttribute('aria-expanded', String(!isOpen));
    li.classList.toggle('is-open', !isOpen);
    sub.toggleAttribute('hidden', isOpen);
  });

  // Outside-Click schließt alles
  document.addEventListener('click', (e)=>{
    if(!nav.contains(e.target)){
      nav.querySelectorAll('.site-nav__item.is-open').forEach(li=>{
        li.classList.remove('is-open');
        const b = li.querySelector('.site-subtoggle[aria-expanded="true"]');
        const s = li.querySelector('.site-subnav');
        if(b) b.setAttribute('aria-expanded','false');
        if(s) s.setAttribute('hidden','');
      });
    }
  });

  // ESC schließt alle
  document.addEventListener('keydown', (e)=>{
    if(e.key !== 'Escape') return;
    nav.querySelectorAll('.site-nav__item.is-open').forEach(li=>{
      li.classList.remove('is-open');
      const b = li.querySelector('.site-subtoggle[aria-expanded="true"]');
      const s = li.querySelector('.site-subnav');
      if(b) b.setAttribute('aria-expanded','false');
      if(s) s.setAttribute('hidden','');
    });
  });
})();
</script>


<style>
  :root{
    color-scheme: light dark;

    /* Himmel */
    --sky-day-zenith:#1d7ce2;
    --sky-day-horizon:#a5d4ff;
    --sky-night-zenith:#0a0a2e;
    --sky-night-horizon:#1a0033;

    --cloud-day:#ffffff;
    --cloud-night:#d2d8e4;

    --sun-core:#ffd54f;
    --sun-glow:#ffe597;
    --moon-core:#f0f3fa;
          --accent:#0026ff;
    --pulse: rgba(255, 213, 79, .45);
  }
  body.dark{ --pulse: rgba(200, 220, 255, .40); }

  main{ display:grid; gap:.75rem; place-items:center; }

  /* Responsive Toggle
     - kleiner Default
     - Breite: min 140px, ideal 42vw, max 220px
     - Höhe & Thumb leiten sich davon ab
  */
  .toggle{
    /* Dimensionen */
    --w: clamp(140px, 42vw, 220px);
    --h: calc(var(--w) / 2.3);       /* ursprüngliches Seitenverhältnis ~2.29 */
    --pad: calc(var(--h) * 0.125);   /* ~12px bei h=96 */
    --thumb: calc(var(--h) - var(--pad) * 2);

    position:relative;
    width:var(--w);
    height:var(--h);
    border:0;
    cursor:pointer;
    outline:none;
    overflow:hidden;
    isolation:isolate;
    border-radius:999px;
    background:transparent;
    box-shadow: 0 14px 34px rgba(0,0,0,.38), inset 0 0 0 1px rgba(255,255,255,.07);
  }
  .toggle:focus-visible{
    box-shadow:0 0 0 4px color-mix(in oklab, var(--accent), transparent 65%), 0 14px 34px rgba(0,0,0,.38);
  }

  /* SKY */
  .sky{ position:absolute; inset:0; border-radius:inherit; z-index:0; overflow:hidden; }

  .day{
    position:absolute; inset:0; border-radius:inherit; opacity:1; transition:opacity 1200ms ease;
    background: linear-gradient(180deg, var(--sky-day-zenith), var(--sky-day-horizon));
  }
  .day::after{
    content:""; position:absolute; inset:-20%; border-radius:inherit; pointer-events:none;
    background: conic-gradient(from 0deg,
      color-mix(in oklab, var(--sky-day-zenith), transparent 0%) 0deg,
      color-mix(in oklab, var(--sky-day-horizon), transparent 15%) 90deg,
      color-mix(in oklab, var(--sky-day-zenith), transparent 8%) 180deg,
      color-mix(in oklab, var(--sky-day-horizon), transparent 20%) 270deg,
      color-mix(in oklab, var(--sky-day-zenith), transparent 0%) 360deg);
    filter: blur(12px) saturate(1.06) brightness(1);
    animation: rotateDay 40s linear infinite, dayBreathe 10s ease-in-out infinite;
    opacity:.9;
  }
  @keyframes rotateDay { to{ transform: rotate(360deg); } }
  @keyframes dayBreathe { 0%,100%{ filter: blur(12px) saturate(1.06) brightness(1) } 50%{ filter: blur(12px) saturate(1.08) brightness(1.06) } }

  .night{
    position:absolute; inset:0; border-radius:inherit; opacity:0; transition:opacity 1200ms ease;
    background: linear-gradient(180deg, var(--sky-night-zenith), var(--sky-night-horizon));
  }
  .night::after{
    content:""; position:absolute; inset:-25%; border-radius:inherit; pointer-events:none;
    background: conic-gradient(from 0deg, rgba(40,45,95,.12), rgba(110,20,120,.10), rgba(30,35,90,.12), rgba(60,20,110,.10), rgba(40,45,95,.12));
    filter: blur(16px) saturate(1.02);
    animation: driftNight 120s linear infinite;
    opacity:.35;
  }
  @keyframes driftNight { to{ transform: rotate(360deg); } }

  body.dark .day{ opacity:0; } body.dark .night{ opacity:1; }

  /* STARS */
  .stars{ position:absolute; inset:0; z-index:1; border-radius:inherit; opacity:0; transition:opacity 900ms ease; pointer-events:none; }
  body.dark .stars{ opacity:1; }
  .stars i{ position:absolute; width:2px; height:2px; background:#fff; border-radius:50%; opacity:.2; animation:twinkle 3.2s infinite ease-in-out; }
  @keyframes twinkle{ 50%{ opacity:1; transform:scale(1.6)} }

  /* CLOUDS */
  .clouds{ position:absolute; inset:0; border-radius:inherit; z-index:2; pointer-events:none; }
  .lane{ position:absolute; inset:0; overflow:hidden; }
  .lane.back{ opacity:.25; filter:blur(1.2px); }
  .lane.mid{  opacity:.6; filter:blur(.6px); }
  .lane.front{opacity:.95;}

  .cloud{ position:absolute; top:0; transform:translateX(0); animation-name: drift; animation-timing-function: linear; animation-iteration-count: infinite; }
  @keyframes drift{ from{ transform:translateX(-320px)} to{ transform:translateX(320px)} }
  .bubble{ position:absolute; border-radius:50%; background: var(--cloud-day); }
  body.dark .bubble{ background: var(--cloud-night); }

  /* THUMB = Sonne/Mond (responsiv) */
  .thumb{
    position:absolute;
    top:var(--pad);
    left:var(--pad);
    width:var(--thumb);
    height:var(--thumb);
    border-radius:50%;
    z-index:5;
    box-shadow: 0 12px 24px rgba(0,0,0,.35);
    transition: transform 820ms cubic-bezier(.2,.85,.2,1), background 600ms ease, filter 600ms ease;
  }
  body.light .thumb{ background: var(--sun-core); filter: drop-shadow(0 0 12px var(--sun-glow)); }
  body.dark  .thumb{ background: var(--moon-core); filter: drop-shadow(0 0 6px rgba(200,220,255,.5)); }

  .thumb{ transform: translateX(0); }
  /* Dark: nach rechts – Strecke ergibt sich aus Breite, Padding und Thumb-Größe */
  body.dark .thumb{
    transform: translateX(calc(var(--w) - var(--pad) - var(--thumb)));
  }

  .thumb.pulse{ animation:pulse 720ms ease-out; }
  @keyframes pulse{ 0%{ box-shadow:0 0 0 0 var(--pulse)} 100%{ box-shadow:0 0 0 22px rgba(0,0,0,0)} }

  .visually-hidden{ position:absolute !important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }

  .label{ text-align:center; color:#9aa3b2; font-size:14px }
  body.light .label{ color:#5f6876 }

  @media (prefers-reduced-motion: reduce){
    .thumb,.day,.night,.stars,.cloud{ transition:none; animation-duration:.01ms; animation-iteration-count:1 }
    .day::after,.night::after{ animation:none; }
  }
  /* ---- Compact sizing nur in der Header-Actions ---- */
.header-actions .toggle{
  /* kompakter, responsive – begrenzt in der Navbar */
  --w: clamp(88px, 16vw, 128px);
  --h: 32px;                 /* passt angenehm in 44px Navbar-Höhe */
  --pad: 4px;
  --thumb: calc(var(--h) - var(--pad) * 2);

  width: var(--w);
  height: var(--h);
  border-radius: 999px;
  box-shadow: 0 8px 18px rgba(0,0,0,.24), inset 0 0 0 1px rgba(255,255,255,.06);
  vertical-align: middle;
}

@media (min-width:768px){
  .header-actions .toggle{
    --w: 108px;              /* etwas größer auf Desktop, bleibt kompakt */
    --h: 34px;
    --pad: 5px;
  }
}

/* Thumb skaliert bereits über Variablen – hier nur der Shadow etwas dezenter */
.header-actions .thumb{
  box-shadow: 0 8px 16px rgba(0,0,0,.25);
}

/* Optionale Feinausrichtung neben dem CTA */
.header-actions{
  gap: .4rem;                /* etwas enger */
  align-items: center;       /* saubere Vertikalzentrierung */
}

/* Auf sehr kleinen Phones noch kompakter */
@media (max-width: 360px){
  .header-actions .toggle{
    --w: 92px;
    --h: 30px;
    --pad: 4px;
  }
}
/* Actions rechts binden und Überlauf verhindern */
.site-header__bar{ grid-template-columns: auto 1fr auto; }
.header-actions{
  display:inline-flex;
  align-items:center;
  gap:.4rem;
  justify-self:end;   /* rechtsbündig in der Grid-Spalte */
  min-width:0;        /* kein Layout-Overflow */
}

/* Compact/Responsive Toggle innerhalb der Header-Actions */
.header-actions .toggle{
  --w: 96px;   /* Default: Phones ab ~375-425px */
  --h: 30px;
  --pad: 4px;
  --thumb: calc(var(--h) - var(--pad)*2);

  width: var(--w);
  height: var(--h);
  max-width: 100%;
  border-radius: 999px;
  box-shadow: 0 8px 18px rgba(0,0,0,.24), inset 0 0 0 1px rgba(255,255,255,.06);
  vertical-align: middle;
}

/* sehr kleine Phones < 375px → kürzer */
@media (max-width: 374px){
  .header-actions .toggle{
    --w: 84px;
    --h: 28px;
    --pad: 4px;
  }
}

/* größere Phones 425–767 */
@media (min-width: 425px) and (max-width: 767px){
  .header-actions .toggle{
    --w: 104px;
    --h: 32px;
    --pad: 5px;
  }
}

/* Tablet & Desktop */
@media (min-width: 768px){
  .header-actions .toggle{
    --w: 112px;   /* kompakt, ragt nicht raus */
    --h: 34px;
    --pad: 6px;
  }
}

/* Thumb: dezenter Shadow */
.header-actions .thumb{ box-shadow: 0 8px 16px rgba(0,0,0,.25); }

/* Toggle selbst clippt alles, damit Clouds nie überragen */
.header-actions .toggle{ overflow:hidden; }

/* Optional: minimal optische Baseline-Korrektur auf Desktop
@media (min-width:768px){
  .header-actions .toggle{ transform: translateY(0.5px); }
}
*/
@media (min-width:768px) and (max-width:1023px){
  .header-actions .toggle{
    --w: 72px;   /* kürzer auf Tablet */
    --h: 30px;
    --pad: 5px;
  }
  .site-nav__list{ flex-wrap: wrap; }                 /* falls eng, darf umbrechen */
  .site-nav__link{ padding: .75rem .9rem; }           /* etwas weniger seitliches Padding */

  /* >>> Angebot weiter nach rechts schieben <<< */
  .header-actions .button-cta{
    margin-right: -3.1rem; /* Abstand zwischen Toggle und Angebot */
  }
}



@media (min-width:320px){
  .header-actions .toggle{
    --w: 60px;   /* kürzer auf Tablet */
    --h: 30px;
    --pad: 5px;
  }

}

/* 1) Dark-Mode: deutliche 2px weiße Outline */
body.dark .header-actions .toggle,
[data-theme="dark"] .header-actions .toggle{
  box-shadow:
    0 8px 18px rgba(0,0,0,.35),    /* normaler Drop-Shadow */
    inset 0 0 0 2px #8f67ff;          /* kräftige 2px Outline */
}

/* 2) Mond/Thumb rechts nicht abschneiden
   BISHER: translateX(calc(var(--w) - var(--pad) - var(--thumb)));
   KORREKT: rechter Rand soll auch --pad Abstand haben ⇒ minus 2*pad
   Optionales Feintuning via --nudge-x (Standard 0px) */
body.dark .thumb{
  transform: translateX(calc(var(--w) - var(--thumb) - (var(--pad) * 2) - var(--nudge-x, 0px)));
}

/* 3) Sehr kleine Phones ≤ 320px: Button kürzer */
@media (max-width: 320px){
  .header-actions .toggle{
    --w: 52px;
    --h: 26px;
    --pad: 4px;
  }
}

/* 4) Tablet 768–1023px: noch etwas kürzer + Abstand zum CTA,
      damit nichts "Kontakt" überdeckt und rechts sauber bleibt */
@media (min-width:768px) and (max-width:1023px){
  .header-actions .toggle{
    --w: 64px;   /* kürzer als vorher (zuvor 72px/108px etc.) */
    --h: 28px;
    --pad: 5px;
    /* Optional mini-Feintuning, falls Mond optisch 1px zu weit rechts wirkt: */
    --nudge-x: 1px; /* 0px–2px je nach Look, sonst Zeile löschen */
  }
  .header-actions .button-cta{
    margin-left: 1rem; /* Abstand zwischen Toggle und "Angebot" */
    margin-right: 0;   /* keine negativen Margins nach rechts */
  }
}

/* (Optional) Desktop Feintuning: runder Look, aber kompakt */
@media (min-width:1024px){
  .header-actions .toggle{
    --w: 96px;
    --h: 30px;
    --pad: 6px;
  }
}

/* === ATTENTION NUDGES ===================================== */
.header-actions .toggle {
  position: relative;
  isolation: isolate;
}

/* 1) Halo-Pulse als Ring */
.header-actions .toggle.suggest::after{
  content:"";
  position:absolute; inset:-6px; border-radius:inherit;
  pointer-events:none; z-index:10;
  box-shadow: 0 0 0 0 var(--pulse);
  animation: hintHalo 1200ms ease-out 6; /* max. 6 Wiederholungen */
}
@keyframes hintHalo{
  0%   { box-shadow:0 0 0 0 var(--pulse);           opacity:1 }
  100% { box-shadow:0 0 0 26px rgba(0,0,0,0);       opacity:0 }
}

/* 2) Thumb-Nudge – kurzer „Schubs“ */
.header-actions .toggle.suggest .thumb{
  animation: hintNudge 900ms cubic-bezier(.3,1,.3,1) 2 250ms;
}
@keyframes hintNudge{
  0%,100% { transform: translateX(var(--hint-x, 0)); }
  40%     { transform: translateX(calc(var(--hint-x, 0) + 6px)); }
  70%     { transform: translateX(calc(var(--hint-x, 0) - 3px)); }
}

/* wenn dark, Grundoffset der Thumb bleibt korrekt */
body.dark .header-actions .toggle.suggest .thumb{
  --hint-x: calc(var(--w) - var(--thumb) - (var(--pad) * 2) - var(--nudge-x, 0px));
}

/* 3) Mini-Tooltip */
.header-actions .toggle[data-hint]:not([data-hint=""])::before{
  content: attr(data-hint);
  position:absolute;
  left:50%; transform: translateX(-50%) translateY(-8px);
  bottom: 100%;
  padding:.25rem .5rem;
  font-size: 11px; line-height: 1;
  color:#fff; background: color-mix(in oklab, var(--accent), black 25%);
  border-radius:6px; white-space:nowrap;
  box-shadow: 0 6px 16px rgba(0,0,0,.25);
  opacity:0; pointer-events:none; z-index:11;
}
.header-actions .toggle.suggest[data-hint]:not([data-hint=""])::before{
  animation: hintFloat 1800ms ease-in-out 2 both;
}
@keyframes hintFloat{
  0%   { opacity:0; transform: translateX(-50%) translateY(-2px) }
  15%  { opacity:1; transform: translateX(-50%) translateY(-6px) }
  85%  { opacity:1; transform: translateX(-50%) translateY(-6px) }
  100% { opacity:0; transform: translateX(-50%) translateY(-10px) }
}

/* Reduced motion: keine Bewegungen, nur kurzer Glow */
@media (prefers-reduced-motion: reduce){
  .header-actions .toggle.suggest::after,
  .header-actions .toggle.suggest .thumb,
  .header-actions .toggle.suggest[data-hint]:not([data-hint=""])::before{
    animation: none !important;
  }
  .header-actions .toggle.suggest::after{
    box-shadow: 0 0 0 6px var(--pulse);
    opacity:.9;
    transition: opacity .6s ease;
  }
}

</style>
<script>
  (function(){
    const rootEl   = document.documentElement; // <html>
    const bodyEl   = document.body;
    const toggleEl = document.getElementById('themeToggle');
    const thumb    = document.getElementById('thumb');
    const stars    = document.getElementById('stars');
    const statusEl = document.getElementById('themeStatus');

    /* --------- Stars: einmalig, reicht --------- */
    (function seedStars(){
      if(!stars) return;
      const N = 26;
      const frag = document.createDocumentFragment();
      for(let i=0;i<N;i++){
        const el = document.createElement('i');
        el.style.top = (5 + Math.random()*90) + '%';
        el.style.left = (5 + Math.random()*90) + '%';
        el.style.animationDelay = (Math.random()*2.5).toFixed(2)+'s';
        frag.appendChild(el);
      }
      stars.appendChild(frag);
    })();


    /* --------- Clouds: responsive zu echter Toggle-Größe --------- */
    (function seedClouds(){
      const lanes = Array.from(document.querySelectorAll('[data-lane]'));
      if(!lanes.length || !toggleEl) return;

      const presets = {
        back:  { count: 3, speed:[80,120], scale:[0.60,0.90],  opacity:[0.25,0.40] },
        mid:   { count: 3, speed:[60, 90], scale:[0.80,1.00],  opacity:[0.50,0.70] },
        front: { count: 2, speed:[45, 70], scale:[1.00,1.15],  opacity:[0.85,0.95] }
      };

      function render(){
        lanes.forEach(l=>l.innerHTML = '');
        const rect = toggleEl.getBoundingClientRect();
        const W = Math.max(60, Math.round(rect.width));
        const H = Math.max(24, Math.round(rect.height));
        lanes.forEach(lane=>{
          const cfg = presets[lane.dataset.lane];
          for(let i=0;i<cfg.count;i++){
            const cloud = document.createElement('div');
            cloud.className = 'cloud';

            /* Wolkengröße relativ */
            const minW = Math.max(0.28*W, 36);
            const maxW = Math.max(0.46*W, 54);
            const cw   = randf(minW, maxW);
            const ch   = cw*0.5;

            cloud.style.width  = cw+'px';
            cloud.style.height = ch+'px';

            /* vertikal innerhalb der Toggle-Höhe */
            const freeY = Math.max(0, H - ch);
            cloud.style.top  = (freeY ? randf(0, freeY) : 0) + 'px';

            /* horizontal sofort sichtbar starten */
            cloud.style.left = (Math.max(0, W - cw) ? randf(0, W - cw) : 0) + 'px';

            const dur = rand(cfg.speed[0], cfg.speed[1]);
            cloud.style.animationDuration = dur+'s';
            cloud.style.animationDelay = (-Math.random()*dur).toFixed(2)+'s';
            cloud.style.opacity = randf(cfg.opacity[0], cfg.opacity[1]);
            cloud.style.transform = `translateX(0) scale(${randf(cfg.scale[0], cfg.scale[1])})`;

            /* Bubbles */
            ['b1','b2','b3','b4','b5'].forEach((b,idx)=>{
              const s = document.createElement('span');
              s.className = 'bubble '+b;
              const w = [0.58,0.50,0.66,0.38,0.42][idx] * (0.92 + Math.random()*0.16);
              const h = [0.78,0.70,0.88,0.58,0.62][idx] * (0.92 + Math.random()*0.16);
              s.style.width  = (w*100)+'%';
              s.style.height = (h*100)+'%';
              const lefts = [10,38,46,-2,22];
              const tops  = [12,-4,12,28,28];
              s.style.left = (lefts[idx] + (Math.random()*4-2))+'%';
              s.style.top  = (tops[idx]  + (Math.random()*4-2))+'%';
              cloud.appendChild(s);
            });

            lane.appendChild(cloud);
          }
        });
      }

      function rand(min,max){ return Math.floor(min + Math.random()*(max-min+1)); }
      function randf(min,max){ return +(min + Math.random()*(max-min)).toFixed(2); }

      /* Initial + nach Resize (debounced) */
      let t;
      const onResize = () => { clearTimeout(t); t = setTimeout(render, 120); };
      render();
      addEventListener('resize', onResize, {passive:true});
    })();


    /* --------- THEME: body-Klassen + data-theme fürs CSS ---------- */
    const STORAGE_KEY = 'theme-pref';

    function applyTheme(mode){ // 'dark' | 'light'
      const isDark = (mode === 'dark');
      bodyEl.classList.toggle('dark', isDark);
      bodyEl.classList.toggle('light', !isDark);
      rootEl.setAttribute('data-theme', isDark ? 'dark' : 'light'); // wichtig für deine [data-theme] Styles
      updateAria(isDark);
    }

    (function initTheme(){
      const saved = localStorage.getItem(STORAGE_KEY);
      if(saved === 'light' || saved === 'dark'){
        applyTheme(saved);
      }else{
        const sysDark = matchMedia('(prefers-color-scheme:dark)').matches;
        applyTheme(sysDark ? 'dark' : 'light');
      }
    })();

    function updateAria(isDark = bodyEl.classList.contains('dark')){
      if(toggleEl) toggleEl.setAttribute('aria-pressed', String(isDark));
      if(statusEl) statusEl.textContent = isDark ? 'Dunkelmodus aktiv' : 'Hellmodus aktiv';
    }

    /* Klick: Theme toggeln + Pulse */
    document.addEventListener('click', (e)=>{
      const t = e.target.closest?.('.toggle');
      if(!t) return;
      const nowDark = !bodyEl.classList.contains('dark');
      applyTheme(nowDark ? 'dark' : 'light');
      localStorage.setItem(STORAGE_KEY, nowDark ? 'dark' : 'light');

      if(thumb){
        thumb.classList.remove('pulse'); void thumb.offsetWidth; thumb.classList.add('pulse');
      }
    });

    /* Systemwechsel nur anwenden, wenn kein User-Pref gesetzt ist */
    matchMedia('(prefers-color-scheme:dark)').addEventListener('change', (e)=>{
      if(localStorage.getItem(STORAGE_KEY)) return;
      applyTheme(e.matches ? 'dark' : 'light');
    });
  })();
</script>
<script></script>









<style>/* ab 768px: leicht nach unten */
@media (min-width: 768px) {
  .hero-image-foreground {
    transform: translateY(10%);              /* dein bisheriger Versatz */
  }
}
@media (min-width: 1400px) {
  .hero-image-foreground {
    transform: translateY(15%);              /* dein bisheriger Versatz */
  }
}
@media (min-width: 1800px) {
  .hero-image-foreground {
    transform: translateY(15%);              /* dein bisheriger Versatz */
  }
}
@media (min-width: 2200px) {
  .hero-image-foreground {
    transform: translateY(7%);              /* dein bisheriger Versatz */
  }
}

  html, body {
    margin: 0;
    padding: 0;
    overflow-x: hidden;
    width: 100%;
  }

  .hero-section {
    padding: 0;
    margin: 0;
    width: 100%;
  }

  .hero-images-wrapper {
    position: relative;
    width: 100%;      /* statt 100vw, verhindert Scrollbar-Lücke links */
    min-height: 100vh;
    height: 100vh;
    overflow: hidden; /* falls Kinder minimal überstehen */
  }

  .hero-image-background,
  .hero-image-foreground {
    position: absolute;
    inset: 0;         /* top/right/bottom/left = 0 */
    width: 100%;
    max-width: none;
  }


  /* Nur Handys: Hintergrund minimal „herauszoomen“ */
@media (max-width: 767px) {
  .hero-image-foreground {
    background-position: center bottom;
    background-repeat: no-repeat;
    background-attachment: scroll;
    margin: 0 !important;                  /* falls woanders Mobile-Margins gesetzt sind */
        transform: translateY(17%);              /* dein bisheriger Versatz */
  }
}


</style>

<body>


  <section class="hero-section">
    <div class="hero-images-wrapper">
      <div class="hero-image-background"></div>
      <div class="page-title">
        <div class="container">
          <h1 class="large-title">Fusion3</h1>
        </div>
      </div>
      <div class="hero-image-foreground"></div>
    </div>
  </section>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=6877d9380337379217c72f87" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="js/webflow.js" type="text/javascript"></script>
  <script src="https://cdn.prod.website-files.com/gsap/3.13.0/gsap.min.js" type="text/javascript"></script>
  <script src="https://cdn.prod.website-files.com/gsap/3.13.0/ScrollTrigger.min.js" type="text/javascript"></script>
  <script src="https://cdn.prod.website-files.com/gsap/3.13.0/SplitText.min.js" type="text/javascript"></script>















<!-- =========================================================
     SECTION: AURORA — Über Fusion3 (Copy bündig & ohne Hintergrund)
     Änderungen:
     - Subline veredelt (ohne blauen Balken)
     - Copy-Texte ohne separaten Hintergrund, links bündig wie Lead
     - Benefit-Line typografisch wie Lead
     - Breite/Struktur unverändert (minmax(430px), max-width:1600px)
========================================================== -->
<section id="aurora-sheet" class="aurora-sheet container" aria-labelledby="aurora-crown" aria-describedby="aurora-chant">
  <h2 id="aurora-crown" class="aurora-title">Über Fusion3</h2>

  <p id="aurora-chant" class="aurora-subtitle">
    Wir verbinden Design, 3D und Web – für Marken, die in Erinnerung bleiben.<br>
    Kreativität trifft Technologie. Wirkung trifft Tempo.
  </p>

  <!-- Semantische Liste der Bereiche -->
  <ul class="quasar-grid" role="list">
    <li>
      <article class="aether-card" id="aether-mission"
               aria-labelledby="aether-mission-h"
               aria-describedby="aether-mission-k aether-mission-b">
        <h3 id="aether-mission-h">Unsere Mission</h3>
        <p class="microtag" id="aether-mission-k">Design, Code & 3D als Einheit</p>

        <ul class="delta-list" role="list" aria-label="Was uns antreibt">
          <li>
            <span class="visually-hidden">Fokus: </span>
            <span class="lead">Balance</span>
            <span class="copy">Ästhetik stützt Funktion — jede Form hat einen Zweck, jeder Pixel eine Aufgabe.</span>
          </li>
          <li>
            <span class="visually-hidden">Fokus: </span>
            <span class="lead">Erlebnis</span>
            <span class="copy">Interaktionen sind selbsterklärend, flüssig und barrierearm — Freude statt Friktion.</span>
          </li>
          <li>
            <span class="visually-hidden">Fokus: </span>
            <span class="lead">Skalierung</span>
            <span class="copy">Systeme statt Einzelstücke — wiederverwendbar, erweiterbar, performant.</span>
          </li>
        </ul>

    </article>
    </li>

    <li>
      <article class="aether-card" id="aether-crew"
               aria-labelledby="aether-crew-h"
               aria-describedby="aether-crew-k aether-crew-b">
        <h3 id="aether-crew-h">Unser Team</h3>
        <p class="microtag" id="aether-crew-k">Interdisziplinär, kreativ & technisch stark</p>

        <ul class="delta-list" role="list" aria-label="Stärken unseres Teams">
          <li>
            <span class="visually-hidden">Teamstärke: </span>
            <span class="lead">Komplementär</span>
            <span class="copy">Designer, Entwickler & 3D-Artists denken als Produktteam — nicht in Silos.</span>
          </li>
          <li>
            <span class="visually-hidden">Teamstärke: </span>
            <span class="lead">Agil</span>
            <span class="copy">Kurze Feedback-Loops, klare Milestones, schnelle Entscheidungen.</span>
          </li>
          <li>
            <span class="visually-hidden">Teamstärke: </span>
            <span class="lead">Erfahren</span>
            <span class="copy">Brand, Web & Motion aus einer Hand — vom Proof bis zum Rollout.</span>
          </li>
        </ul>

     </article>
    </li>

    <li>
      <article class="aether-card" id="aether-vision"
               aria-labelledby="aether-vision-h"
               aria-describedby="aether-vision-k aether-vision-b">
        <h3 id="aether-vision-h">Unsere Vision</h3>
        <p class="microtag" id="aether-vision-k">Zukunftsorientiertes Design mit Wirkung</p>

        <ul class="delta-list" role="list" aria-label="Unsere Ziele und Visionen">
          <li>
            <span class="visually-hidden">Ziel: </span>
            <span class="lead">Emotion</span>
            <span class="copy">Visuals, die berühren — ohne die Bedienbarkeit zu kompromittieren.</span>
          </li>
          <li>
            <span class="visually-hidden">Ziel: </span>
            <span class="lead">Technologie</span>
            <span class="copy">Tools als Hebel — pragmatisch gewählt, sorgfältig integriert.</span>
          </li>
          <li>
            <span class="visually-hidden">Ziel: </span>
            <span class="lead">Nachhaltigkeit</span>
            <span class="copy">Ein konsistentes System statt Einmal-Effekt — langlebig in Form und Code.</span>
          </li>
        </ul>

     </article>
    </li>
  </ul>
</section>

<style>
/* ===== A11y Utility ===== */
.visually-hidden{
  position:absolute!important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden;
  clip:rect(0,0,0,0); white-space:nowrap; border:0;
}

/* ===== Tokens ===== */
:root{
  --space-0: 0;
  --space-1: clamp(.4rem, .3rem + .3vw, .6rem);
  --space-2: clamp(.6rem, .4rem + .5vw, .9rem);
  --space-3: clamp(1rem, .8rem + .8vw, 1.4rem);
  --space-4: clamp(1.6rem, 1.2rem + 1.2vw, 2.2rem);
  --space-5: clamp(2.4rem, 1.8rem + 1.6vw, 3.2rem);

  --radius-card: 16px;
  --focus-ring: 2px solid color-mix(in oklab, var(--primary, #6b7cff) 90%, #000 10%);
}

/* ===== Section ===== */
.aurora-sheet{
  background:#fff; color:#111; text-align:center;
  padding: 6rem 2rem;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
}

/* ===== Headline & Subline (mit !important) ===== */
.aurora-title{
  font-size: clamp(2rem, 1.6rem + 2.2vw, 3rem) !important;
  font-weight: 900 !important;
  letter-spacing: -0.02em !important;
  line-height: 1.12 !important;
  margin: .2rem 0 .6rem !important;
  color: #0b0c10 !important;
  text-wrap: balance !important;
}

/* Subline — ruhiger Card-Look (ohne blauen Balken) */
.aurora-subtitle{
  position: relative !important;
  color:#0f1729 !important;
  max-width: 62rem !important;
  margin: 0 auto 2.6rem !important;
  line-height: 1.78 !important;
  font-size: clamp(1.06rem, 1rem + .6vw, 1.22rem) !important;
  letter-spacing: .004em !important;
  text-wrap: pretty !important;
  padding: 1.1rem 1.2rem 1.1rem !important;
  border-radius: 14px !important;
  background: linear-gradient(180deg, rgba(15,23,41,.06), rgba(15,23,41,.03)) !important;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.7), 0 2px 8px rgba(0,0,0,.05) !important;
}

/* ===== Grid (MAXIMAL BREIT) ===== */
.quasar-grid{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(430px, 1fr));
  gap: calc(var(--space-4) + .4rem);
  justify-content:center;
  perspective:1000px;
  padding:0;
  list-style:none;
  max-width: 1600px;
  margin-inline: auto;
}

/* ===== Card ===== */
.aether-card{
  position:relative;
  overflow:hidden;
  border:1px solid #eee;
  border-radius: var(--radius-card);
  padding: clamp(1.4rem, 1rem + 1vw, 2rem);
  text-align:left;
  background: linear-gradient(135deg, #ffffff 0%, #ffffff 20%, #9e9e9e80 100%);
  background-size: 300% 300%;
  background-position: 0% 50%;
  color:#fff;
  box-shadow: 0 4px 16px rgba(0,0,0,.04);
  transition: transform .4s ease, box-shadow .4s ease;
  transform-style: preserve-3d;
  content-visibility: auto;
  contain-intrinsic-size: 420px 1px;
  scroll-margin-top: 80px;

  display: flex;
  flex-direction: column; /* Benefit bündig unten */
}

/* Farbvarianten per Position (Orange, Ink, Blau) */
.quasar-grid > li:nth-child(1) .aether-card{
  --g1:#ff5100; --g2:#ff7b00;
  background: linear-gradient(135deg, var(--g1), var(--g2), var(--g1));
  background-size: 300% 300%;
}
.quasar-grid > li:nth-child(2) .aether-card{
  --g1:#0d0d0d; --g2:#1c1f2f;
  background: linear-gradient(135deg, var(--g1), var(--g2), var(--g1));
  background-size: 300% 300%;
}
.quasar-grid > li:nth-child(3) .aether-card{
  --g1:#4b00ff; --g2:#3000a3;
  background: linear-gradient(135deg, var(--g1), var(--g2), var(--g1));
  background-size: 300% 300%;
}

/* Glow & Overlay */
.aether-card::before{
  content:"";
  position:absolute; top:-50%; left:-50%; width:200%; height:200%;
  background: radial-gradient(circle at center, rgba(255,255,255,.18), transparent 70%);
  transform: scale(.5);
  opacity:0; transition: all .6s ease;
  z-index:1; pointer-events:none;
}
.aether-card::after{
  content:"";
  position:absolute; inset:0; pointer-events:none; z-index:0;
  background: linear-gradient(to bottom, rgba(0,0,0,.10), rgba(0,0,0,.14));
}
.aether-card > *{ position:relative; z-index:2; }

/* Hover */
@media (hover:hover){
  .aether-card:hover{
    transform: translateY(-8px) scale(1.035);
    box-shadow: 0 30px 60px rgba(0,0,0,.35);
    background-position: 100% 50%;
  }
  .aether-card:hover::before{ transform: scale(1); opacity:.25; }
}

/* ===== Headings in Cards (mit !important) ===== */
.aether-card h3{
  font-size: clamp(1.3rem, 1.1rem + .9vw, 1.9rem) !important;
  font-weight: 800 !important;
  margin: .1rem 0 .5rem !important;
  color: #fff !important;
  letter-spacing: -.01em !important;
  text-shadow: 0 1px 2px rgba(0,0,0,.25) !important;
  text-wrap: balance !important;
}

/* ===== UX-Typo ===== */
.microtag{
  font-size: 1rem;
  color:#eef;
  opacity:.95;
  font-weight:650;
  margin: .2rem 0 1rem;
  text-shadow: 0 1px 2px rgba(0,0,0,.22);
}

/* Liste (Lead über Copy) */
.delta-list{
  list-style:none; padding:0; margin: var(--space-2) 0 var(--space-2);
  display:grid; gap:.7rem;
  max-width: 70ch;
}
.delta-list li{
  display:grid;
  grid-template-columns: 1fr;   /* Stacked */
  gap:.28rem;
  align-items:start;
  padding:.6rem 0 .8rem;
  border-top:1px solid rgba(255,255,255,.2);
}
.delta-list li:first-child{ border-top:none; }

/* Lead */
.delta-list .lead{
  display:block;
  color:#fff;
  font-weight:950;
  letter-spacing:-.01em;
  font-size: clamp(1.06rem, 1rem + .5vw, 1.22rem);
  line-height:1.28;
  text-wrap:balance;
}

/* Copy — ohne Hintergrund, links bündig wie Lead */
.delta-list .copy{
  display:block;
  margin-top:.2rem;
  padding:0;                     /* kein Chip-Look */
  background:none; border:none;  /* kein Hintergrund/Rahmen */
  color: rgba(255,255,255,.96);
  font-weight:690;
  letter-spacing:-.002em;
  font-size: clamp(1.02rem, .98rem + .35vw, 1.16rem);
  line-height:1.7;
  text-wrap:pretty;
  hyphens:auto;
  max-width: 62ch;
  text-shadow: 0 1px 2px rgba(0,0,0,.18);
}

/* Benefit wie Lead (abschließende Aussage) */
.benefit-line{
  margin-top: auto;
  font-size: clamp(1.06rem, 1rem + .5vw, 1.24rem);
  line-height: 1.32;
  color:#fff;
  font-weight:950;
  letter-spacing:-.01em;
  text-wrap:balance;
  text-shadow: 0 1px 2px rgba(0,0,0,.22);
  max-width: 62ch;
}

/* ===== Layout Tweaks ===== */
@media (min-width:1200px){
  .aurora-sheet{ padding: 8rem 3rem; }
  .aurora-sheet.container{ max-width: 1680px; margin: 0 auto; }
  .quasar-grid{ gap: calc(var(--space-4) + .6rem); }
}
@media (min-width:600px) and (max-width:1024px){
  .quasar-grid{ grid-template-columns: repeat(2, minmax(430px, 1fr)); }
  .quasar-grid > li:nth-child(3){ grid-column: 1 / -1; }
}
@media (max-width:768px){
  .aurora-sheet{ padding: 4rem 1rem; }
  .delta-list{ max-width: 100%; }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  .aether-card,
  .quasar-grid{ transition: none !important; animation: none !important; }
}

/* ===== Dark Mode (scoped) ===== */
:root[data-theme="dark"] #aurora-sheet.aurora-sheet,
:root[data-theme="auto"] #aurora-sheet.aurora-sheet{
  background:#000; color:#fff;
}

/* Sichtbarkeits-/Höhen-Fallbacks */
#aurora-sheet .aether-card{
  height: 100%;
  contain-intrinsic-size: 0 460px;
}

@supports (content-visibility:auto){
  /* 3 Spalten (>=1200px) → erste 3 Karten real rendern */
  @media (min-width: 1200px){
    #aurora-sheet .quasar-grid > li:nth-child(-n+3) .aether-card{
      content-visibility: visible;
      contain-intrinsic-size: auto;
    }
  }
  /* 2 Spalten (600–1199px) → erste 2 Karten real rendern */
  @media (min-width: 600px) and (max-width: 1199px){
    #aurora-sheet .quasar-grid > li:nth-child(-n+2) .aether-card{
      content-visibility: visible;
      contain-intrinsic-size: auto;
    }
  }
  /* 1 Spalte (<600px) → erste Karte real rendern */
  @media (max-width: 599px){
    #aurora-sheet .quasar-grid > li:nth-child(1) .aether-card{
      content-visibility: visible;
      contain-intrinsic-size: auto;
    }
  }
}
</style>


















  

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "ItemList",
  "name": "Zielgruppen & Leistungen",
  "itemListOrder": "http://schema.org/ItemListOrderAscending",
  "numberOfItems": 3,
  "inLanguage": "de",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "item": {
        "@type": "Service",
        "name": "Lösungen für Digital-Pioniere",
        "description": "MVP-Entwicklung, investorenfreundliches Branding und performance-orientierte Launches.",
        "url": "/loesungen/pioniere/"
      }
    },
    {
      "@type": "ListItem",
      "position": 2,
      "item": {
        "@type": "Service",
        "name": "Kooperationen mit Studios & Kreativteams",
        "description": "Web, Motion und 3D aus einer Hand – auf Wunsch White-Label.",
        "url": "/partner/studios/"
      }
    },
    {
      "@type": "ListItem",
      "position": 3,
      "item": {
        "@type": "Service",
        "name": "Lösungen für Produktteams & Marken",
        "description": "Interaktive Markenerlebnisse, skalierbare Systeme und Conversion-Fokus.",
        "url": "/loesungen/produktteams/"
      }
    }
  ]
}
</script>





















<style>
  :root {
    --primary: #ff6600;
    --text-main: #1c1c1e;
    --text-subtle: #555;
    --bg-card: #ffffff;
    --grain-url: url("https://grainy-gradients.vercel.app/noise.svg");
  }

  /* ===============================
     Cosmos Suite – Basis (Light)
     =============================== */
  .cosmos-suite {
    padding: 6rem 2rem;
    background: transparent;
    color: var(--text-main);
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    transition: background-color .25s ease, color .25s ease;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-feature-settings: "liga","calt","ss01";
  }

  .cosmos-suite h2 {
    font-size: clamp(2rem, 1.6rem + 2.2vw, 3rem);
    text-align: center;
    color: var(--text-main);
    font-weight: 900;
    letter-spacing: -0.02em;
    line-height: 1.12;
    text-wrap: balance;
    transition: color .25s ease;
    margin-bottom: 5rem;
  }

  .orbit-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 4rem;
    max-width: 1200px;
    margin: 0 auto;
  }

  .module-card {
    position: relative;
    background: linear-gradient(135deg, #ffffff 0%, #ffffff 20%, #9e9e9e80 100%);
    border-radius: 16px;
    padding: 2.5rem;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
    overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  }
  .module-card::before {
    content: "";
    position: absolute;
    inset: 0;
    background-image: var(--grain-url);
    opacity: 0.05;
    z-index: 1;
    pointer-events: none;
    transition: opacity 0.3s ease;
  }
  .module-card .payload { position: relative; z-index: 2; }

  .module-card h3{
    font-size: clamp(1.25rem, 1.1rem + 0.6vw, 1.7rem);
    margin-bottom: .6rem;
    font-weight: 800;
    color: var(--text-main);
    letter-spacing: -0.015em;
    line-height: 1.15;
    text-wrap: balance;
  }

  /* Listen – Grundstil */
  .module-card ul{
    list-style: none;
    padding: 0;
    margin: .25rem 0 0 0;
    color: color-mix(in oklab, currentColor 78%, transparent);
    font-size: clamp(.98rem, .92rem + .25vw, 1.06rem);
    line-height: 1.8;
    max-width: 62ch;
  }
  .module-card ul li { margin-bottom: .8rem; }

  .module-card { display: flex; flex-direction: column; }
  .module-card .payload { display: flex; flex-direction: column; flex-grow: 1; justify-content: space-between; }

  /* CTA (Originalstil beibehalten) */
  .warp-cta {
    display: inline-block;
    margin-top: 2rem;
    font-size: .95rem;
    font-weight: 600;
    letter-spacing: .01em;
    color: rgb(255, 255, 255);
    text-decoration: none;
    border: 1px solid rgb(255, 255, 255);
    background-color: hwb(0 87% 13% / 0);
    padding: 0.6rem 1.3rem;
    border-radius: 8px;
    transition: all 0.3s ease;
    align-self: flex-start;
    margin-bottom: 1rem;
  }
  .warp-cta:hover {
    background-color: hwb(0 0% 100% / 0.055);
    box-shadow: 0 0 0 2px rgb(255, 255, 255);
  }

  @media (max-width: 375px) {
    .orbit-grid { grid-template-columns: 1fr; gap: 2rem; }
    .module-card { padding: 2rem 1.2rem; border-radius: 16px; }
    .module-card h3 { font-size: 1.2rem; }
    .module-card ul { font-size: 0.95rem; }
    .warp-cta { display: block; width: 100%; text-align: center; font-size: 0.95rem; padding: 0.8rem 1rem; }
  }

  @media (max-width: 320px) {
    .module-card { padding: 1.5rem 1rem; }
    .warp-cta { font-size: 0.9rem; padding: 0.7rem 1rem; }
  }

  /* Ab 1152px anzeigen und zweifache Breite */
  @media (min-width: 1152px) {
    .orbit-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 2rem;
      align-items: stretch;
    }
    .module-card { display: block; }
    .cinema-card { display: block; grid-column: span 2; height: 100%; }
  }

  @media (min-width: 1300px) {
    .orbit-grid {
      max-width: 1300px;
      grid-template-columns: repeat(3, minmax(380px, 1fr));
      gap: 4rem;
      justify-content: center;
    }
  }

  @media (min-width: 1600px) {
    .cosmos-suite { padding: 6rem 2rem; }
    .cosmos-suite h2 { font-size: 3rem; margin-bottom: 5rem; }
    .orbit-grid {
      max-width: 1800px;
      grid-template-columns: repeat(3, minmax(460px, 1fr));
      gap: 4rem;
      justify-content: center;
    }
    .module-card { padding: 2.5rem; border-radius: 18px; }
    .module-card h3 { font-size: 1.6rem; margin-bottom: 1.2rem; }
    .module-card ul { font-size: 1.05rem; line-height: 1.75; }
    .module-card ul li { margin-bottom: 0.8rem; }
    .warp-cta { font-size: 1rem; padding: 0.7rem 1.4rem; border-radius: 8px; color: #ffffff;}
  }

  /* Individuelle Farben je Modul (Gradients + weißer Text) */
  .module-card:nth-child(1) {
    background: linear-gradient(270deg, #04006c, #6f00ff, #050088);
    background-size: 600% 600%;
    color: #fff;
  }
  .module-card:nth-child(2) {
    background: linear-gradient(135deg, #0d0d0d, #000e5c, #0d0d0d);
    background-size: 300% 300%;
    color: #fff;
  }
  .module-card:nth-child(3) {
    background: linear-gradient(135deg, #ff5100, hwb(340 0% 0%), #ff5100);
    background-size: 400% 400%;
    color: #fff;
  }
  .module-card:nth-child(4) {
    background: linear-gradient(135deg, #0d0d0d, #000e5c, #0d0d0d);
    background-size: 300% 300%;
    color: #fff;
  }

  /* Basisstil (zusammengeführt) */
  .module-card {
    position: relative;
    overflow: hidden;
    transition: transform 0.4s ease, box-shadow 0.4s ease;
    background-position: 0% 50%;
    will-change: transform, box-shadow, background-position;
    padding: 2.5rem;
    border-radius: 18px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }

  /* Glanz-Overlay */
  .module-card::before {
    content: "";
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle at center, rgba(255, 255, 255, 0.18), transparent 70%);
    transform: scale(0.5);
    opacity: 0;
    transition: all 0.6s ease;
    pointer-events: none;
    z-index: 1;
  }
  .module-card:hover::before { transform: scale(1); opacity: 0.25; }
  .module-card:hover {
    transform: translateY(-8px) scale(1.035);
    box-shadow: 0 30px 60px rgba(0, 0, 0, 0.4);
    animation: moduleGradientPulse 0.5s ease 1 forwards;
    background-position: 100% 50%;
    z-index: 10;
  }
  @keyframes moduleGradientPulse {
    0% { background-position: 0% 50%; }
    100% { background-position: 100% 50%; }
  }

  /* Textfarben dynamisch über inherit halten */
  .module-card .payload,
  .module-card h3,
  .module-card ul,
  .module-card ul li{
    position: relative;
    z-index: 2;
    color: inherit;
  }

  /* Titel-Optik (zweiter Block konsistent) */
  .module-card h3 {
    font-size: clamp(1.25rem, 1.1rem + 0.6vw, 1.7rem);
    margin-bottom: .6rem;
    font-weight: 800;
    letter-spacing: -0.015em;
  }

  /* Listen (zweiter Block konsistent) – Basis */
  .module-card ul { list-style: none; padding: 0; margin: .25rem 0 0 0; font-size: clamp(.98rem, .92rem + .25vw, 1.06rem); line-height: 1.8; }
  .module-card ul li { margin-bottom: 0.8rem; }

  @media (min-width: 1152px) {
    .module-card:nth-child(2) { grid-column: span 2; }
    .module-card:nth-child(3) { grid-column: span 2; }
  }

  .overlay-art { position: absolute; bottom: 0rem; right: 1rem; z-index: 3; }
  .overlay-art img { width: 480px; height: auto; opacity: 1; transition: opacity 0.3s ease; }
  .module-card:hover .overlay-art img { opacity: 1; }
  .module-card:nth-child(2) .overlay-art { bottom: -0.5rem; }
  .module-card:nth-child(3) .overlay-art { bottom: -2.3rem; }

  /* Planet/3D-Deko */
  .planet-sprite {
    position: absolute;
    bottom: -11.5rem;
    right: -8rem;
    width: 140px;
    height: auto;
    opacity: 0;
    transform: scale(1.25);
    pointer-events: none;
    z-index: 2;
    transform-origin: center;
    transition: opacity 0.6s ease, transform 0.6s ease;
  }
  .stellar-3d:hover .planet-sprite,
  .stellar-3d.clicked .planet-sprite { opacity: 1; animation: planetGrow 1.2s ease-out forwards; }
  @keyframes planetGrow { 0% { transform: scale(1.25); } 100% { transform: scale(1.32); } }

  .orbit-shell {
    position: absolute;
    bottom: 2.5rem;
    right: 4rem;
    width: 490px;
    height: 490px;
    z-index: 2;
    pointer-events: none;
    transform-origin: center;
  }
  .stellar-3d:hover .orbit-shell,
  .stellar-3d.clicked .orbit-shell { animation: planetRotate 16s ease-in-out infinite; }
  @keyframes planetRotate { 0% { transform: rotate(0deg); } 40% { transform: rotate(10deg); } 100% { transform: rotate(0deg); } }

  @media (max-width: 1151px) {
    .overlay-art img:not(.planet-sprite) { display: none !important; }
  }
  @media (max-width: 1299px) and (min-width: 1151px) {
    .module-card:nth-child(2) .overlay-art { right: -2rem; }
    .module-card:nth-child(3) .overlay-art { right: -2rem; }
  }
  @media (max-width: 1299px) {
    .orbit-shell, .planet-sprite { display: none !important; }
  }

  /* ===============================
     Dark Mode scoped NUR für #nebula-hub.cosmos-suite
     =============================== */
  :root[data-theme="dark"] #nebula-hub.cosmos-suite { background: #000; color: #fff; }
  :root[data-theme="dark"] #nebula-hub.cosmos-suite h2 { color: #fff; }

  /* Auto-Mode respektiert System-Dark */
  @media (prefers-color-scheme: dark) {
    :root[data-theme="auto"] #nebula-hub.cosmos-suite { background: #000; color: #fff; }
    :root[data-theme="auto"] #nebula-hub.cosmos-suite h2 { color: #fff; }
  }

  .cosmos-suite .subline{
    text-align:center;
    margin:-4rem 0 3rem;
    font-size:1.1rem;
    color:#666;
  }
  :root[data-theme="dark"] #nebula-hub.cosmos-suite .subline{ color:#bbb; }
  @media (prefers-color-scheme: dark){
    :root[data-theme="auto"] #nebula-hub.cosmos-suite .subline{ color:#bbb; }
  }
  .cosmos-suite.cluster{ max-width:1400px; margin:0 auto; }

  @media (max-width: 600px){
    .cosmos-suite{ padding:4rem 1rem; }
    .orbit-grid{
      grid-template-columns: 1fr;
      max-width: 640px;
      margin: 0 auto;
      gap: 2rem;
    }
    .module-card{ margin-inline:auto; }
  }
  :root[data-theme="dark"] #sectorscape .profile-tile{ border:1px solid rgba(255,255,255,.35); }
  @media (prefers-color-scheme: dark){
    :root[data-theme="auto"] #sectorscape .profile-tile{ border:1px solid rgba(255,255,255,.35); }
  }
  :root[data-theme="dark"] #nebula-hub .module-card{ border:1px solid rgba(255,255,255,.35); }
  @media (prefers-color-scheme: dark){
    :root[data-theme="auto"] #nebula-hub .module-card{ border:1px solid rgba(255,255,255,.35); }
  }

  .cosmos-suite h2{
    margin-bottom: .8rem;
    font-weight: 900;
    letter-spacing: -0.02em;
  }

  /* Subline – Typo veredelt */
  #nebula-hub .subline{
    font-size: clamp(1.06rem, 1rem + .6vw, 1.22rem);
    line-height: 1.78;
    letter-spacing: .004em;
    color: #666;
    margin-bottom: 4rem;
    text-align: center;
    text-wrap: pretty;
  }

  :root[data-theme="dark"] #nebula-hub .subline,
  :root[data-theme="dark"] #nebula-hub h2{ color:#fff; }

  @media (prefers-color-scheme: dark){
    :root[data-theme="auto"] #nebula-hub .subline,
    :root[data-theme="auto"] #nebula-hub h2{ color:#fff; }
  }

  /* Astronaut sicher über dem Planeten */
  .overlay-art { position: absolute; bottom: 0rem; right: 1rem; z-index: 3; }
  .overlay-art .astronaut-sprite{ position: relative; z-index: 4; display: block; }
  .orbit-shell{ z-index: 2; }
  .planet-sprite{ z-index: 2; }

  @media (min-width: 375px) and (max-width: 600px) {
    .module-card {
      width: 90%;
      margin-inline: auto;
      padding: 2rem 1.2rem;
      border-radius: 16px;
    }
    .module-card h3 { font-size: 1.4rem; }
    .module-card ul { font-size: 1rem; line-height: 1.7; }
    .warp-cta {
      display: block;
      width: 100%;
      text-align: center;
      font-size: 0.95rem;
      padding: 0.8rem 1rem;
    }
  }

  #nebula-hub .orbit-grid{ perspective:1000px }
  #nebula-hub .module-card{ transform-style: flat; backface-visibility: visible; }
  @media (hover:hover){
    #nebula-hub .module-card:hover{
      transform: translateY(-6px);
      box-shadow: 0 18px 46px rgba(0,0,0,.22);
    }
  }
  @media (prefers-reduced-motion: reduce){
    #nebula-hub .module-card, #nebula-hub .orbit-grid{ transition: none !important; animation: none !important }
  }

  #nebula-hub .overlay-art{
    background: transparent !important;
    inset: auto !important;
    bottom: 0rem !important;
    right: 1rem !important;
    left: auto !important;
    top: auto !important;
    z-index: 3;
  }
  #nebula-hub .overlay-art img{ width:480px; height:auto; }

  #nebula-hub .module-card{
    font-feature-settings: "liga","calt","ss01";
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  #nebula-hub .module-card h3{
    font-size: clamp(1.25rem, 1.1rem + 0.6vw, 1.7rem);
    letter-spacing: -0.015em;
    line-height: 1.15;
    margin-bottom: .4rem;
    color: inherit;
  }

  /* ===== Aurora-typography alignment for Cosmos Suite ===== */
  .cosmos-suite .headline{
    font-size: clamp(2rem, 1.6rem + 2.2vw, 3rem) !important;
    font-weight: 900 !important;
    letter-spacing: -0.02em !important;
    line-height: 1.12 !important;
    margin: .2rem 0 .6rem !important;
    color: #0b0c10 !important;
    text-wrap: balance !important;
  }
  .cosmos-suite .subline{
    position: relative !important;
    color:#0f1729 !important;
    max-width: 62rem !important;
    margin: 0 auto 2.6rem !important;
    line-height: 1.78 !important;
    font-size: clamp(1.06rem, 1rem + .6vw, 1.22rem) !important;
    letter-spacing: .004em !important;
    text-wrap: pretty !important;
    padding: 1.1rem 1.2rem 1.1rem !important;
    border-radius: 14px !important;
    background: linear-gradient(180deg, rgba(15,23,41,.06), rgba(15,23,41,.03)) !important;
    box-shadow: inset 0 1px 0 rgba(255,255,255,.7), 0 2px 8px rgba(0,0,0,.05) !important;
  }
  /* Card headings + copy like Aurora cards */
  #nebula-hub .module-card ul{
    margin-top: .25rem;
    font-size: clamp(1.02rem, .98rem + .35vw, 1.16rem) !important;
    line-height: 1.7 !important;
    color: color-mix(in oklab, currentColor 92%, transparent) !important;
    text-wrap: pretty;
  }
  #nebula-hub .module-card ul li{
    position: relative;
    display: block;
    margin: 0;
    padding: .7rem 0 .9rem !important;  /* Copy-Spacing */
    background: none;
    border: 0;
    color: rgba(255,255,255,.96) !important;
    font-weight: 690 !important;
    letter-spacing: -.002em !important;
    font-size: clamp(1.02rem, .98rem + .35vw, 1.16rem) !important;
    line-height: 1.7 !important;
    text-wrap: pretty !important;
    hyphens: auto !important;
    max-width: 62ch !important;
    text-shadow: 0 1px 2px rgba(0,0,0,.18) !important;
  }
  /* Divider wie Aurora */
  #nebula-hub .module-card ul li + li{
    border-top: 1px solid rgba(255,255,255,.22) !important;
    position: relative;
  }
  #nebula-hub .module-card ul li + li::after{
    content: "";
    position: absolute;
    left: 0;
    right: clamp(160px, 24vw, 360px);
    top: -1px;
    height: 1px;
    background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,.55) 35%, rgba(255,255,255,.18) 65%, transparent 100%);
    opacity: .8;
    pointer-events: none;
  }

  /* ——— Video-Card: füllt die komplette Karte ——— */
  #nebula-hub .module-card.cinema-card{ padding: 0; min-height: 280px; display: block; }
  #nebula-hub .module-card.cinema-card::before{ display:none; }
  #nebula-hub .module-card.cinema-card video{
    position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; object-position: center;
  }

  @media (min-width: 1152px){
    #nebula-hub .orbit-grid > .module-card:nth-child(4){ grid-column: 3 / span 1 !important; }
    #nebula-hub .orbit-grid{ grid-auto-flow: row dense; }
  }
  @media (max-width: 1599px) {
    #nebula-hub .module-card:nth-child(3) .overlay-art { right: -4rem !important; bottom: -3rem !important; }
  }
  @media (min-width: 1600px) {
    #nebula-hub .module-card:nth-child(3) .overlay-art { right: -1rem !important; bottom: -2.5rem !important; }
  }
  /* ===============================
   h3 wie Aurora .aether-card h3
   =============================== */
#nebula-hub .module-card h3 {
  font-size: clamp(1.3rem, 1.1rem + .9vw, 1.9rem) !important;
  font-weight: 800 !important;
  margin: .1rem 0 .5rem !important;
  color: #fff !important;
  letter-spacing: -0.01em !important;
  text-shadow: 0 1px 2px rgba(0,0,0,.25) !important;
  line-height: 1.2 !important;
  text-wrap: balance !important;
}
/* ============== HARD NORMALIZE: identischer Start aller Listen ============== */
#nebula-hub .module-card .payload > h3{
  /* fester Abstand unter H3 – überall gleich */
  margin: .1rem 0 .6rem !important;
  line-height: 1.2 !important;
}

/* Liste bekommt den Start-Offset – kein margin, nur padding */
#nebula-hub .module-card .payload > ul{
  margin: 0 !important;
  padding: .7rem 0 0 0 !important;  /* Startabstand definiert */
  list-style: none !important;
}

/* Copy-Style für alle LI + konsistente Innenabstände */
#nebula-hub .module-card .payload > ul > li{
  margin: 0 !important;
  padding: .7rem 0 .9rem !important; /* Top/Bottom identisch in allen Karten */
  display: block !important;
  position: relative;

  /* Typo wie Aurora .copy */
  color: rgba(255,255,255,.96) !important;
  font-weight: 690 !important;
  letter-spacing: -.002em !important;
  font-size: clamp(1.02rem, .98rem + .35vw, 1.16rem) !important;
  line-height: 1.7 !important;
  text-wrap: pretty !important;
  hyphens: auto !important;
  max-width: 62ch !important;
  text-shadow: 0 1px 2px rgba(0,0,0,.18) !important;

  /* keine Restbullets/Indents */
  background: none !important;
  border: 0 !important;
}

/* Divider ab dem 2. LI */
#nebula-hub .module-card .payload > ul > li + li{
  border-top: 1px solid rgba(255,255,255,.22) !important;
}
#nebula-hub .module-card .payload > ul > li + li::after{
  content: "";
  position: absolute;
  left: 0;
  right: clamp(160px, 24vw, 360px);
  top: -1px;
  height: 1px;
  background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,.55) 35%, rgba(255,255,255,.18) 65%, transparent 100%);
  opacity: .8;
  pointer-events: none;
}

/* SAFETY: Falls irgendwo ein extra margin im UL steckt (alte Regeln) */
#nebula-hub .module-card ul{ margin: 0 !important; }
/* ===== FINAL LOCK: Einheitlicher Listenstart in allen Cards ===== */
#nebula-hub { 
  --list-start: .7rem;      /* Abstand von h3 zur Liste */
  --li-pt: .7rem;           /* Top-Padding je LI */
  --li-pb: .9rem;           /* Bottom-Padding je LI */
}

/* H3 unten überall gleich – letzte Instanz gewinnt */
#nebula-hub .module-card .payload > h3 {
  margin: .1rem 0 .6rem !important;
  line-height: 1.2 !important;
}

/* Liste: niemals margin, nur definierter Start via padding */
#nebula-hub .module-card .payload > ul {
  margin: 0 !important;
  padding: var(--list-start) 0 0 0 !important;
  list-style: none !important;
  display: block !important;
  box-sizing: border-box !important;
}

/* LI: deterministische Innenabstände + Copy-Typo */
#nebula-hub .module-card .payload > ul > li {
  margin: 0 !important;
  padding: var(--li-pt) 0 var(--li-pb) !important;
  display: block !important;
  position: relative;

  color: rgba(255,255,255,.96) !important;
  font-weight: 690 !important;
  letter-spacing: -.002em !important;
  font-size: clamp(1.02rem, .98rem + .35vw, 1.16rem) !important;
  line-height: 1.7 !important;
  text-wrap: pretty !important;
  hyphens: auto !important;
  max-width: 62ch !important;
  text-shadow: 0 1px 2px rgba(0,0,0,.18) !important;

  background: none !important;
  border: 0 !important;
  box-sizing: border-box !important;
}

/* Divider ab dem 2. LI – bleibt gleich */
#nebula-hub .module-card .payload > ul > li + li {
  border-top: 1px solid rgba(255,255,255,.22) !important;
}
#nebula-hub .module-card .payload > ul > li + li::after {
  content: "";
  position: absolute;
  left: 0;
  right: clamp(160px, 24vw, 360px);
  top: -1px;
  height: 1px;
  background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,.55) 35%, rgba(255,255,255,.18) 65%, transparent 100%);
  opacity: .8;
  pointer-events: none;
}

/* WICHTIG: alle älteren UL-Top-Margins in der Sektion neutralisieren */
#nebula-hub :is(.module-card) :is(ul){
  margin-top: 0 !important;
}

</style>

<section class="cluster cosmos-suite" id="nebula-hub">
  <h2 class="headline">Unsere Leistungen</h2>
  <p class="subline">Von Web bis 3D – alles aus einer Hand, schnell & wirkungsvoll.</p>

  <div class="orbit-grid">

    <!-- Webdesign -->
    <div class="module-card">
      <div class="payload">
        <h3>Webdesign</h3>
        <ul>
          <li>Responsive & performanceoptimierte Websites</li>
          <li>Visuell ansprechende User Interfaces</li>
          <li>Moderne Animationen & Microinteractions</li>
          <li>CMS-Integration & SEO Ready</li>
        </ul>
        <a href="./WebDesign.html" class="warp-cta">Mehr erfahren</a>
      </div>
    </div>

    <!-- 3D Design -->
    <div class="module-card stellar-3d" onclick="togglePlanet(this)">
      <div class="payload">
        <h3>3D Design</h3>
        <ul>
          <li>Fotorealistische 3D-Visualisierungen</li>
          <li>Produkt & Architektur-Renderings</li>
          <li>VR/AR-kompatible Modelle</li>
          <li>Optimiert für Web & Druck</li>
        </ul>

        <div class="overlay-art">
          <div class="orbit-shell">
            <img class="planet-sprite" loading="lazy" src="./indexFotoSlideShow/planet.webp" alt="Planet" />
          </div>
          <img class="lazy-comet astronaut-sprite" data-src="./indexFotoSlideShow/2.webp" alt="3D Icon / Astronaut" />
        </div>

        <a href="./3DDesign.html" class="warp-cta">Mehr erfahren</a>
      </div>
    </div>

    <!-- Grafikdesign -->
    <div class="module-card">
      <div class="payload">
        <h3>Grafikdesign</h3>
        <ul>
          <li>Corporate Design & Markenauftritt</li>
          <li>Professionelles Logo-Design</li>
          <li>Druck- & Digitalmedien</li>
          <li>Infografiken & visuelle Systeme</li>
        </ul>
        <div class="overlay-art">
          <img class="lazy-comet" data-src="./indexFotoSlideShow/astro sitzend.webp" alt="3D Icon" />
        </div>

        <a href="./Grafikdesign.html" class="warp-cta">Mehr erfahren</a>
      </div>
    </div>

    <!-- Social Media (Video) -->
    <div class="module-card cinema-card">
      <video
        autoplay
        muted
        loop
        playsinline
        preload="auto"
        poster="./indexFotoSlideShow/social-poster.jpg"
        aria-label="Showreel Social Media"
      >
        <source src="./videos/social-showreel.webm" type="video/webm" />
        <source src="./indexFotoSlideShow/kartenvideo.mp4"  type="video/mp4" />
        Dein Browser unterstützt das Video-Tag nicht.
      </video>
    </div>

  </div>
</section>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const lazyImages = document.querySelectorAll("img.lazy-comet");

    const observer = new IntersectionObserver((entries, obs) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const img = entry.target;
          img.src = img.dataset.src;
          img.classList.remove("lazy-comet");
          obs.unobserve(img);
        }
      });
    }, {
      rootMargin: "100px 0px",
      threshold: 0.01
    });

    lazyImages.forEach(img => observer.observe(img));
  });

  function togglePlanet(card){ card.classList.toggle('clicked'); }
</script>








  











<style>
  /* === Basis-Struktur === */
  .pane-transition{
    position:relative;
    background:none;
    display:flex;
    align-items:center;
    justify-content:center;
    flex-direction:column;
    overflow:visible;
    color:#111;
    font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif
  }
  .pane-world{
    position:relative;
    padding-top:6rem;
    height:auto;
    clip-path:none;
    display:flex;
    align-items:center;
    justify-content:center;
    flex-direction:column;
    background:linear-gradient(0deg,#ffffff,#ffffff);
    opacity:1;
    pointer-events:all;
    width:100vw;
    transition:background-color .25s ease,color .25s ease;
    z-index:15
  }
  .pane-wrap{
    text-align:center;
    max-width:90vw;
    padding:2rem 1rem
  }

  /* ===== Headline & Subline im Aurora-Stil ===== */
  .pane-wrap .pane-title{
    margin: .2rem 0 .6rem;
    text-align:center;
    width:100%;
    display:block;
    font-weight:900;
    letter-spacing:-.02em;
    color:inherit;
    font-size: clamp(2rem, 1.6rem + 2.2vw, 3rem);
    line-height: 1.12;
    text-wrap: balance;
  }
  .pane-wrap .pane-subtitle{
    position: relative;
    color:#0f1729;
    max-width: 62rem;
    margin: 0 auto 2.6rem;
    line-height: 1.78;
    font-size: clamp(1.06rem, 1rem + .6vw, 1.22rem);
    letter-spacing: .004em;
    text-wrap: pretty;
    padding: 1.1rem 1.2rem 1.1rem;
    border-radius: 14px;
    background: linear-gradient(180deg, rgba(15,23,41,.06), rgba(15,23,41,.03));
    box-shadow: inset 0 1px 0 rgba(255,255,255,.7), 0 2px 8px rgba(0,0,0,.05);
  }
  :root[data-theme="dark"] .pane-wrap .pane-subtitle{
    color:#fff;
    background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
    box-shadow: inset 0 1px 0 rgba(255,255,255,.18), 0 2px 8px rgba(0,0,0,.35);
  }

  /* === Karten-Layout === */
  .flow-rail{
    display:flex;
    gap:1rem;
    justify-content:stretch;
    align-items:stretch;
    z-index:15
  }
  .flow-card{
    position:relative;
    border-radius:20px;
    border:1px solid rgba(70,70,70,.15);
    padding:2rem 1.6rem;
    box-shadow:0 0 0 rgba(0,0,0,0);
    overflow:hidden;
    cursor:pointer;
    --dur:0s;
    height:var(--tile-h,auto);
  }
  .flow-card.is-growing{ --dur:8s; }
  .flow-card.is-open{ flex:1 1 auto }
  .card-core{ position:relative;z-index:2;text-align:left;display:flex;flex-direction:column;gap:.75rem;min-width:280px;height:100% }

  /* h3 – wie Aurora .aether-card h3 */
  .flow-card h3{
    font-size: clamp(1.3rem, 1.1rem + .9vw, 1.9rem);
    color:#fff;
    font-weight:800;
    margin:.1rem 0 .5rem;
    line-height:1.2;
    letter-spacing:-.01em;
    text-shadow:0 1px 2px rgba(0,0,0,.25);
    text-wrap: balance;
  }

  /* p – wie Aurora .copy */
  .flow-card p{
    color: rgba(255,255,255,.96);
    font-weight: 690;
    letter-spacing: -.002em;
    font-size: clamp(1.02rem, .98rem + .35vw, 1.16rem);
    line-height: 1.7;
    text-wrap: pretty;
    hyphens: auto;
    max-width: 62ch;
    text-shadow: 0 1px 2px rgba(0,0,0,.18);
    margin: 0;                 /* saubere vertikale Rhythmik */
  }
  .flow-card .details p{ margin-top:.35rem; }

  .card-num{ font-size:2rem;font-weight:900;display:block;margin-bottom:.6rem;color:#fff }

  /* === große Zahl === */
  .card-num-giant{
    position:absolute;right:.6rem;bottom:.6rem;
    font-weight:900;letter-spacing:-.03em;line-height:1;
    font-size:clamp(3rem,14vh,9rem);
    color:rgba(255,255,255,.18);
    pointer-events:none;z-index:1;white-space:nowrap;text-align:right;
    transform:rotate(-90deg);
    transform-origin:bottom right;
    transition:opacity .35s ease,transform .35s ease;
    mix-blend-mode:soft-light;
  }

  /* === Gradients === */
  .flow-rail .flow-card:nth-child(1){ background:linear-gradient(270deg,#04006c,#6f00ff,#050088);background-size:600% 600%;color:#fff }
  .flow-rail .flow-card:nth-child(2){ background:linear-gradient(135deg,#0d0d0d,#000e5c,#0d0d0d);background-size:300% 300%;color:#fff }
  .flow-rail .flow-card:nth-child(3){ background:linear-gradient(135deg,#ff5100,hwb(340 0% 0%),#ff5100);background-size:400% 400%;color:#fff }
  .flow-rail .flow-card:nth-child(4){ background:linear-gradient(135deg,#0d0d0d,#000,#0d0d0d);background-size:300% 300%;color:#fff }

  .flow-card[role="button"]:focus-visible{ outline:3px solid rgba(255,255,255,.6);outline-offset:4px }
  :root[data-theme="light"] .flow-card[role="button"]:focus-visible{ outline:3px solid rgba(0,0,0,.35) }

  /* === JS-Modus – Karten kompakt / Expand-Logik === */
  #flowhub.is-enhanced .flow-card{ flex:0 0 clamp(120px,14vw,200px);transition:flex var(--dur) ease }
  #flowhub.is-enhanced .flow-card.is-open{ flex:1 1 auto }

  #flowhub.is-enhanced .flow-card:not(.is-open) .card-num,
  #flowhub.is-enhanced .flow-card:not(.is-open) h3,
  #flowhub.is-enhanced .flow-card:not(.is-open) p,
  #flowhub.is-enhanced .flow-card:not(.is-open) .details{
    height:0;opacity:0;overflow:hidden;visibility:hidden
  }
  #flowhub.is-enhanced .flow-card.is-open .card-num,
  #flowhub.is-enhanced .flow-card.is-open h3,
  #flowhub.is-enhanced .flow-card.is-open p,
  #flowhub.is-enhanced .flow-card.is-open .details{
    height:auto;opacity:1;visibility:visible;transition:opacity .35s ease .1s
  }

  /* große Zahl */
  #flowhub.is-enhanced .flow-card::after{
    content:attr(data-stage);
    position:absolute;right:1rem;bottom:10rem;
    transform:rotate(-90deg);
    transform-origin:bottom right;
    font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,"Roboto Mono",monospace;
    font-weight:900;
    font-size:clamp(3rem,12vh,8rem);
    line-height:1;
    color:rgba(255,255,255,.4);
    white-space:nowrap;
    pointer-events:none;
    z-index:3;
    opacity:1;
    transition:opacity .25s ease;
  }
  #flowhub.is-enhanced .flow-card.is-open::after{ opacity:0 }

  /* === Fallback ohne JS (kein Kästchen-Effekt) === */
  #flowhub:not(.is-enhanced) .flow-card{
    flex:1 1 320px !important;
    height:auto !important;
    --tile-h:auto !important;
    transition:none !important;
  }
  #flowhub:not(.is-enhanced) .flow-card .card-core{
    clip-path:none !important;
    min-width:0;
  }
  #flowhub:not(.is-enhanced) .flow-card .card-num,
  #flowhub:not(.is-enhanced) .flow-card h3,
  #flowhub:not(.is-enhanced) .flow-card p,
  #flowhub:not(.is-enhanced) .flow-card .details{
    height:auto !important;
    opacity:1 !important;
    visibility:visible !important;
    overflow:visible !important;
  }
  #flowhub:not(.is-enhanced) .flow-card::after{ display:none !important }

  /* === Responsive === */
  @media (max-width:900px){
    .flow-rail{ display:grid;grid-template-columns:1fr;gap:1rem }
    .flow-card{ flex:unset;height:auto !important }
  }
</style>

<section class="pane-transition" id="flowhub">
  <div class="pane-world is-visible" id="paneWorld">
    <div class="pane-wrap">
      <h2 class="pane-title">So läuft ein Projekt mit Fusion³</h2>
      <p class="pane-subtitle">Transparenter Ablauf von Kick-off bis Launch – schnell, klar, partnerschaftlich.</p>

      <div class="flow-rail">
        <div class="flow-card has-art" data-stage="00" role="button" tabindex="0" aria-expanded="false">
          <span class="card-num-giant" aria-hidden="true">00</span>
          <div class="card-core">
            <span class="card-num">00</span>
            <h3>Unser Ansatz:</h3>
            <p>Sobald Sie sich für eine Zusammenarbeit mit Fusion³ entscheiden, startet unser strukturiertes Onboarding. Wir beginnen mit einem ausführlichen Erstgespräch, in dem wir alle Rahmenbedingungen, Ziele und individuellen Wünsche besprechen.</p>
            <div class="details">
              <p>Von der Konzeption bis zur finalen Abstimmung beziehen wir Sie aktiv ein, damit das Ergebnis Erwartungen nicht nur erfüllt, sondern übertrifft.</p>
            </div>
          </div>
        </div>

        <div class="flow-card" data-stage="01" role="button" tabindex="0" aria-expanded="false">
          <span class="card-num-giant" aria-hidden="true">01</span>
          <div class="card-core">
            <span class="card-num">01</span>
            <h3>Erstgespräch: <br>Der Grundstein für Ihren Erfolg</h3>
            <p>Wir hören zu, klären Ziele, Zielgruppen und gewünschte Wirkungen und legen so gemeinsam den Grundstein.</p>
            <div class="details">
              <p>Auf Wunsch leiten wir konkrete nächste Schritte und einen realistischen Zeitplan ab.</p>
            </div>
          </div>
        </div>

        <div class="flow-card" data-stage="02" role="button" tabindex="0" aria-expanded="false">
          <span class="card-num-giant" aria-hidden="true">02</span>
          <div class="card-core">
            <span class="card-num">02</span>
            <h3>Konzeption & Design: <br>Kreativität trifft Strategie</h3>
            <p>Aus dem Briefing entsteht ein Konzept, das zu Ihrer Marke passt: Wireframes, Styleframes und Interaktionsideen.</p>
            <div class="details">
              <p>Iterativ verfeinern wir Look &amp; Feel, bis Story, Usability und Performance stimmen.</p>
            </div>
          </div>
        </div>

        <div class="flow-card" data-stage="03" role="button" tabindex="0" aria-expanded="false">
          <span class="card-num-giant" aria-hidden="true">03</span>
          <div class="card-core">
            <span class="card-num">03</span>
            <h3>Feedback &amp; Feinschliff: <br>Gemeinsam zur Perfektion</h3>
            <p>Ihre Meinung zählt. In Feedbackschleifen gleichen wir Erwartungen ab, optimieren Details und sichern Performance.</p>
            <div class="details">
              <p>Abschluss mit Übergabe, Doku und Wunsch-Roadmap für spätere Ausbaustufen.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- GSAP bleibt wie bei dir integriert -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
<script>
  gsap.registerPlugin(ScrollTrigger);

  const cardsList = Array.from(document.querySelectorAll('#flowhub .flow-card'));
  const tlIntro = gsap.timeline({
    scrollTrigger: {
      trigger:'#flowhub',
      start:'top 80%',
      toggleActions:'play none none reverse'
    }
  });

  let hasNudgeFired = false;
  let nudgeTl = null;
  const isNarrow = () => window.matchMedia('(max-width: 900px)').matches;

  function stopNudge() {
    if (nudgeTl) {
      nudgeTl.kill();
      nudgeTl = null;
    }
    if (cardsList[1]) gsap.set(cardsList[1], { y: 0 });
  }

  function makeNudge(target) {
    const tl = gsap.timeline();
    tl.to(target, { y: -12, duration: 0.18, ease: 'power1.out' })
      .to(target, { y: 0, duration: 0.22, ease: 'bounce.out' })
      .to(target, { y: -8, duration: 0.16, ease: 'power1.out' }, '+=0.18')
      .to(target, { y: 0, duration: 0.20, ease: 'bounce.out' });
    return tl;
  }

  function nudgeCard() {
    if (hasNudgeFired || isNarrow() || !cardsList[1]) return;
    hasNudgeFired = true;
    const second = cardsList[1];
    nudgeTl = gsap.timeline({ defaults:{ clearProps:false }});
    nudgeTl
      .add(makeNudge(second))
      .to(second, { y: 0, duration: 0.8 })
      .add(makeNudge(second))
      .to(second, { y: 0, duration: 0.8 })
      .add(makeNudge(second));
  }

  cardsList.forEach((card, i) => {
    const tween = tlIntro.fromTo(
      card,
      { opacity: 0, y: 60 },
      { opacity: 1, y: 0, duration: 1.6, ease: 'power3.out' },
      i * 0.18
    );
    if (i === 1) tween.eventCallback('onComplete', nudgeCard);
  });

  (function(){
    const rail = document.querySelector('#flowhub .flow-rail');
    if(!rail) return;
    const cards = Array.from(rail.querySelectorAll('.flow-card'));
    const rootEl = document.documentElement;
    let autoId=null,selectedIdx=-1,railInView=false,booted=false;
    const mqNarrow=window.matchMedia('(max-width:900px)');
    let alwaysOpen=mqNarrow.matches;

    function syncHeightFromFirst(){
      const first=cards[0],wasOpen=first.classList.contains('is-open');
      if(!wasOpen) first.classList.add('is-open');
      const h=first.getBoundingClientRect().height;
      rootEl.style.setProperty('--tile-h',h+'px');
      if(!wasOpen) first.classList.remove('is-open');
    }

    function openAt(idx){
      if(alwaysOpen)return;
      if(idx<0||idx>=cards.length)return;
      selectedIdx=idx;
      stopNudge();
      cards.forEach((c,i)=>{
        const open=i===idx;
        c.classList.toggle('is-open',open);
        c.setAttribute('aria-expanded',open?'true':'false');
      });
      if(idx===0)syncHeightFromFirst();
    }

    function clearAutoCycle(){ clearTimeout(autoId);autoId=null; }
    function planNext(delayMs=20000){
      if(alwaysOpen)return;
      clearAutoCycle();
      if(!railInView)return;
      autoId=setTimeout(()=>{
        if(!railInView)return;
        const next=(selectedIdx+1)%cards.length;
        openAt(next);
        planNext(20000);
      },delayMs);
    }

    cards.forEach((c,i)=>{
      c.addEventListener('click',()=>{if(alwaysOpen)return;stopNudge();openAt(i);planNext(20000);});
      c.addEventListener('keydown',e=>{
        if(alwaysOpen)return;
        if(e.key==='Enter'||e.key===' '){e.preventDefault();stopNudge();openAt(i);planNext(20000);}
      });
    });

    const io=new IntersectionObserver((entries)=>{
      const entry=entries[0];
      railInView=entry.isIntersecting&&entry.intersectionRatio>=0.5;
      if(alwaysOpen)return;
      if(railInView){
        if(!booted){booted=true;openAt(0);planNext(20000);}else{planNext(20000);}
      }else clearAutoCycle();
    },{threshold:[0,0.5,1]});
    io.observe(rail);

    function applyMode(){
      alwaysOpen=mqNarrow.matches;
      if(alwaysOpen){
        clearAutoCycle();
        cards.forEach(c=>{c.classList.add('is-open');c.setAttribute('aria-expanded','true');});
        rootEl.style.setProperty('--tile-h','auto');
        stopNudge();
      }else{
        cards.forEach(c=>{c.classList.remove('is-open');c.setAttribute('aria-expanded','false');});
        if(railInView){openAt(Math.max(0,selectedIdx));planNext(20000);}
      }
    }

    mqNarrow.addEventListener('change',applyMode);
    applyMode();
  })();

  // === JS aktiviert: Kästchen-Mode einschalten ===
  (function(){
    const root = document.getElementById('flowhub');
    if(!root) return;
    requestAnimationFrame(()=>root.classList.add('is-enhanced'));
  })();
</script>


















  <section class="cta-modern">
   <style>
  /* ===============================
     CTA Modern – Basis (Light)
     =============================== */
  .cta-modern {
    position: relative;
    padding: 7rem 1.5rem;
    background: linear-gradient(180deg, #ffffff, #ffffff);
    color: #000000; /* wie 'branchen': dunkler Text auf hellem BG */
    overflow: hidden;
    text-align: center;
    z-index: 1;
    transition: background-color .25s ease, color .25s ease;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  }

  .cta-modern::before {
    content: '';
    position: absolute;
    top: -100px;
    left: 50%;
    transform: translateX(-50%);
    width: 1800px;
    max-width: 100vw;
    height: 1800px;
    z-index: 0;
    pointer-events: none;
    animation: glowShift 12s ease-in-out infinite alternate;
  }

  .cta-headline {
    font-size: clamp(1.8rem, 4.5vw, 3rem);
    font-weight: 900; /* wie 'branchen' */
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    color: currentColor;
    margin-bottom: 1rem;
    line-height: 1.25;
    letter-spacing: -0.02em;
    position: relative;
    z-index: 2;
    animation: fadeUp 1s ease-out both;
    transition: color .25s ease;
  }

.cta-small {
  font-size: 0.6em;
  font-weight: 600;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  display: inline-block;
  margin-right: 0.3em;
  background: none;
  background-clip: initial;
  -webkit-background-clip: initial;
  -webkit-text-fill-color: initial;
  color: #000; /* Standard: schwarz im Light Mode */
  transition: color .25s ease;
}
  .cta-headline span {
    font-family: 'VT323', monospace;
    font-size: 1.3em;
    line-height: 1;
    display: inline-block;
    background: linear-gradient(220deg,
      hwb(219 17% 0%) 0%,
      hwb(219 18% 0%) 40%,
      #e1e2ff 46%,
      hwb(34 27% 0%) 52%,
      hwb(29 0% 0%) 100%);
    background-size: 400% 400%;
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: gradientShift 16s ease-in-out infinite;
  }

/* ===============================
   CTA-Text – Aurora Compact Edition
   =============================== */
.cta-text {
  /* Typografie */
  font-weight: 920;
  font-size: clamp(1.1rem, 1rem + .5vw, 1.26rem);
  line-height: 1.38;
  letter-spacing: -0.012em;
  text-wrap: balance;
  max-width: 58ch;

  /* Optik */
  color: #0c0c0c;
  background: linear-gradient(180deg, rgba(0,0,0,.82), rgba(0,0,0,.96));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;

  /* Layout (kompakter) */
  margin: 0.6rem auto 1.4rem;
  padding: 0.2rem 1rem 0.4rem;
  border-radius: 10px;
  text-align: center;

  /* sanftes Einblenden */
  opacity: 0;
  transform: translateY(10px);
  animation: fadeInUp 0.8s ease-out 0.2s both;
}

@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(18px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* ===============================
   Dark Mode: heller Verlauf für .cta-text
   =============================== */
/* ===============================
   Dark Mode: Schwarzer Hintergrund + Weißer Text
   =============================== */

/* Wenn Theme explizit auf "dark" steht */
:root[data-theme="dark"] .cta-modern {
  background: #000 !important;
  color: #fff !important;
}
:root[data-theme="dark"] .cta-modern .cta-text {
  color: #fff !important;
  background: none !important;
  -webkit-text-fill-color: #fff !important;
  text-shadow: none !important;
}

/* Wenn System-Darkmode aktiv ist und data-theme="auto" */
@media (prefers-color-scheme: dark) {
  :root[data-theme="auto"] .cta-modern {
    background: #000 !important;
    color: #fff !important;
  }
  :root[data-theme="auto"] .cta-modern .cta-text {
    color: #fff !important;
    background: none !important;
    -webkit-text-fill-color: #fff !important;
    text-shadow: none !important;
  }
}



.cta-btn {
  --primary: #ff6600; 
  --secondary: #ff944d;
  background: linear-gradient(270deg, var(--primary), var(--secondary), var(--primary));
  background-size: 300% 300%;
  color: #fff;
  font-weight: 600;
  padding: 0.8rem 2rem;
  font-size: clamp(0.9rem, 2vw, 1rem);
  border-radius: 10px;
  text-decoration: none;
  box-shadow: 0 5px 18px rgba(255, 102, 0, 0.22);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  position: relative;
  z-index: 2;
  animation: fadeUp 1s ease-out 0.4s both, gradientFlow 6s ease infinite;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;

  /* kompaktere Abstände */
  margin-top: 0.8rem;    /* vorher wahrscheinlich ~2rem */
  margin-bottom: 0.6rem; /* optional, für sanften Abschluss */
}


  .cta-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 12px 28px rgba(255, 233, 216, 0);
  }

  /* Animations */
  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }
  @keyframes gradientFlow {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }
  @keyframes gradientShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }
  @keyframes glowShift {
    0% { transform: translateX(-50%) rotate(0deg); }
    100% { transform: translateX(-50%) rotate(3deg); }
  }

  @media (prefers-reduced-motion: reduce) {
    * { animation: none !important; transition: none !important; }
  }

  @media (max-width: 480px) {
    .cta-modern { padding: 5rem 1rem; }
    .cta-text { margin-bottom: 2rem; line-height: 1.5; }
    .cta-btn { width: 100%; padding: 0.9rem; }
  }

  @media (max-width: 375px) {
    .cta-headline { font-size: 1.5rem; }
    .cta-headline span { font-size: 1.1em; }
    .cta-text { font-size: 0.95rem; }
    .cta-btn { font-size: 0.9rem; padding: 0.75rem 1.2rem; }
  }

  /* ===============================
     Dark Mode (scoped to .cta-modern)
     =============================== */
  :root[data-theme="dark"] .cta-modern {
    background: linear-gradient(180deg, #000000, #000000);
    color: #fff;
  }
  :root[data-theme="dark"] .cta-modern .cta-headline,
  :root[data-theme="dark"] .cta-modern .cta-small,
  :root[data-theme="dark"] .cta-modern .cta-text {
    color: #fff;
  }

  /* Auto-Mode: respektiert System-Dark */
  @media (prefers-color-scheme: dark) {
    :root[data-theme="auto"] .cta-modern {
      background: linear-gradient(180deg, #050505, #0b0b0b);
      color: #fff;
    }
  }
    :root[data-theme="auto"] .cta-modern .cta-headline,
    :root[data-theme="auto"] .cta-modern .cta-small,
    :root[data-theme="auto"] .cta-modern .cta-text {
      color: #fff;
    }
    /* Dark Mode: wird weiß */
:root[data-theme="dark"] .cta-modern .cta-small {
  color: #fff;
  
}
@media (prefers-color-scheme: dark) {
  :root[data-theme="auto"] .cta-modern .cta-small {
    color: #fff;
  }
  }

  /* 1) Gradient NUR auf das nicht-.cta-small Span anwenden */
.cta-headline span:not(.cta-small) {
  font-family: 'VT323', monospace;
  font-size: 1.3em;
  line-height: 1;
  display: inline-block;
  background: linear-gradient(220deg,
    hwb(219 17% 0%) 0%,
    hwb(219 18% 0%) 40%,
    #e1e2ff 46%,
    hwb(34 27% 0%) 52%,
    hwb(29 0% 0%) 100%);
  background-size: 400% 400%;
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: gradientShift 16s ease-in-out infinite;
}

/* 2) .cta-small hard-reset: kein Gradient, normale Textfarbe */
.cta-small {
  font-size: 0.6em;
  font-weight: 600;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  display: inline-block;
  margin-right: 0.3em;
  color: #000; /* Light */
  /* explizit alles auf normal zurücksetzen */
  background: none !important;
  background-clip: initial !important;
  -webkit-background-clip: initial !important;
  -webkit-text-fill-color: unset !important;
  transition: color .25s ease;
}

/* 3) Dark/Auto Mode Farbe Weiß für .cta-small */
:root[data-theme="dark"] .cta-modern .cta-small { color: #fff; }
@media (prefers-color-scheme: dark){
  :root[data-theme="auto"] .cta-modern .cta-small { color: #fff; }
}

</style>
    <h2 class="cta-headline">
      <span class="cta-small">Bereit für</span> <span>deinen digitalen Auftritt?</span>
    </h2>


    <p class="cta-text">
      Lass uns gemeinsam dein visuelles Statement gestalten. Klar, smart & zukunftssicher.
      Starte jetzt – unverbindlich und inspiriert.
    </p>

    <a href="#kontakt" class="cta-btn">Gespräch vereinbaren</a>
  </section>


















<section class="kontakt-testimonial-section" id="kontakt">
  <div class="kontakt-testimonial-wrapper">
    <!-- Kontaktbereich -->
    <div class="kontakt-area">
      <h2 class="section-title">Lass uns loslegen!</h2>
      <p class="kontakt-subline">
        Eine starke Idee verdient ein starkes digitales Erlebnis. <br />
        Erzähle uns von Deinem Projekt – wir bringen es gemeinsam auf das nächste Level.
      </p>

      <form action="https://formspree.io/f/xqapdvaq" method="POST" class="kontakt-form" id="kontaktForm">
        <input type="text" name="name" placeholder="Name" required />
        <input type="email" name="email" placeholder="E-Mail-Adresse" required />
        <input type="text" name="subject" placeholder="Betreff" />
        <textarea name="message" placeholder="Nachricht" rows="5" required></textarea>
        <button type="submit" class="kontakt-btn">Jetzt Anfrage senden!</button>
      </form>
    </div>

    <!-- Testimonials -->
    <div class="testimonial-area">
      <testimonial-slider></testimonial-slider>
    </div>
  </div>
</section>

<style>
  /* ========= Theme Tokens ========= */
  :root{
    --surface: #ffffff;
    --surface-elev: #f7f8fa;
    --text: #0b0c0e;
    --muted: #5d6066;
    --border: #e6e8eb;
    --input-bg: #ffffffcc;
    --input-text: #0b0c0e;
    --placeholder: #8b9096;
    --ring: #ff6600;
    --ring-soft: rgba(255,102,0,.15);
    --btn-text: #ffffff;
  }
  :root[data-theme="dark"]{
    --surface:#000000;
    --surface-elev:#111216;
    --text:#f5f7fa;
    --muted:#c6cad1;
    --border:#262a31;
    --input-bg:#111216cc;
    --input-text:#f5f7fa;
    --placeholder:#95a0ad;
    --ring:#ff7a1a;
    --ring-soft: rgba(255,122,26,.22);
    --btn-text: #ffffff;
  }
  @media (prefers-color-scheme: dark){
    :root[data-theme="auto"]{
      --surface:#0a0a0b;
      --surface-elev:#000000;
      --text:#f5f7fa;
      --muted:#c6cad1;
      --border:#262a31;
      --input-bg:#000000cc;
      --input-text:#f5f7fa;
      --placeholder:#95a0ad;
      --ring:#ff7a1a;
      --ring-soft: rgba(255,122,26,.22);
      --btn-text:#ffffff;
    }
  }

  /* ========= Reset / Container ========= */
  html, body { box-sizing: border-box; overflow-x: hidden; margin: 0; padding: 0; }
  *, *::before, *::after { box-sizing: inherit; }

  .kontakt-testimonial-section {
    background: var(--surface);
    padding: clamp(3rem, 6vw, 6rem) 2rem;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    overflow-x: hidden;
    margin-top: clamp(5rem, 10vw, 10rem);
    color: var(--text);
  }

  .kontakt-testimonial-wrapper {
    max-width: 1440px;
    margin: 0 auto;
    display: flex;
    gap: clamp(2rem, 4vw, 4rem);
    justify-content: space-between;
    align-items: flex-start;
    flex-wrap: wrap;
  }

  .kontakt-area {
    flex: 1 1 480px;
    max-width: 640px;
    min-width: 300px;
    background: color-mix(in oklab, var(--surface-elev) 85%, transparent);
    border: 1px solid var(--border);
    border-radius: 18px;
    padding: clamp(1.25rem, 2.2vw, 2rem);
    box-shadow: 0 10px 30px rgba(0,0,0,.06);
    backdrop-filter: blur(8px) saturate(1.02);
  }

  .testimonial-area { flex: 1 1 380px; max-width: 600px; min-width: 280px; }

  /* ========= Aurora-Typo (Überschrift + Unterüberschrift) ========= */
  .section-title{
    font-size: clamp(2rem, 1.6rem + 2.2vw, 3rem);
    font-weight: 900;
    letter-spacing: -0.02em;
    line-height: 1.12;
    margin: .2rem 0 .6rem;
    color: var(--text);
    text-wrap: balance;
    text-align: left;
  }
  .kontakt-subline{
    position: relative;
    color: #0f1729;
    max-width: 62rem;
    margin: 0 0 2.6rem 0;
    line-height: 1.78;
    font-size: clamp(1.06rem, 1rem + .6vw, 1.22rem);
    letter-spacing: .004em;
    text-wrap: pretty;
    padding: 1.1rem 1.2rem 1.1rem;
    border-radius: 14px;
    background: linear-gradient(180deg, rgba(15,23,41,.06), rgba(15,23,41,.03));
    box-shadow: inset 0 1px 0 rgba(255,255,255,.7), 0 2px 8px rgba(0,0,0,.05);
  }
  :root[data-theme="dark"] .kontakt-subline{
    color:#fff;
    background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
    box-shadow: inset 0 1px 0 rgba(255,255,255,.18), 0 2px 8px rgba(0,0,0,.35);
  }

  /* ========= Copy-Stil für erklärende Texte in der Kontakt-Karte ========= */
  .kontakt-area .copy,
  .kontakt-area p:not(.kontakt-subline){
    color: rgba(0,0,0,.92);
    font-weight: 690;
    letter-spacing: -.002em;
    font-size: clamp(1.02rem, .98rem + .35vw, 1.16rem);
    line-height: 1.7;
    text-wrap: pretty;
    hyphens: auto;
    max-width: 62ch;
    text-shadow: 0 1px 2px rgba(0,0,0,.06);
    margin: 0 0 1rem 0;
  }
  :root[data-theme="dark"] .kontakt-area .copy,
  :root[data-theme="dark"] .kontakt-area p:not(.kontakt-subline){
    color: rgba(255,255,255,.96);
    text-shadow: 0 1px 2px rgba(0,0,0,.18);
  }

  /* ========= Form ========= */
  .kontakt-form { display: flex; flex-direction: column; gap: 1.2rem; width: 100%; max-width: 100%; padding: 0; }

  .kontakt-form input,
  .kontakt-form textarea{
    width: 100%;
    max-width: 100%;
    padding: 1rem 1.1rem;
    font-size: 1rem;
    border: 1px solid var(--border);
    border-radius: 12px;
    background: var(--input-bg);
    color: var(--input-text);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
    transition: border-color .25s ease, box-shadow .25s ease, background-color .25s ease;
    appearance: none;
  }
  .kontakt-form input::placeholder,
  .kontakt-form textarea::placeholder{ color: var(--placeholder); }
  .kontakt-form input:focus,
  .kontakt-form textarea:focus{
    border-color: var(--ring);
    box-shadow: 0 0 0 3px var(--ring-soft);
    outline: none;
    background: color-mix(in oklab, var(--input-bg) 85%, transparent);
  }

  /* ========= CTA Button ========= */
  .kontakt-btn{
    background: linear-gradient(135deg, #ff6600, #ff9950, #ff6a00);
    background-size: 300% 300%;
    animation: gradientShift 18s ease infinite;
    color: var(--btn-text);
    font-size: clamp(0.95rem, 2.5vw, 1.05rem);
    font-weight: 800;
    border: none;
    padding: 1rem 1.2rem;
    border-radius: 12px;
    cursor: pointer;
    transition: transform .25s ease, box-shadow .25s ease, background-position .6s ease;
    box-shadow: 0px 8px 22px rgba(255, 102, 0, 0.30);
    max-width: 380px;
    width: 100%;
  }
  @keyframes gradientShift{
    0%{ background-position: 0% 50%; }
    50%{ background-position: 100% 50%; }
    100%{ background-position: 0% 50%; }
  }
  .kontakt-btn:hover,
  .kontakt-btn:focus-visible{
    transform: translateY(-2px) scale(1.02);
    box-shadow: 0 16px 40px #ffb07366;
    outline: none;
  }
  .kontakt-btn:focus-visible{ outline: 2px dashed var(--ring); outline-offset: 4px; }
  .kontakt-btn.sent{
    background: linear-gradient(135deg, #00c851, #007e33);
    animation: none;
    box-shadow: 0 0 18px rgba(0, 200, 81, 0.55);
    transform: scale(1.01);
    color: #fff;
  }

  /* ========= Responsive ========= */
  @media (max-width: 1024px){
    .kontakt-testimonial-wrapper{ flex-direction: column; align-items: center; gap: 3rem; }
    .section-title, .kontakt-subline{ text-align: center; max-width: 90%; margin-left: auto; margin-right: auto; }
    .kontakt-area, .testimonial-area { max-width: 100%; }
    .kontakt-btn { margin: 0 auto; }
  }

  @media (max-width: 540px){
    .kontakt-testimonial-wrapper{ flex-direction: column; align-items: center; width: 100%; padding: 0; margin: 0; }
    .kontakt-area, .testimonial-area{ width: 100%; max-width: 100%; padding: 0 1rem; text-align: center; }
    .section-title{ font-size: clamp(1.8rem, 4.8vw, 2.2rem); text-align: center; margin: 0 auto 1rem; max-width: 100%; }
    .kontakt-subline{ font-size: 1rem; text-align: center; margin: 0 auto 1.6rem; max-width: 100%; line-height: 1.5; }
    .kontakt-form{ padding: 0 .5rem; }
    .kontakt-form input, .kontakt-form textarea{ font-size: .95rem; padding: .9rem 1rem; }
    .kontakt-btn{ font-size: 1rem; padding: .9rem 1rem; width: 100%; max-width: 100%; }
  }

  @media (max-width: 400px){
    .kontakt-testimonial-section{ padding-left: 1rem; padding-right: 1rem; }
    .kontakt-testimonial-wrapper{ margin: 0 auto; width: 100%; max-width: 100%; }
    .kontakt-area, .testimonial-area{ padding: 0; margin: 0 auto; text-align: center; }
    .kontakt-form{ margin: 0 auto; }
    .inner-card{ margin: 0 auto !important; }
  }

  /* ========= Motion-Safe ========= */
  @media (prefers-reduced-motion: reduce){
    .kontakt-btn { animation: none !important; transition: none !important; }
  }

  /* ========= Mobile Fixes ========= */
  @media (max-width: 540px){
    .kontakt-testimonial-wrapper{ justify-content: center; gap: 1.75rem; }
    .kontakt-area{ padding: 1.5rem 1rem 1.6rem; }
    .section-title{ margin-top: .25rem; margin-bottom: 1.1rem; }
    .kontakt-subline{ margin: 0 auto 1.8rem; max-width: 36rem; }
    .kontakt-testimonial-section{ padding-left: 1rem; padding-right: 1rem; }
  }
  @media (max-width: 375px){
    .kontakt-testimonial-section{ padding-left: 1rem; padding-right: 1rem; overflow-x: hidden; }
    .kontakt-testimonial-wrapper{ width: 100%; max-width: 100%; margin: 0 auto; padding: 0; align-items: center; justify-content: center; }
    .kontakt-area{ max-width: 360px; width: 100%; margin-left: auto; margin-right: auto; padding: 1.25rem 1rem 1.5rem; border-radius: 16px; }
    .kontakt-form{ width: 100%; max-width: 100%; padding: 0; margin: 0 auto; }
    .kontakt-form input, .kontakt-form textarea{ width: 100%; max-width: 100%; box-sizing: border-box; }
    .kontakt-btn{ margin-left: auto; margin-right: auto; width: 100%; max-width: 100%; }
    .testimonial-area{ width: 100%; max-width: 360px; margin: 0 auto; }
  }
  @media (min-width: 376px) and (max-width: 540px){
    .kontakt-testimonial-wrapper{ gap: 1.25rem; }
    .kontakt-area, .testimonial-area{ min-width: 0; max-width: 100%; }
    .kontakt-area{ padding: 1.3rem 1rem 1.6rem; }
  }
</style>

<script>
  /* ===== Form Handling inkl. UI-Feedback ===== */
  const form = document.getElementById("kontaktForm");
  form.addEventListener("submit", async function (e) {
    e.preventDefault();

    const formData = new FormData(form);
    const button = form.querySelector(".kontakt-btn");

    try {
      const response = await fetch("https://formspree.io/f/xqapdvaq", {
        method: "POST",
        body: formData,
        headers: { 'Accept': 'application/json' }
      });

      if (response.ok) {
        button.innerText = "✅ Anfrage gesendet!";
        button.classList.add("sent");
        form.reset();
      } else {
        button.innerText = "⚠️ Fehler beim Senden";
      }
    } catch (error) {
      button.innerText = "❌ Netzwerkfehler";
    }

    setTimeout(() => {
      button.innerText = "🚀 Jetzt Anfrage senden!";
      button.classList.remove("sent");
    }, 4000);
  });
</script>

<script>
  /* ===== Testimonial Web Component ===== */
  class TestimonialSlider extends HTMLElement {
    constructor() {
      super();
      this.attachShadow({ mode: "open" });
      this.testimonials = [
        { image: "./TestemonialSlider/CS.webp", name: "Christian Schulz", quote: "Die Animationen bringen unsere Marke zum Leben – ein Gamechanger auf Messen & Social Media!", logo: "./TestemonialSlider/NeoLog.webp" },
        { image: "./TestemonialSlider/CS.webp", name: "Christian Schulz", quote: "Die Animationen bringen unsere Marke zum Leben – ein Gamechanger auf Messen & Social Media!", logo: "./TestemonialSlider/NeoLog.webp" },
        { image: "./TestemonialSlider/CS.webp", name: "Christian Schulz", quote: "Die Animationen bringen unsere Marke zum Leben – ein Gamechanger auf Messen & Social Media!", logo: "./TestemonialSlider/NeoLog.webp" }
      ];
    }

    connectedCallback() {
      const style = `
        <style>
          :host { display:block; padding:5rem 1.5rem; background:transparent; position:relative; color:var(--ts-text,#1c1c1e); }

          :host{ 
            --ts-text:#1c1c1e; --ts-muted:#666; --ts-card-shadow:0 10px 30px rgba(0,0,0,.15);
            --ts-dot:#999; --ts-dot-active:#ff6600;
          }
          :host-context(:root[data-theme="dark"]){
            --ts-text:#f5f7fa; --ts-muted:#c6cad1; --ts-card-shadow:0 14px 34px rgba(0,0,0,.45);
            --ts-dot:#667085; --ts-dot-active:#ff7a1a;
          }
          @media (prefers-color-scheme: dark){
            :host-context(:root[data-theme="auto"]){
              --ts-text:#f5f7fa; --ts-muted:#c6cad1; --ts-card-shadow:0 14px 34px rgba(0,0,0,.45);
              --ts-dot:#667085; --ts-dot-active:#ff7a1a;
            }
          }

          /* Headline & Intro – Aurora-Typo */
          h2{
            font-size: clamp(2rem, 1.6rem + 2.2vw, 3rem);
            font-weight: 900;
            letter-spacing: -0.02em;
            line-height: 1.12;
            margin: .2rem 0 .6rem;
            color: var(--ts-text);
            text-align: center;
            text-wrap: balance;
          }
          .intro{
            font-size: clamp(1.06rem, 1rem + .6vw, 1.22rem);
            line-height: 1.78;
            letter-spacing: .004em;
            color: var(--ts-muted);
            max-width: 62rem;
            margin: 0 auto 2.2rem;
            text-align: center;
            text-wrap: pretty;
          }

          .slider-wrapper{ overflow:hidden; position:relative; height:550px; }
          .track{ display:flex; transition: transform .6s ease; will-change: transform; }

          .card{ flex:0 0 100%; display:flex; justify-content:center; align-items:center; opacity:0; transform:scale(.9); pointer-events:none; transition: opacity .4s ease, transform .4s ease; height:350px; }
          .card.active{ opacity:1; transform:scale(1); pointer-events:auto; }

          .inner-card{
            width: clamp(280px, 80vw, 360px);
            color:#fff; border-radius:18px; padding:2.2rem; text-align:center;
            box-shadow: var(--ts-card-shadow);
            transition: transform .3s ease; background: linear-gradient(135deg,#222,#444);
          }
          .inner-card:hover{ transform: translateY(-4px) scale(1.02); }

          .card-1 .inner-card { background: linear-gradient(135deg, #3b34ff, #7500ff); }
          .card-2 .inner-card { background: linear-gradient(135deg, #121212, #2b2b2b); }
          .card-3 .inner-card { background: linear-gradient(135deg, #ff6600, #ff00aa, #3a0ca3); background-size: 400% 400%; }
          .card-clone .inner-card { background: linear-gradient(135deg, #444, #111); }

          .avatar-logo{ display:flex; flex-direction:column; align-items:center; gap:.8rem; margin-bottom:1.2rem; }
          .avatar{ width:64px; height:64px; border-radius:50%; object-fit:cover; border:2px solid #8b5cf6; }
          .logo{ height:28px; max-width:100px; opacity:.75; transition:.3s ease; object-fit:contain; filter: brightness(0) invert(1); }
          .logo:hover{ opacity:1; }

          /* Copy-Stil (Zitat + Autor im Sinne von Aurora .copy/.lead) */
          .quote{
            font-style: italic;
            color: rgba(255,255,255,.96);
            font-weight: 690;
            letter-spacing: -.002em;
            font-size: clamp(1.02rem, .98rem + .35vw, 1.16rem);
            line-height: 1.7;
            text-wrap: pretty;
            hyphens: auto;
            max-width: 42ch;
            margin: .8rem auto .45rem;
            text-shadow: 0 1px 2px rgba(0,0,0,.18);
          }
          .author{
            font-weight: 900;
            letter-spacing: -.01em;
            color:#fff;
            font-size: clamp(1.06rem, 1rem + .5vw, 1.22rem);
          }

          @media (max-width: 558px){ .inner-card { width: 60vw; } }
          @media (max-width: 425px){
            h2{ font-size: clamp(1.8rem, 6vw, 2.2rem); }
            .intro{ font-size: .95rem; padding: 0 1.2rem; }
            .inner-card{ width: 55vw; }
          }
          @media (prefers-reduced-motion: reduce){
            .track { transition: none !important; }
            .card, .inner-card { transition: none !important; }
          }
        </style>
      `;

      const extended = [...this.testimonials, this.testimonials[0]];
      const slidesHTML = extended.map((t, i) => {
        const isClone = i === extended.length - 1;
        const cardClass = isClone ? "card-clone" : `card-${i + 1}`;
        return `
          <div class="card ${cardClass}" role="listitem" aria-roledescription="slide">
            <div class="inner-card">
              <div class="avatar-logo">
                <img src="${t.image}" class="avatar" alt="${t.name}">
                ${t.logo ? `<img src="${t.logo}" class="logo" alt="Logo des Kunden">` : ""}
              </div>
              <p class="quote">„${t.quote}“</p>
              <p class="author">${t.name}</p>
            </div>
          </div>
        `;
      }).join("");

      const dotsHTML = `
        <div class="dots" role="tablist" aria-label="Testimonials" style="display:flex;gap:.6rem;justify-content:center;margin-top:1.2rem;">
          ${this.testimonials.map((_, i) => `<div class="dot" role="tab" tabindex="0" data-index="${i}" aria-label="Testimonial ${i + 1}" style="width:8px;height:8px;border-radius:50%;background:var(--ts-dot);cursor:pointer;"></div>`).join("")}
        </div>
      `;

      const html = `
        ${style}
        <h2>Kundenstimmen</h2>
        <p class="intro">Was unsere Kunden über die Zusammenarbeit sagen.</p>
        <div class="slider-wrapper" role="list">
          <div class="track">
            ${slidesHTML}
          </div>
        </div>
        ${dotsHTML}
      `;
      this.shadowRoot.innerHTML = html;

      const track = this.shadowRoot.querySelector(".track");
      const cards = this.shadowRoot.querySelectorAll(".card");
      const dots = this.shadowRoot.querySelectorAll(".dot");
      let currentIndex = 0;
      let interval;

      const goToSlide = (index, instant = false) => {
        const isClone = index === cards.length - 1;
        track.style.transition = instant ? 'none' : 'transform 0.6s ease';
        track.style.transform = `translateX(-${index * 100}%)`;

        cards.forEach((card, i) => card.classList.toggle("active", i === index));
        dots.forEach(dot => dot.style.background = 'var(--ts-dot)');
        if (isClone) { dots[0] && (dots[0].style.background = 'var(--ts-dot-active)'); }
        else { dots[index] && (dots[index].style.background = 'var(--ts-dot-active)'); }
      };

      const startAutoSlide = () => {
        interval = setInterval(() => {
          currentIndex++;
          if (currentIndex === cards.length) {
            goToSlide(currentIndex, true);
            currentIndex = 1;
            setTimeout(() => goToSlide(currentIndex), 20);
          } else {
            goToSlide(currentIndex);
          }
        }, 4000);
      };

      // Touch
      let startX = 0;
      track.addEventListener("touchstart", e => {
        startX = e.touches[0].clientX;
        clearInterval(interval);
      }, { passive: true });

      track.addEventListener("touchend", e => {
        const diff = e.changedTouches[0].clientX - startX;
        if (Math.abs(diff) > 50) {
          if (diff < 0 && currentIndex < cards.length - 1) currentIndex++;
          else if (diff > 0 && currentIndex > 0) currentIndex--;
        }
        goToSlide(currentIndex);
        startAutoSlide();
      }, { passive: true });

      // Hover + Dots
      track.addEventListener("mouseenter", () => clearInterval(interval));
      track.addEventListener("mouseleave", startAutoSlide);
      dots.forEach(dot => {
        dot.addEventListener("click", e => {
          const i = parseInt(e.target.dataset.index, 10);
          currentIndex = i; goToSlide(currentIndex);
        });
        dot.addEventListener("keydown", e => {
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            const i = parseInt(e.target.dataset.index, 10);
            currentIndex = i; goToSlide(currentIndex);
          }
        });
      });

      goToSlide(0);
      startAutoSlide();
    }
  }
  customElements.define("testimonial-slider", TestimonialSlider);
</script>















<!-- ===== ETHOS / WERTE SECTION (Flat Colors: Orange/Black/Dark-Blue) ===== -->
<section class="ethos section-wrap" id="ethos-root" aria-labelledby="ethos-heading">
  <div class="ethos-head">
    <h2 class="ethos-title" id="ethos-heading">
      <span class="ethos-title-line">Werte, die digitale Lösungen formen</span>
    </h2>
    <div class="ethos-sub">
      <span class="ethos-sub-line">Technisch. Emotional. Zielgerichtet.</span>
    </div>
  </div>

  <!-- Row: Endlos-Marquee (eine Richtung) -->
  <div class="ethos-marquee" aria-hidden="false">
    <ul class="ethos-track" role="list" aria-label="Unsere Werte">
      <li class="ethos-card" role="listitem">
        <div class="ethos-icon"><i data-feather="activity" aria-hidden="true"></i></div>
        <div class="ethos-content">
          <h3>Projektsteuerung 2.0</h3>
          <p>Transparenz in jeder Phase – Live-Roadmap, wöchentliche Demos.</p>
          <small class="ethos-proof">Ø 18 % schnellere Go-Lives.</small>
        </div>
        <a class="btn btn--ghost ethos-cta" href="/process" aria-label="Ablauf ansehen">Ablauf ansehen</a>
      </li>

      <li class="ethos-card" role="listitem">
        <div class="ethos-icon"><i data-feather="heart" aria-hidden="true"></i></div>
        <div class="ethos-content">
          <h3>Empathie trifft Analyse</h3>
          <p>Qualitatives Research + Metriken – Entscheidungen, die belegt sind.</p>
          <small class="ethos-proof">NPS +12 nach 8 Wochen Discovery.</small>
        </div>
        <a class="btn btn--ghost ethos-cta" href="/research#case" aria-label="Cases ansehen">Cases ansehen</a>
      </li>

      <li class="ethos-card" role="listitem">
        <div class="ethos-icon"><i data-feather="eye" aria-hidden="true"></i></div>
        <div class="ethos-content">
          <h3>Next-Level Design</h3>
          <p>Unvergesslich visuell – konsistent, barrierearm und performancestark.</p>
          <small class="ethos-proof">+27 % CR nach Design-System-Rollout.</small>
        </div>
        <a class="btn btn--ghost ethos-cta" href="/cases#design" aria-label="Design-Cases">Design-Cases</a>
      </li>

      <li class="ethos-card" role="listitem">
        <div class="ethos-icon"><i data-feather="grid" aria-hidden="true"></i></div>
        <div class="ethos-content">
          <h3>Detailverliebtheit</h3>
          <p>Micro-Interactions, States, Edge-Cases – durchdacht bis zum letzten Pixel.</p>
          <small class="ethos-proof">Flow-Completion +15 %.</small>
        </div>
        <a class="btn btn--ghost ethos-cta" href="/guidelines" aria-label="UI-Guidelines">UI-Guidelines</a>
      </li>

      <li class="ethos-card" role="listitem">
        <div class="ethos-icon"><i data-feather="cpu" aria-hidden="true"></i></div>
        <div class="ethos-content">
          <h3>Tech-DNA</h3>
          <p>API-First, Headless, React – moderne Stacks, die mitwachsen.</p>
          <small class="ethos-proof">TTFB −38 % nach Headless-Migration.</small>
        </div>
        <a class="btn btn--ghost ethos-cta" href="/stack" aria-label="Unser Stack">Unser Stack</a>
      </li>

      <li class="ethos-card" role="listitem">
        <div class="ethos-icon"><i data-feather="repeat" aria-hidden="true"></i></div>
        <div class="ethos-content">
          <h3>Automatisierte Abläufe</h3>
          <p>CI/CD & QA-Pipelines für Tempo, Qualität und Skalierung.</p>
          <small class="ethos-proof">Release-Zyklen von 2 Wochen → 2 Tage.</small>
        </div>
        <a class="btn btn--ghost ethos-cta" href="/devops" aria-label="DevOps Details">DevOps Details</a>
      </li>
    </ul>
    <!-- Der Track wird per JS dupliziert, um einen lückenlosen Loop zu erzeugen -->
  </div>

  <div class="ethos-cta-row">
    <a href="#about" class="btn btn--primary">Werte im Detail</a>
    <a href="/contact" class="btn btn--accent">Erstgespräch buchen</a>
  </div>
</section>

<style>
/* ===== Tokens (Flat Colors) ===== */
:root{
  --clr-orange: #ff6600;
  --clr-blue-dark: #0a1f6f;  /* DUNKELBLAU */
  --clr-black:  #0b0c0e;

  --surface: #ffffff;
  --ink:     #0b0c0e;
  --muted:   #5d6066;
  --line:    #e6e8eb;

  --card-radius: 18px;
  --ring: rgba(10,31,111,.28); /* Focus ring in dunkelblau */
}
:root[data-theme="dark"]{
  --surface:#000000; --ink:#ffffff; --muted:#c6cad1; --line:#2a2e36;
}
@media (prefers-color-scheme: dark){
  :root[data-theme="auto"]{
    --surface:#000000; --ink:#ffffff; --muted:#c6cad1; --line:#2a2e36;
  }
}

/* ===== Base ===== */
.ethos, .ethos *{
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}
.section-wrap{
  font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif;
  background: var(--surface);
  color: var(--ink);
  text-align:center;
  padding: clamp(3rem,5vw,6rem) 2rem;
  margin-top: clamp(4rem,10vw,12rem);
  position:relative;
  z-index:5;
  /* Wichtig: nichts mehr abschneiden, damit Hover-Hub NICHT gekappt wird */
  overflow: visible;
  border-top: 1px solid var(--line);
}
.section-wrap .ethos-head{
  max-width:1100px;
  margin:0 auto clamp(1.6rem,3vw,2.6rem);
}
.ethos-title{
  font-size: clamp(2rem, 1.6rem + 2.2vw, 3rem);
  font-weight: 900;
  letter-spacing: -0.02em;
  line-height: 1.12;
  margin: .2rem 0 .6rem;
  color: var(--ink);
  text-wrap: balance;
}
.ethos-sub-line{
  display:inline-block;
  max-width: 62rem;
  margin: 0 auto 2.2rem;
  padding: .9rem 1rem;
  font-size: clamp(1.02rem, .98rem + .5vw, 1.18rem);
  line-height: 1.6;
  letter-spacing: .004em;
  color: var(--muted);
  background: rgba(0,0,0,.035);
  border: 1px solid var(--line);
  border-radius: 14px;
}

/* ===== Marquee (kontinuierlicher Loop in EINE Richtung) ===== */
.ethos-marquee{
  --gap: clamp(1rem, 2vw, 2rem);
  --speed: 38s; /* Laufgeschwindigkeit, linear */
  position:relative;
  width:100%;
  margin-top: 1.6rem;

  /* Wir brauchen Overflow sichtbar, damit Hover nicht gekappt wird */
  overflow: visible;

  /* Sanftes Ausblenden links/rechts – nur horizontal, schneidet oben/unten NICHT */
  mask-image: linear-gradient(to right, transparent 0, #000 6%, #000 94%, transparent 100%);
  -webkit-mask-image: linear-gradient(to right, transparent 0, #000 6%, #000 94%, transparent 100%);
}
.ethos-track{
  display:flex;
  gap: var(--gap);
  align-items: stretch;
  will-change: transform;
  /* Endlos nach links scrollen */
  animation: ethos-loop var(--speed) linear infinite;
}
@keyframes ethos-loop{
  from { transform: translateX(0); }
  to   { transform: translateX(-50%); } /* wir duplizieren den Inhalt -> 50% reicht */
}
.ethos-marquee:hover .ethos-track{ animation-play-state: paused; }
@media (prefers-reduced-motion: reduce){
  .ethos-track{ animation:none; transform:none; }
}

/* ===== Cards (Flat, keine Gradients) ===== */
.ethos-card{
  position:relative;
  border-radius: var(--card-radius);
  padding: clamp(1.1rem, 1.8vw, 1.5rem);
  display:flex; flex-direction:column; min-height:100%;
  flex: 0 0 auto; min-width: min(420px, 80vw); max-width: 460px;
  color:#ffffff;
  box-shadow: 0 6px 20px rgba(0,0,0,.12);
  transition: transform .18s ease, box-shadow .18s ease, border-color .2s ease, background-color .2s ease;
  border: 1px solid transparent;
  /* sorgt dafür, dass der Hover-Hub nicht abgeschnitten wird, selbst wenn ein Parent overflow:hidden hätte */
  will-change: transform;
  transform: translateZ(0);
}

/* Alternierende Vollflächen: Dunkelblau, Schwarz, Orange, Schwarz, Dunkelblau, Schwarz */
.ethos-card:nth-child(1){ background: var(--clr-blue-dark); }
.ethos-card:nth-child(2){ background: var(--clr-black); }
.ethos-card:nth-child(3){ background: var(--clr-orange); }
.ethos-card:nth-child(4){ background: var(--clr-black); }
.ethos-card:nth-child(5){ background: var(--clr-blue-dark); }
.ethos-card:nth-child(6){ background: var(--clr-black); }

/* Hover-Elevation (leicht nach oben) – ohne Clipping */
.ethos-card:hover{
  transform: translateY(-6px);
  box-shadow: 0 18px 46px rgba(0,0,0,.22);
  border-color: rgba(255,255,255,.15);
}

/* Icon */
.ethos-icon{
  width:48px; height:48px; border-radius:12px; margin:0 auto .9rem;
  display:flex; align-items:center; justify-content:center;
  background: rgba(255,255,255,.12);
  border:1px solid rgba(255,255,255,.28);
  transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease, background-color .2s ease;
}
.ethos-icon i{ width:22px; height:22px; color:#fff; }
.ethos-card:hover .ethos-icon{
  transform: translateY(-1px) scale(1.05);
  box-shadow: 0 0 0 4px rgba(255,255,255,.12);
}

/* Typografie in Cards */
.ethos-card h3{
  font-size: clamp(1.28rem, 1.06rem + .9vw, 1.88rem);
  font-weight: 800; margin: .1rem 0 .5rem;
  color:#fff; letter-spacing:-.01em; line-height:1.2;
  text-wrap: balance;
}
.ethos-card p{
  margin: 0; padding: .1rem 0 0;
  color: rgba(255,255,255,.98);
  font-weight: 690; letter-spacing: -.002em;
  font-size: clamp(1.02rem, .98rem + .35vw, 1.16rem);
  line-height: 1.7; text-wrap: pretty; hyphens: auto; max-width: 62ch;
}
.ethos-proof{ margin-top:.55rem; color: rgba(255,255,255,.9); font-size:.95rem; }

/* Buttons */
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  min-height:44px; padding:.8rem 1.2rem; border-radius:12px;
  font-weight:700; text-decoration:none; position:relative;
  transition: transform .12s ease, box-shadow .12s ease, background-color .12s ease, border-color .12s ease, color .12s ease;
  border:1px solid transparent;
}
.btn:focus-visible{ outline:none; box-shadow: 0 0 0 4px var(--ring); }
.btn:active{ transform: translateY(1px); }

.btn--ghost{
  background: transparent; border:1px solid rgba(255,255,255,.55); color: #fff;
}
.btn--ghost:hover{
  background: rgba(255,255,255,.1);
  border-color: rgba(255,255,255,.85);
}

.btn--primary{
  background: var(--clr-orange); color:#fff; border-color: var(--clr-orange);
}
.btn--primary:hover{
  box-shadow: 0 10px 26px rgba(255,102,0,.35);
  transform: translateY(-2px);
}

.btn--accent{
  background: var(--clr-blue-dark); color:#fff; border-color: var(--clr-blue-dark);
}
.btn--accent:hover{
  box-shadow: 0 10px 26px rgba(10,31,111,.35);
  transform: translateY(-2px);
}

/* CTA-Row */
.ethos-cta-row{
  margin-top:2rem; display:flex; gap:.8rem; justify-content:center; flex-wrap:wrap;
}
.ethos-cta-row .btn{ min-width:220px; }
@media (max-width:480px){ .ethos-cta-row .btn{ width:100%; min-width:unset; } }
</style>

<!-- Feather Icons + Marquee-Cloner für nahtlosen Loop -->
<script src="https://unpkg.com/feather-icons" defer></script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  if (window.feather) feather.replace();

  // Nahtloser Loop: Track-Inhalt klonen (zweites Set), damit -50% translate reicht
  const marquee = document.querySelector('.ethos-marquee');
  const track   = marquee?.querySelector('.ethos-track');
  if (track && track.children.length) {
    const clone = track.cloneNode(true);
    clone.setAttribute('aria-hidden', 'true');
    marquee.appendChild(clone);
    // Beide Tracks nebeneinander: Container als flex-column, Tracks als inline-flex
    marquee.style.display = 'grid';
    marquee.style.gridAutoFlow = 'column';
    marquee.style.gridAutoColumns = 'max-content';
    track.style.width = 'max-content';
    clone.style.width = 'max-content';
    clone.classList.add('ethos-track'); // bekommt dieselbe Animation
  }

  // A11y: pausieren bei Hover/Focus (beide Tracks)
  const tracks = marquee?.querySelectorAll('.ethos-track');
  function setPlayState(state){ tracks?.forEach(t => t.style.animationPlayState = state); }
  marquee?.addEventListener('mouseenter', () => setPlayState('paused'));
  marquee?.addEventListener('mouseleave', () => setPlayState(''));
  marquee?.addEventListener('focusin',   () => setPlayState('paused'));
  marquee?.addEventListener('focusout',  () => setPlayState(''));
});
</script>

















<section class="faq-section" id="faq">
  <h2 class="faq-title">Häufige Fragen <br> Transparenz von Anfang an</h2>

  <div class="faq-search-bar">
    <input type="text" id="faqSearchInput" placeholder="Nach Stichwort suchen...">
    <div class="faq-navigation">
      <button id="prevResult">←</button>
      <span id="faqResultIndex">0 / 0</span>
      <button id="nextResult">→</button>
    </div>
  </div>

  <div class="faq-accordion">

    <!-- Projektmanagement -->
    <div class="faq-item">
      <button class="faq-question" aria-expanded="false">
        <span>Projektmanagement &<br> Kommunikation</span>
        <svg class="arrow-icon" viewBox="0 0 24 24" width="16" height="16">
          <path d="M8 10l4 4 4-4" stroke="#666" stroke-width="2" fill="none" stroke-linecap="round"
            stroke-linejoin="round" />
        </svg>
      </button>
      <div class="faq-answer">
        <p>
          <strong>Wie läuft die Abstimmung?</strong><br>
          Ein fester Projektmanager koordiniert alles und hält Sie mit kurzen Updates und Meetings auf dem Laufenden.
        </p>
        <p>
          <strong>Erhalte ich einen Zeitplan?</strong><br>
          Ja – wir erstellen eine Roadmap mit Meilensteinen, die regelmäßig überprüft wird.
        </p>
        <p>
          <strong>Wie gehen Sie mit Änderungen um?</strong><br>
          Kleine Anpassungen integrieren wir direkt, größere werden gemeinsam abgestimmt.
        </p>
        <p>
          <strong>Welche Tools nutzen Sie?</strong><br>
          Je nach Projekt u.a. Asana, Trello oder Slack für transparente Zusammenarbeit.
        </p>
      </div>
    </div>

    <!-- Qualität & Support -->
    <div class="faq-item">
      <button class="faq-question" aria-expanded="false">
        <span>Qualität &<br> Sicherheit & Support</span>
        <svg class="arrow-icon" viewBox="0 0 24 24" width="16" height="16">
          <path d="M8 10l4 4 4-4" stroke="#666" stroke-width="2" fill="none" stroke-linecap="round"
            stroke-linejoin="round" />
        </svg>
      </button>
      <div class="faq-answer">
        <p>
          <strong>Wie sichern Sie Daten?</strong><br>
          Mit SSL, Firewalls, Backups und klaren Zugriffsbeschränkungen.
        </p>
        <p>
          <strong>Gibt es Support nach dem Launch?</strong><br>
          Ja – mit flexiblen Wartungs- und Servicepaketen.
        </p>
        <p>
          <strong>Wie stellen Sie Qualität sicher?</strong><br>
          Durch Tests in jeder Phase: Funktion, Usability und Performance.
        </p>
      </div>
    </div>

    <!-- Design & UX -->
    <div class="faq-item">
      <button class="faq-question" aria-expanded="false">
        <span>Design &<br> UX & Erweiterungen</span>
        <svg class="arrow-icon" viewBox="0 0 24 24" width="16" height="16">
          <path d="M8 10l4 4 4-4" stroke="#666" stroke-width="2" fill="none" stroke-linecap="round"
            stroke-linejoin="round" />
        </svg>
      </button>
      <div class="faq-answer">
        <p>
          <strong>Wie werde ich eingebunden?</strong><br>
          Über Wireframes, Prototypen und Design-Previews.
        </p>
        <p>
          <strong>Können Wünsche umgesetzt werden?</strong><br>
          Ja – wir entwickeln individuelle Lösungen und Funktionen.
        </p>
        <p>
          <strong>Ist das Design nutzerfreundlich?</strong><br>
          Wir setzen auf UX-Prinzipien und testen mit echten Usern.
        </p>
      </div>
    </div>

    <!-- Kosten & Erfolg -->
    <div class="faq-item">
      <button class="faq-question" aria-expanded="false">
        <span>Kosten &<br> Erfolgskriterien</span>
        <svg class="arrow-icon" viewBox="0 0 24 24" width="16" height="16">
          <path d="M8 10l4 4 4-4" stroke="#666" stroke-width="2" fill="none" stroke-linecap="round"
            stroke-linejoin="round" />
        </svg>
      </button>
      <div class="faq-answer">
        <p>
          <strong>Sind die Kosten transparent?</strong><br>
          Ja – unsere Angebote sind klar aufgeschlüsselt ohne versteckte Gebühren.
        </p>
        <p>
          <strong>Wie messen Sie den Erfolg?</strong><br>
          Über KPIs wie Ladezeit, Conversion, Reichweite und SEO.
        </p>
        <p>
          <strong>Was, wenn ich unzufrieden bin?</strong><br>
          Wir bieten zusätzliche Korrekturschleifen bis Sie zufrieden sind.
        </p>
      </div>
    </div>

    <!-- Datenschutz -->
    <div class="faq-item">
      <button class="faq-question" aria-expanded="false">
        <span>Datenschutz &<br> Rechtliches</span>
        <svg class="arrow-icon" viewBox="0 0 24 24" width="16" height="16">
          <path d="M8 10l4 4 4-4" stroke="#666" stroke-width="2" fill="none" stroke-linecap="round"
            stroke-linejoin="round" />
        </svg>
      </button>
      <div class="faq-answer">
        <p>
          <strong>Ist alles DSGVO-konform?</strong><br>
          Ja – mit Cookie-Management, SSL und regelmäßigen Updates.
        </p>
        <p>
          <strong>Werden meine Daten vertraulich behandelt?</strong><br>
          Absolut – Zugriff haben nur autorisierte Personen, NDAs sind möglich.
        </p>
      </div>
    </div>

    <!-- Zusatzleistungen -->
    <div class="faq-item">
      <button class="faq-question" aria-expanded="false">
        <span>Marketing &<br> Zusatzleistungen</span>
        <svg class="arrow-icon" viewBox="0 0 24 24" width="16" height="16">
          <path d="M8 10l4 4 4-4" stroke="#666" stroke-width="2" fill="none" stroke-linecap="round"
            stroke-linejoin="round" />
        </svg>
      </button>
      <div class="faq-answer">
        <p>
          <strong>Bieten Sie auch SEO & Content an?</strong><br>
          Ja – inklusive Content-Produktion und Online-Marketing.
        </p>
        <p>
          <strong>Kann das Projekt international skaliert werden?</strong><br>
          Ja – mit Mehrsprachigkeit, länderspezifischem Design und globaler SEO.
        </p>
      </div>
    </div>

  </div>
</section>

<style>
  /* ===== FAQ Base ===== */
  .faq-section {
    padding: 5rem 2rem;
    margin-top: 5rem;
    background: transparent;
    color: var(--text, #111);
    font-family: 'Inter', sans-serif;
  }

  .faq-title {
    text-align: center;
    font-size: clamp(2rem, 5vw, 2.8rem);
    font-weight: 800;
    margin-bottom: 3rem;
    color: #000; /* Vorgabe: Überschrift im Light Mode schwarz */
  }

  /* Dark Mode: Überschrift explizit schwarz (Ausnahme) */
  :root[data-theme="dark"] .faq-title,
  body.dark .faq-title {
    color: #000 !important;
  }

  .faq-accordion {
    max-width: 1000px;
    align-items: start;
    margin: 0 auto;
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.2rem;
    padding: 0 1rem;
  }
  @media (min-width: 600px){ .faq-accordion{ grid-template-columns:1fr 1fr; } }
  @media (min-width: 900px){ .faq-accordion{ grid-template-columns:1fr 1fr 1fr; } }

  /* Karten (Rechtecke) */
  .faq-item {
    border: 1px solid var(--border, #ddd);
    border-radius: 14px;
    overflow: hidden;
    background: linear-gradient(135deg, #ffffff, #f8f8f8); /* Light: weiß */
    box-shadow: 0 8px 18px rgba(0, 0, 0, 0.03);
    transition: all 0.3s ease;
  }
  .faq-item:hover { box-shadow: 0 16px 36px rgba(0, 0, 0, 0.06); }

  /* Dark Mode: Rechtecke dunkelgrau */
  :root[data-theme="dark"] .faq-item,
  body.dark .faq-item {
    background: linear-gradient(135deg, #232323, #1a1a1a);
    border-color: rgba(255,255,255,0.12);
    box-shadow: 0 10px 24px rgba(0,0,0,0.36);
  }
  :root[data-theme="dark"] .faq-item:hover,
  body.dark .faq-item:hover {
    box-shadow: 0 14px 34px rgba(0,0,0,0.46);
  }

  .faq-question {
    background: none;
    border: none;
    width: 100%;
    padding: 1.5rem 2rem;
    font-size: 1.1rem;
    font-weight: 600;
    text-align: left;
    color: var(--text, #222); /* Light: dunkel, Dark: weiß über Token */
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
    transition: background 0.3s ease;
  }
  .faq-question:hover { background: #f2f2f2; }
  :root[data-theme="dark"] .faq-question:hover,
  body.dark .faq-question:hover { background: rgba(255,255,255,0.06); }

  /* Pfeil: weiß auf --primary (in beiden Modi) */
  .arrow-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
    border-radius: 999px;
    background: #00000011;
    color: #fff;                 /* SVG mit stroke="currentColor" wird weiß */
    flex: 0 0 auto;
    transform: rotate(0deg);
    transition: transform 0.3s ease;
  }
  .faq-question[aria-expanded="true"] .arrow-icon { transform: rotate(180deg); }

  .faq-answer {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.4s ease, padding 0.3s ease;
    padding: 0 2rem;
  }
  .faq-question[aria-expanded="true"] + .faq-answer {
    max-height: 300px; /* sichtbarer Bereich */
    overflow-y: auto;  /* Scrollen bei Überlänge */
    padding: 1rem 2rem 1.5rem;
  }

  .faq-answer::-webkit-scrollbar { width: 6px; }
  .faq-answer::-webkit-scrollbar-thumb {
    background: #ccc;
    border-radius: 10px;
  }
  :root[data-theme="dark"] .faq-answer::-webkit-scrollbar-thumb,
  body.dark .faq-answer::-webkit-scrollbar-thumb {
    background: rgba(255,255,255,0.25);
  }

  /* Infotext in den Rechtecken */
  .faq-answer p {
    margin: 1rem 0 1.5rem;
    font-size: 1rem;
    line-height: 1.6;
    color: #222; /* Light: schwarz/dunkel gewünscht */
  }
  :root[data-theme="dark"] .faq-answer p,
  body.dark .faq-answer p { color: #e9e9e9; } /* Dark: Schrift weißlich */

  /* Suche + Navigation */
  .faq-search-bar {
    max-width: 1000px;
    margin: 0 auto 2rem;
    padding: 0 1rem;
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: center;
    gap: 1rem;
  }
  .faq-search-bar input {
    flex: 1 1 60%;
    padding: 0.75rem 1rem;
    font-size: 1rem;
    border: 1px solid var(--border, #ccc);
    border-radius: 8px;
    background: var(--surface, #fff);
    color: var(--text, #111);
  }

  .faq-navigation { display: flex; align-items: center; gap: 0.5rem; }
  .faq-navigation button {
    padding: 0.5rem 0.75rem;
    background-color: #508dff;
    color: white;
    border: none;
    border-radius: 6px;
    font-weight: bold;
    cursor: pointer;
  }
  .faq-navigation span { font-size: 0.95rem; color: var(--text, #333); }

  .faq-answer mark {
    background-color: #ff660088;
    padding: 0 3px;
    border-radius: 3px;
  }

  /* Floating-Bar */
  .faq-search-bar.floating {
    position: fixed;
    bottom: 1rem;
    right: 1rem;
    width: 380px;
    z-index: 1000;
    background: var(--surface, #fff);
    padding: 0.5rem 1rem;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    border-radius: 12px;
    flex-wrap: nowrap;
    transition: all 0.3s ease;
  }
  :root[data-theme="dark"] .faq-search-bar.floating,
  body.dark .faq-search-bar.floating {
    box-shadow: 0 10px 28px rgba(0,0,0,0.45);
  }
  .faq-search-bar.floating input {
    font-size: 0.85rem;
    padding: 0.5rem 0.75rem;
  }
  .faq-search-bar.floating .faq-navigation button {
    padding: 0.4rem 0.6rem;
    font-size: 0.85rem;
  }
  @media (max-width: 600px) {
    .faq-search-bar.floating {
      width: 90%;
      left: 5%;
      right: 5%;
      bottom: 1rem;
    }
  }
  :root[data-theme="dark"] .faq-title,
body.dark .faq-title {
  color: #fff !important; /* Weiß im Dark Mode */
}

</style>
  <script>
    const faqItems = document.querySelectorAll('.faq-item');
    const searchInput = document.getElementById('faqSearchInput');
    const prevBtn = document.getElementById('prevResult');
    const nextBtn = document.getElementById('nextResult');
    const resultIndexLabel = document.getElementById('faqResultIndex');
    const faqSection = document.querySelector('.faq-section');
    const faqSearchBar = document.querySelector('.faq-search-bar');

    let searchResults = [];
    let currentResult = 0;

    function closeAllFaqs() {
      faqItems.forEach(item => {
        const button = item.querySelector('.faq-question');
        const answer = item.querySelector('.faq-answer');
        button.setAttribute('aria-expanded', 'false');
        answer.style.maxHeight = null;
      });
    }

    function removeHighlights() {
      faqItems.forEach(item => {
        const answer = item.querySelector('.faq-answer');
        answer.innerHTML = answer.innerHTML.replace(/<\/?mark>/g, '');
      });
    }

    function highlightKeyword(node, keyword) {
      const regex = new RegExp(`(${keyword.split(/\s+/).join('|')})`, 'gi');
      if (node.nodeType === 3) {
        const span = document.createElement('span');
        span.innerHTML = node.nodeValue.replace(regex, '<mark>$1</mark>');
        node.parentNode.replaceChild(span, node);
      } else if (node.nodeType === 1 && node.childNodes && !['SCRIPT', 'STYLE'].includes(node.tagName)) {
        [...node.childNodes].forEach(child => highlightKeyword(child, keyword));
      }
    }

    function scrollToMarkInCurrentItem(item) {
      const mark = item.querySelector('mark');
      if (!mark) return;

      requestAnimationFrame(() => {
        requestAnimationFrame(() => {
          const rect = mark.getBoundingClientRect();
          const scrollY = window.scrollY || window.pageYOffset;
          const elementMiddle = rect.top + scrollY + rect.height / 2;
          const viewportMiddle = window.innerHeight / 2;

          const floatingBar = document.querySelector('.faq-search-bar.floating');
          const barHeight = floatingBar ? floatingBar.offsetHeight + 16 : 0;

          window.scrollTo({
            top: elementMiddle - viewportMiddle - barHeight,
            behavior: 'smooth'
          });
        });
      });
    }

    function highlightCurrent() {
      if (searchResults.length === 0) {
        resultIndexLabel.textContent = '0 / 0';
        return;
      }

      closeAllFaqs();

      const currentItem = searchResults[currentResult];
      const button = currentItem.querySelector('.faq-question');
      const answer = currentItem.querySelector('.faq-answer');

      button.setAttribute('aria-expanded', 'true');
      answer.style.maxHeight = answer.scrollHeight + 'px';

      // Warten bis das Accordion sich aufgebaut hat
      answer.removeEventListener('transitionend', answer._scrollHandler || (() => { }));

      const onTransitionEnd = () => {
        scrollToMarkInCurrentItem(currentItem);
        resultIndexLabel.textContent = `${currentResult + 1} / ${searchResults.length}`;
        answer.removeEventListener('transitionend', onTransitionEnd);
      };

      answer._scrollHandler = onTransitionEnd;
      answer.addEventListener('transitionend', onTransitionEnd);
    }

    function searchFaqs(keyword) {
      keyword = keyword.toLowerCase().trim();
      const keywordParts = keyword.split(/\s+/).filter(k => k.length > 1);
      searchResults = [];
      removeHighlights();

      faqItems.forEach(item => {
        const text = item.innerText.toLowerCase();
        const answer = item.querySelector('.faq-answer');
        const matches = keywordParts.some(k => text.includes(k));

        if (matches) {
          searchResults.push(item);
          highlightKeyword(answer, keyword);
        }
      });

      currentResult = 0;
      highlightCurrent();
    }

    searchInput.addEventListener('input', (e) => {
      const keyword = e.target.value.trim();

      if (keyword.length > 1) {
        searchFaqs(keyword);
        faqSearchBar.classList.add('floating');
      } else {
        searchResults = [];
        resultIndexLabel.textContent = '0 / 0';
        closeAllFaqs();
        removeHighlights();
        faqSearchBar.classList.remove('floating');
      }
    });

    prevBtn.addEventListener('click', () => {
      if (searchResults.length > 0) {
        currentResult = (currentResult - 1 + searchResults.length) % searchResults.length;
        highlightCurrent();
      }
    });

    nextBtn.addEventListener('click', () => {
      if (searchResults.length > 0) {
        currentResult = (currentResult + 1) % searchResults.length;
        highlightCurrent();
      }
    });

    // Floating-Suchleiste nur innerhalb FAQ-Sektion aktivieren
    window.addEventListener('scroll', () => {
      const sectionTop = faqSection.offsetTop;
      const sectionBottom = sectionTop + faqSection.offsetHeight;
      const scrollPos = window.scrollY;

      if (scrollPos >= sectionTop && scrollPos <= sectionBottom - 200 && searchInput.value.trim().length > 1) {
        faqSearchBar.classList.add('floating');
      } else {
        faqSearchBar.classList.remove('floating');
      }
    });

    // FAQ-Accordion manuelles Öffnen/Schließen
    document.querySelectorAll('.faq-question').forEach(button => {
      button.addEventListener('click', () => {
        const faqItem = button.closest('.faq-item');
        const answer = faqItem.querySelector('.faq-answer');
        const isExpanded = button.getAttribute('aria-expanded') === 'true';

        if (isExpanded) {
          button.setAttribute('aria-expanded', 'false');
          answer.style.maxHeight = null;
        } else {
          button.setAttribute('aria-expanded', 'true');
          answer.style.maxHeight = answer.scrollHeight + 'px';
        }
      });
    });
  </script>














<section class="angled-image-section">
  <!-- Overlay für diagonalen Hintergrund -->
  <div class="angled-bg-overlay" aria-hidden="true"></div>

  <figure class="angled-image-wrapper">
    <img
      src="./WebdesignPic/webgerade.webp"
      alt=""
      width="1920"
      height="1080"
      loading="lazy"
      decoding="async"
    />
  </figure>
</section>
<style>
  html, body {
    overflow-x: hidden;
  }

  :root {
    --angled-rotation: -4deg;
    --angled-width: 150vw;
    --angled-offset: -25vw;
  }

  .angled-image-section {
    position: relative;
    width: 100vw;
    overflow: visible;
    margin-top: 3rem;
    margin-bottom: -5rem;
    pointer-events: none;
    background: transparent;
    z-index: 10;
  }

  /* Gradient-Hintergrund hinter dem Bild */
  .angled-bg-overlay {
    position: absolute;
    inset: 0;
    z-index: 0;
    background: transparent;
  }

  .angled-image-wrapper {
    width: var(--angled-width);
    margin-left: var(--angled-offset);
    transform: rotate(var(--angled-rotation));
    position: relative;
    z-index: 1;
  }

  .angled-image-wrapper img {
    width: 100%;
    height: auto;
    display: block;
    z-index: 2;
    position: relative;
  }

  /* Section enger an den Footer rücken */
.angled-image-section {
  margin-top: 5rem; /* stärker ins Footer reinziehen */
  z-index: 0;
}

.footer-clean {
  margin-top: 0;
  position: relative;
  z-index: 75;
}

</style>



</body>
















<footer role="contentinfo" itemscope itemtype="https://schema.org/Organization" class="footer-clean" aria-label="Seitenende">
  <div class="fc-container">
    <!-- Head: Brand & Claim + CTA -->
    <section class="fc-head" aria-label="Markenbereich">
      <div class="fc-brand">
        <h2 class="fc-logo" itemprop="name" aria-label="Fusion hoch drei">Fusion³</h2>
        <p class="fc-claim">UX &amp; Webdesign – Nutzerzentriert. Visuell stark. Technisch fundiert.</p>
      </div>
      <div class="fc-cta">
        <a class="fc-btn" href="mailto:hello@fusion3.de" aria-label="Projekt anfragen per E-Mail">
          Projekt anfragen
        </a>
      </div>
    </section>

    <!-- Grid -->
    <nav class="fc-grid" aria-label="Footer-Navigation">
      <div class="fc-col">
        <h3 class="fc-col-title">Leistungen</h3>
        <ul class="fc-links">
          <li><a href="/ux-audit.html">UX-Audit</a></li>
          <li><a href="/webdesign.html">Webdesign</a></li>
          <li><a href="/prototyping.html">Prototyping</a></li>
          <li><a href="/design-system.html">Design-Systeme</a></li>
        </ul>
      </div>

      <div class="fc-col">
        <h3 class="fc-col-title">Ressourcen</h3>
        <ul class="fc-links">
          <li><a href="/cases.html">Case Studies</a></li>
          <li><a href="/blog.html">Insights &amp; Blog</a></li>
          <li><a href="/faq.html">FAQ</a></li>
          <li><a href="/kontakt.html">Termin buchen</a></li>
        </ul>
      </div>

      <div class="fc-col">
        <h3 class="fc-col-title">Rechtliches</h3>
        <ul class="fc-links">
          <li><a href="/impressum.html">Impressum</a></li>
          <li><a href="/datenschutz.html">Datenschutzerklärung</a></li>
          <li><a href="/cookies.html">Cookie-Hinweis</a></li>
        </ul>
      </div>

      <div class="fc-col">
        <h3 class="fc-col-title">Kontakt</h3>
        <ul class="fc-links">
          <li><a href="mailto:hello@fusion3.de" itemprop="email">hello@fusion3.de</a></li>
          <li><a href="tel:+491234567890" itemprop="telephone">+49&nbsp;123&nbsp;4567890</a></li>
          <li itemprop="address" itemscope itemtype="https://schema.org/PostalAddress" aria-label="Adresse">
            <span itemprop="addressLocality">Berlin</span>, <span itemprop="addressCountry">Deutschland</span>
          </li>
        </ul>

        <!-- Socials -->
        <div class="fc-socials" aria-label="Social Media">
          <a class="fc-social" href="mailto:hello@fusion3.de" aria-label="E-Mail">
            <img src="./FooterIcons/Gmail.png" alt="E-Mail" loading="lazy" decoding="async" width="20" height="20" />
          </a>
          <a class="fc-social fc-li" href="https://www.linkedin.com/" target="_blank" rel="noopener" aria-label="LinkedIn">
            <img src="./FooterIcons/LinkedIn.png" alt="LinkedIn" loading="lazy" decoding="async" width="20" height="20" />
          </a>
          <a class="fc-social fc-wa" href="https://wa.me/491234567890" target="_blank" rel="noopener" aria-label="WhatsApp">
            <img src="./FooterIcons/Whatsapp.svg" alt="WhatsApp" loading="lazy" decoding="async" width="20" height="20" />
          </a>
          <a class="fc-social fc-ig" href="https://www.instagram.com/" target="_blank" rel="noopener" aria-label="Instagram">
            <img src="./FooterIcons/instgram.jpg" alt="Instagram" loading="lazy" decoding="async" width="20" height="20" />
          </a>
        </div>
      </div>
    </nav>

    <!-- Bottom -->
    <div class="fc-legal" aria-label="Rechtliches & Hinweise">
      <p>© <span id="currentYear"></span> <span class="nowrap">Fusion³</span> · DSGVO-konform &amp; barrierearm entwickelt.</p>
    </div>
  </div>
</footer>
<style>
  /* ===== Tokens & Fluid Type (Light Defaults) ===== */
  :root{
    --fc-bg: #ffffff;
    --fc-fg: #0f1114;
    --fc-fg-muted: #535861;
    --fc-line: rgba(0,0,0,.08);
    --fc-maxw: 1240px;

    --fc-lh: 1.6;
    --fc-rad: 12px;
    --fc-s1: clamp(.5rem, .8vw, .75rem);
    --fc-s2: clamp(.9rem, 1.1vw, 1.1rem);
    --fc-s3: clamp(1.05rem, 1.4vw, 1.35rem);
    --fc-s4: clamp(1.6rem, 2.4vw, 2.2rem);
    --fc-s5: clamp(2.1rem, 3.5vw, 3rem);

    --fc-focus-color: #111;
    --fc-focus: 2px dashed var(--fc-focus-color);

    /* Button */
    --fc-btn-fg: #ffffff;
    --fc-btn-bg: var(--primary);
    --fc-btn-bg-hover: var(--primary);

    /* Socials */
    --fc-social-bg: #f5f5f5;
    --fc-social-bg-hover: #ececec;
    --fc-social-inset: rgba(0,0,0,.06);

    /* Link hover underline decoration */
    --fc-udc: currentColor;
    --fc-udt: 1.5px;
    --fc-udoff: 2px;
  }

  /* ===== Dark Mode via data-theme ===== */
  :root[data-theme="dark"]{
    --fc-bg: #0a0a0b;
    --fc-fg: #f5f7fa;
    --fc-fg-muted: #a8b0bb;
    --fc-line: rgba(255,255,255,.10);

    --fc-focus-color: #ff7a1a;

    /* Button in Dark: warme Verlauf-CTA */
    --fc-btn-fg: #ffffff;
  

    /* Socials in Dark */
    --fc-social-bg: #17191d;
    --fc-social-bg-hover: #1e2127;
    --fc-social-inset: rgba(255,255,255,.08);
  }

  /* ===== Auto-Mode: folgt System-Theme ===== */
  @media (prefers-color-scheme: dark){
    :root[data-theme="auto"]{
      --fc-bg: #0a0a0b;
      --fc-fg: #f5f7fa;
      --fc-fg-muted: #a8b0bb;
      --fc-line: rgba(255,255,255,.10);

      --fc-focus-color: #ff7a1a;

      --fc-btn-fg: #ffffff;
      --fc-btn-bg: linear-gradient(270deg,#ff6600,#ff944d,#ff6600);
      --fc-btn-bg-hover: linear-gradient(270deg,#ff6e11,#ff9f61,#ff6e11);

      --fc-social-bg: #17191d;
      --fc-social-bg-hover: #1e2127;
      --fc-social-inset: rgba(255,255,255,.08);
    }
  }

  /* ===== Rendering ===== */
  .footer-clean, .footer-clean *{
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  .footer-clean{
    margin-top: 0rem;
    background: var(--fc-bg);
    color: var(--fc-fg);
    padding-block: clamp(2rem, 4vw, 3.5rem) calc(clamp(1.5rem, 3vw, 2.5rem) + env(safe-area-inset-bottom));
    border-top: 1px solid var(--fc-line);
    line-height: var(--fc-lh);
  }

  .fc-container{
    max-width: var(--fc-maxw);
    margin-inline: auto;
    padding-inline: clamp(1rem, 5vw, 2rem);
    z-index: 10;
  }

  /* ===== Header ===== */
  .fc-head{
    display: grid;
    grid-template-columns: minmax(0, 1.2fr) minmax(0, .8fr);
    gap: clamp(.9rem, 2vw, var(--fc-s3));
    align-items: end;
    padding-bottom: clamp(1rem, 2vw, var(--fc-s3));
    border-bottom: 1px solid var(--fc-line);
  }
  @media (max-width: 900px){
    .fc-head{ grid-template-columns: 1fr; align-items: start; }
  }

  .fc-logo{
    margin: 0;
    font-weight: 900;
    letter-spacing: -0.02em;
    font-size: clamp(1.6rem, 5vw, 3rem);
    line-height: 1.08;
    word-break: break-word;
  }
  .fc-claim{
    margin: .55rem 0 0;
    font-size: var(--fc-s2);
    color: var(--fc-fg-muted);
    max-width: 65ch;
  }

  .fc-cta{ justify-self: end; text-align: right; }
  @media (max-width: 900px){ .fc-cta{ justify-self: start; text-align: left; } }

  .fc-btn{
    display: inline-flex; gap: .55rem; align-items: center; justify-content: center;
    padding: .85rem 1rem;
    border-radius: var(--fc-rad);
    background: var(--fc-btn-bg);
    color: var(--fc-btn-fg);
    text-decoration: none;
    font-weight: 800; letter-spacing: .01em;
    transition: transform .18s ease, background .18s ease, box-shadow .18s ease;
    will-change: transform;
    box-shadow: 0 2px 8px #555;
  }
  .fc-btn:hover{ transform: translateY(-1px); background: var(--fc-btn-bg-hover); }
  .fc-btn:focus-visible{ outline: var(--fc-focus); outline-offset: 4px; }
  .fc-btn svg{ width: 18px; height: 18px; flex: 0 0 18px; }

  /* ===== Grid ===== */
  .fc-grid{
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(min(220px, 100%), 1fr));
    gap: clamp(1rem, 3vw, var(--fc-s4));
    padding-top: clamp(1.25rem, 3vw, var(--fc-s4));
  }

  .fc-col{ min-width: 0; }

  .fc-col-title{
    margin: 0 0 .6rem 0;
    font-size: .92rem;
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: .08em;
  }

  .fc-links{
    list-style: none;
    margin: 0;
    padding: 0;
    display: grid;
    gap: .5rem;
  }
  .fc-links a{
    display: inline-block;
    color: var(--fc-fg);
    font-size: .95rem;
    text-decoration: none;
    transition: color .18s ease, transform .18s ease, text-underline-offset .18s ease;
    word-break: break-word;
    text-decoration-thickness: var(--fc-udt);
    text-underline-offset: var(--fc-udoff);
  }
  .fc-links a:hover{
    color: var(--fc-fg-muted);
    transform: translateX(2px);
    text-decoration: underline;
  }
  .fc-links a:focus-visible{ outline: var(--fc-focus); outline-offset: 3px; }

  /* ===== Socials ===== */
  .fc-socials{
    display: grid;
    grid-template-columns: repeat( auto-fill, minmax(44px, 1fr) );
    gap: .65rem;
    margin-top: 1rem;
    align-items: center;
  }
  @media (max-width: 420px){ .fc-socials{ gap: .55rem; } }

  .fc-social{
    position: relative;
    display: grid; place-items: center;
    width: 44px; height: 44px;
    border-radius: 999px;
    background: var(--fc-social-bg);
    text-decoration: none;
    box-shadow: inset 0 0 0 1px var(--fc-social-inset);
    transition: transform .18s ease, background .18s ease, box-shadow .18s ease;
  }
  .fc-social:hover{
    transform: translateY(-1px);
    background: var(--fc-social-bg-hover);
    box-shadow: inset 0 0 0 1px color-mix(in oklab, var(--fc-social-inset) 80%, transparent);
  }
  .fc-social:focus-visible{ outline: var(--fc-focus); outline-offset: 3px; }
  .fc-social img{
    width: 20px; height: 20px; display: block;
    pointer-events: none; -webkit-user-drag: none; user-select: none;
  }
  .fc-li:hover{ background: color-mix(in oklab, #0a66c2 20%, var(--fc-social-bg-hover)); }
  .fc-wa:hover{ background: color-mix(in oklab, #25D366 20%, var(--fc-social-bg-hover)); }
  .fc-ig:hover{ background: color-mix(in oklab, #d62976 18%, var(--fc-social-bg-hover)); }

  /* ===== Legal ===== */
  .fc-legal{
    margin-top: clamp(1.25rem, 3vw, var(--fc-s4));
    padding-top: clamp(.9rem, 2vw, var(--fc-s3));
    border-top: 1px solid var(--fc-line);
    color: var(--fc-fg-muted);
    font-size: .95rem;
    text-align: center;
    word-break: break-word;
  }
  .nowrap{ white-space: nowrap; }

  /* ===== Accessibility & Motion ===== */
  @media (prefers-reduced-motion: reduce){
    .fc-btn, .fc-links a, .fc-social{ transition: none !important; }
    .fc-btn:hover, .fc-links a:hover, .fc-social:hover{ transform: none !important; }
  }

  /* ===== XS Phones (≤320px) ===== */
  @media (max-width: 320px){
    .fc-btn{ padding: .75rem .9rem; }
    .fc-logo{ font-size: clamp(1.4rem, 8vw, 1.8rem); }
    .fc-social{ width: 42px; height: 42px; }
  }

  /* Screenreader-only */
  .sr-only{
    position: absolute !important; width: 1px; height: 1px;
    padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0);
    white-space: nowrap; border: 0;
  }
</style>
<script>
  (function(){
    var el = document.getElementById('currentYear');
    if (el) el.textContent = new Date().getFullYear();
  })();
</script>
