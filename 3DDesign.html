<!DOCTYPE html>
<html lang="de" data-theme="auto">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fusion³ – UX & Webdesign Studio</title>
  <meta name="description" content="Fusion³ ist dein Partner für UX-Design, Webdesign & Prototyping. Wir gestalten digitale Erlebnisse mit Substanz." />

  <!-- Google Fonts Optimierung -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&display=swap">
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&display=swap" rel="stylesheet" media="all" onload="this.media='all'">
  <noscript>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&display=swap" rel="stylesheet">
  </noscript>

  <!-- Lokale Fonts optimieren -->
  <link rel="preload" as="style" href="./fonts/fonts.css">
  <link rel="stylesheet" href="./fonts/fonts.css" media="print" onload="this.media='all'">
  <noscript><link rel="stylesheet" href="./fonts/fonts.css"></noscript>

  <!-- Optional Scripts (lassen wir drin; keine Abhängigkeit) -->
  <script type="module" src="https://unpkg.com/feather-icons" defer></script>
  <script nomodule src="feather-icons.legacy.js"></script>
  <script src="https://unpkg.com/scrollreveal" defer></script>

  <!-- Analytics Beispiel (unverändert) -->
  <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
      c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
      t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
      y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "t1mbvlhldj");
  </script>

  <!-- ===============================
       GLOBAL CSS
       =============================== -->
  <style>
    :root{
      --accent:#0062ff;
      --text:#111;
      --muted:#555;
      --border:rgba(0,0,0,.08);
      --surface:#ffffff;
  --container-width: min(95vw, 1340px);
      --header-pad-y: .75rem;
      --radius: 12px;

      --primary: #ff4d00;
      --secondary: #ff9900;
    }
    /* Dark Theme Tokens */
    @media (prefers-color-scheme: dark){
      :root{
        --text:#f5f7fa;
        --muted:#b7bec7;
        --border:rgba(255,255,255,.12);
        --surface:#000000;
      }
    }
    :root[data-theme="dark"]{
      --text:#f5f7fa;
      --muted:#b7bec7;
      --border:rgba(255,255,255,.12);
      --surface:#000000;
    }

    *{margin:0;padding:0;box-sizing:border-box}
    html,body{
      font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial,sans-serif;
      background:#fff; /* via data-theme dunkler */
      color:var(--text);
      scroll-behavior:smooth;
    }
    :root[data-theme="dark"] body{ background:#000000; }

    a{color:inherit;text-decoration:none;transition:color .2s ease,opacity .2s ease}
    h1,h2,h3,h4{font-weight:900;letter-spacing:-.02em}
    .container{max-width:var(--container-width);margin:0 auto;padding:5rem 2rem}
    .section-title{font-size:clamp(2rem, 1.2rem + 2.4vw, 2.8rem);text-align:center;margin-bottom:.5rem;color:var(--text);font-weight:700;letter-spacing:-.02em}

    /* Skip-Link */
    .skip-link{
      position:absolute; left:-9999px; top:auto; z-index:1000;
    }
    .skip-link:focus{
      left:auto; top:.5rem; inset-inline-start:.5rem;
      background:#000; color:#fff; padding:.5rem .75rem; border-radius:.5rem;
    }

    /* ===== HERO (Video) ===== */
    main{ display:block; }

    .hero-video-wrapper {
      position: relative;
      /* Reihenfolge = bestes Fallback */
      min-height: 100vh;
      min-height: 100dvh;
      min-height: 100svh;
      width: 100%;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      background-color: #000;
      /* Fallback-Bilder */
      background: #000 url('./IndexM/PC.webp') center center / cover no-repeat;
    }
    /* Tablet Fallback-Bild */
    @media (max-width: 1024px) {
      .hero-video-wrapper { background-image: url('./IndexM/Tablet.webp'); }
    }
    /* Smartphone Fallback-Bild */
    @media (max-width: 480px) {
      .hero-video-wrapper { background-image: url('./IndexM/handy.webp'); }
    }

    .hero-video-content {
      position: relative;
      z-index: 2;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 3rem 2rem;
      max-width: 800px;
      width: 100%;
      color: #ffffff;
      text-align: center;
      border-radius: 12px;
      background-color: #2a2a2a63; /* semitransparent, kein Verlauf */
      margin-top: -5rem;
    }
    .hero-video-content::before { content: none !important; }

    .video-background {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;
      z-index: 0;
      pointer-events: none;
    }

    .hero-video-content h1 {
      font-size: 3.8rem;
      line-height: 1.1;
      margin-bottom: 1.2rem;
      color: #ffffff;
    }
    .hero-video-content p {
      font-size: 1.3rem;
      line-height: 1.6;
      color: rgba(255, 255, 255, 0.85);
    }

    .cta-btn {
      background: linear-gradient(to right, var(--primary), var(--secondary));
      color: #fff;
      font-weight: 700;
      padding: 1rem 2.2rem;
      border-radius: 12px;
      font-size: 1rem;
      text-transform: uppercase;
      margin-top: 2rem;
      border: none;
      box-shadow: 0 0 12px rgba(255, 102, 0, 0.3),
                  0 0 24px rgba(255, 102, 0, 0.25);
      transition: all 0.3s ease;
      display: inline-block;
      text-decoration: none;
    }
    .cta-btn:hover,
    .cta-btn:focus {
      background: var(--secondary);
      color: #000;
      transform: scale(1.03);
      cursor: pointer;
      outline: 2px solid var(--primary);
      outline-offset: 4px;
    }

    .video-fallback-image {
      position: absolute; inset: 0;
      width: 100%; height: 100%;
      object-fit: cover; object-position: center;
      z-index: 0; pointer-events: none;
    }

    /* Typo/Spacing – Responsiv */
    @media (max-width: 1024px) {
      .hero-video-content { padding: 2rem; }
      .hero-video-content h1 { font-size: 3rem; }
      .hero-video-content p  { font-size: 1.1rem; line-height: 1.5; }
    }
    @media (max-width: 768px) {
      .hero-video-content { padding: 1.5rem; margin-top: 0; }
      .hero-video-content h1 { font-size: 2.2rem; line-height: 1.2; }
      .hero-video-content p  { font-size: 1rem; line-height: 1.4; }
      .cta-btn { font-size: 0.95rem; padding: 0.75rem 1.5rem; width: auto; max-width: 90%; margin: 1.5rem auto 0; }
    }
    @media (max-width: 480px) {
      .hero-video-content h1 { font-size: 1.6rem; line-height: 1.3; }
      .hero-video-content p  { font-size: 0.95rem; }
    }
    @media (max-width: 425px) {
      .cta-btn {
        width: 100%; max-width: 180px; font-size: 0.9rem;
        padding: 0.9rem 1.2rem; text-align: center; margin-left: auto; margin-right: auto;
      }
    }

    /* ===== Hero-Video: „immer 100% höhe“ & Beschnitt-Regeln ===== */

    /* Mobile: Hero bleibt 100vh/dvh/svh */
    @media (max-width: 768px) {
      .hero-video-wrapper {
        min-height: 100vh;
        min-height: 100dvh;
        min-height: 100svh;
      }
    }

    /* Desktop ≥ 1025px: Video 10% höher, seitlich beschnitten */
    @media (min-width: 1025px) {
      .video-background {
        top: 50%; left: 50%;
        width: auto;
        height: 110%;
        transform: translate(-50%, -50%);
        object-fit: contain; /* wir steuern Größe selbst */
      }
    }

    /* iPad quer / mittlere Geräte: 832–1024px Breite UND Höhe unter 833px */
    @media (min-width: 832px) and (max-width: 1024px) and (max-height: 832px) {
      .video-background {
        top: 50%; left: 50%;
        width: auto;
        height: 110%;
        transform: translate(-50%, -50%);
        object-fit: contain;
      }
    }
  </style>

<style>/* ===== Section Headings – Root Tokens ===== */
:root{
  /* Title */
  --sec-title-fs: clamp(2rem, 1.5rem + 2vw, 3rem);
  --sec-title-fw: 900;
  --sec-title-ls: -0.02em;
  --sec-title-mb: 0rem;
  --sec-title-color: var(--text-main, #1c1c1e);

  /* Subtitle */
  --sec-sub-fs: 1.1rem;
  --sec-sub-color: #666;
  --sec-sub-mb: 2rem;
  --sec-sub-lh: 1.5;
  --sec-sub-max: 65ch;
}

/* ===== Utilities (kannst du überall verwenden) ===== */
.section-title{
  font-size: var(--sec-title-fs);
  font-weight: var(--sec-title-fw);
  letter-spacing: var(--sec-title-ls);
  margin: 0 0 var(--sec-title-mb);
  color: var(--sec-title-color);
  text-align: center; /* optional, rausnehmen wenn nicht gewünscht */
}

.section-subtitle{
  font-size: var(--sec-sub-fs);
  color: var(--sec-sub-color);
  margin: 0 0 var(--sec-sub-mb);
  line-height: var(--sec-sub-lh);
  max-width: var(--sec-sub-max);
  margin-inline: auto;
  text-align: center; /* optional */
}

/* ===== Optional: bestehende Klassen aliasen ===== */
:is(.persona-title)   { all: unset; display:block; }
:is(.persona-subline) { all: unset; display:block; }

/* Fallback ohne PostCSS "composes": dupliziere die Regeln */
.persona-title{
  font-size: var(--sec-title-fs);
  font-weight: var(--sec-title-fw);
  letter-spacing: var(--sec-title-ls);
  margin: 0 0 var(--sec-title-mb);
  color: var(--sec-title-color);
  text-align: center;
}
.persona-subline{
  font-size: var(--sec-sub-fs);
  color: var(--sec-sub-color);
  margin: 0 0 var(--sec-sub-mb);
  line-height: var(--sec-sub-lh);
  max-width: var(--sec-sub-max);
  margin-inline: auto;
  text-align: center;
}

/* ===== Dark / Auto-Dark ===== */
:root[data-theme="dark"] .section-title,
:root[data-theme="dark"] .persona-title{ color:#fff; }

:root[data-theme="dark"] .section-subtitle,
:root[data-theme="dark"] .persona-subline{ color:#fff; }

@media (prefers-color-scheme: dark){
  :root[data-theme="auto"] .section-title,
  :root[data-theme="auto"] .persona-title{ color:#fff; }
  :root[data-theme="auto"] .section-subtitle,
  :root[data-theme="auto"] .persona-subline{ color:#fff; }
}
</style>
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/denizs-dapper-site-2d192b.webflow.css" rel="stylesheet" type="text/css">
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>



  <body data-page="3ddesign">

<style>
/* --------------------------
   Lokale Bild-Overrides nur für 3DDesign.html
--------------------------- */
body[data-page="3ddesign"] .hero-image-background {
  background-image: url("./images/hero-bg-sky_1hero-bg-sky.webp");
  background-size: cover;
  background-position: center;
}

body[data-page="3ddesign"] .hero-image-foreground {
  background-image: url("./images/3ddesign-fg.webp");
  background-size: contain;
  background-repeat: no-repeat;
}

/* Optional: Mobile- oder Tablet-Varianten */
@media (max-width: 1024px) {
  body[data-page="3ddesign"] .hero-image-background {
    background-image: url("./images/3ddesign-bg-tablet.webp");
  }
}
@media (max-width: 480px) {
  body[data-page="3ddesign"] .hero-image-background {
    background-image: url("./images/3ddesign-bg-mobile.webp");
  }
}
</style>


</head>




<body>
  <a class="skip-link" href="#main">Zum Inhalt springen</a>


<style>
/* === BASIS ================================================================= */
.site-header{
  position:sticky; top:0; z-index:50;
  background:rgba(255,255,255,.9);
  border-bottom:1px solid var(--border);
  padding-top:max(0px, env(safe-area-inset-top));
  transition:box-shadow .2s ease, background-color .2s ease, padding .2s ease;
}
@supports(backdrop-filter: blur(8px)){
  .site-header{ backdrop-filter:saturate(1.1) blur(8px); background:color-mix(in oklab, var(--surface) 88%, transparent); }
}
.site-header.is-scrolled{ box-shadow: 0 6px 24px rgba(0,0,0,.08); }

.site-header__bar{
  max-width:var(--container-width);
  margin:0 auto;
  padding:var(--header-pad-y) clamp(6px,5vw,10px);
  display:grid;
  grid-template-columns:auto 1fr auto; /* Brand | Nav | Actions */
  align-items:center;
  gap:1rem;
}

.brand{
  font-size:clamp(1.1rem, 2vw, 1.4rem);
  font-weight:900; letter-spacing:0.02em;
  color:var(--text);
  display:inline-flex; align-items:center; gap:.5rem;
  white-space:nowrap; text-decoration:none;
}

/* Actions (CTA + Theme) */
.header-actions{ display:inline-flex; align-items:center; gap:.5rem; }
.button-cta{
  padding:.6rem .9rem; border-radius:var(--radius); font-weight:600;
  background:var(--primary); color:#fff; text-decoration:none; line-height:1;
  min-height:44px; display:inline-flex; align-items:center; justify-content:center;
}
/* CTA-Button global */
.button-cta{ background: var(--primary) !important; }

/* Toggle (Burger/X) */
.site-nav-toggle{
  appearance:none; border:1px solid var(--border); background:var(--surface);
  border-radius:var(--radius); padding:.5rem .6rem; line-height:1; cursor:pointer;
  display:inline-flex; align-items:center; gap:.5rem; justify-self:end; min-width:44px; min-height:44px;
  color:var(--text);
}
.site-nav-toggle:focus-visible{outline:2px solid color-mix(in oklab, var(--text) 20%, transparent); outline-offset:2px}
.site-nav-toggle .icon{ width:22px; height:22px; }
.site-nav-toggle .icon-close{ display:none; }
.site-nav-toggle[aria-expanded="true"] .icon-burger{ display:none; }
.site-nav-toggle[aria-expanded="true"] .icon-close{ display:inline; }

/* NAV – Basis */
.site-nav{ width:100%; }
.site-nav__list{ list-style:none; padding:0; margin:0; }
.site-nav__item{ position:relative; border:0; }
.site-nav__link{
  display:block; text-decoration:none;
  font-weight:500; color:var(--muted);
  white-space:nowrap; text-align:center;
  padding:0.85rem 1rem; min-height:44px; line-height:44px;
  position:relative;
}
.site-nav__link:hover,
.site-nav__link:focus-visible{ color:var(--text); }
.site-nav__link[aria-current="page"],
.site-nav__link[data-active]{ color:var(--text); font-weight:600; }
.site-nav__link::after{
  content:""; position:absolute; left:10px; right:10px; bottom:6px;
  height:2px; background:currentColor; opacity:0; transform:scaleX(.6);
  transition:opacity .18s ease, transform .18s ease;
}
@media(hover:hover){
  .site-nav__link:hover::after,
  .site-nav__link:focus-visible::after,
  .site-nav__link[aria-current="page"]::after,
  .site-nav__link[data-active]::after{ opacity:.75; transform:scaleX(1); }
}

/* Mobile Menüs */
@media (max-width:479px){
  .site-nav{
    display:flex; flex-direction:column;
    position:fixed; inset:var(--header-height) 0 0;
    background:var(--surface);
    transform:translateY(-8px); opacity:0; pointer-events:none;
    transition:transform .18s ease, opacity .18s ease;
    height:calc(100dvh - var(--header-height));
  }
  .site-nav.is-open{ transform:translateY(0); opacity:1; pointer-events:auto; }
  .site-nav__list{
    display:grid; grid-template-columns:1fr; gap:0;
    padding:.25rem clamp(16px,5vw,40px) .75rem;
    flex:1 1 auto; overflow:auto;
  }
  .site-nav__link{ padding:0.95rem 0; font-size:1rem; line-height:1.4; min-height:auto; }
  .header-actions .button-cta{ display:none; }
}
.nav-overlay{ position:fixed; inset:var(--header-height) 0 0; background:rgba(0,0,0,.28); opacity:0; pointer-events:none; transition:opacity .18s ease; }
.nav-overlay.is-open{ opacity:1; pointer-events:auto; }

@media (min-width:480px) and (max-width:767px){
  .site-nav{
    display:flex; flex-direction:column;
    position:fixed; inset:var(--header-height) 0 0;
    background:var(--surface);
    transform:translateY(-8px); opacity:0; pointer-events:none;
    transition:transform .18s ease, opacity .18s ease;
    height:calc(100dvh - var(--header-height));
  }
  .site-nav.is-open{ transform:translateY(0); opacity:1; pointer-events:auto; }
  .site-nav__list{
    display:flex; flex-direction:column; gap:0;
    padding:.5rem clamp(16px,6vw,48px) .75rem;
    flex:1 1 auto; overflow:auto;
  }
  .site-nav__link{ padding:.8rem 0; }
  .header-actions .button-cta{ display:none; }
}

/* Tablet & Desktop */
@media (min-width:768px){
  .site-nav-toggle{ display:none; }
  .site-nav{ display:block; position:static; transform:none; opacity:1; pointer-events:auto; background:transparent; width:auto; height:auto; }
  .site-nav__list{ display:flex; gap:0; padding:0; align-items:center; justify-content:center; overflow:visible; }
  .site-nav__item{ border:0; }
  .site-nav__link{ padding:.85rem 1.05rem; color:var(--muted); min-height:auto; line-height:normal; }
  .header-actions{ display:inline-flex; }
}

/* Fokus-Stile */
.site-nav__link:focus-visible{ outline:2px solid color-mix(in oklab, currentColor 60%, transparent); outline-offset:3px; border-radius:8px; }

/* Scroll-Lock */
.nav-lock, .nav-lock body{ overflow:hidden; }

/* Mobile CTA Container */
.site-nav__mobile-actions{ display:none; }
@media (max-width:767px){
  .site-nav__mobile-actions{
    display:grid; grid-template-columns: 1fr; gap:.75rem;
    padding:.75rem clamp(16px,6vw,48px) 1rem; background:inherit;
    margin-top:auto; border-top:none !important;
  }
  .site-nav__mobile-actions .button-cta{ width:100%; min-height:44px; }
}

/* THEME */
:root:not([data-theme="dark"]) .site-nav.is-open{ background:#fff; }
:root:not([data-theme="dark"]) .site-nav__link{ color:#111; }
:root:not([data-theme="dark"]) .site-nav__link[aria-current="page"],
:root:not([data-theme="dark"]) .site-nav__link[data-active]{ color:#000; }
:root:not([data-theme="dark"]) .site-nav-toggle{ color:#111; border-color:var(--border); background:#fff; }
[data-theme="dark"] .site-nav.is-open{ background:#000; }
[data-theme="dark"] .site-nav__link{ color:#fff; }
[data-theme="dark"] .site-nav__link::after{ background:#fff; }
[data-theme="dark"] .site-nav__link[aria-current="page"],
[data-theme="dark"] .site-nav__link[data-active]{ color:#fff; }
[data-theme="dark"] .site-nav-toggle{ color:#fff; border-color:rgba(255,255,255,.25); background:#111; }
[data-theme="dark"] .nav-overlay.is-open{ background:rgba(0,0,0,.6); }

/* Kompaktere Abstände Mobile */
@media (max-width: 767px){
  .site-nav__list{ padding: .25rem clamp(16px,5vw,40px) .5rem; }
  .site-nav__link{ padding: .5rem 0; line-height: 1.25; min-height: 40px; font-size: .98rem; }
  .site-nav__link::after{ bottom:4px; height:2px; opacity:.6; }
  .site-nav__item + .site-nav__item{ border-top:none !important; }
}
@media (max-width: 479px){
  .site-nav__list{ padding:.2rem clamp(14px,5vw,36px) .45rem; }
  .site-nav__link{ padding:.45rem 0; font-size:.95rem; min-height:38px; }
}

/* Mobile Subnav Grundlayout */
@media (max-width: 767px){
  .site-nav__item{ display:block; position:relative; }
  .site-nav__item > .site-nav__link{ text-align:center !important; padding-right: 2.5rem; }
  .site-subtoggle{
    position:absolute; right: clamp(16px,5vw,40px); top:50%; transform:translateY(-50%);
    appearance:none; border:0; background:transparent; padding:.25rem; line-height:1; cursor:pointer;
    display:inline-flex; align-items:center; justify-content:center;
    min-width:36px; min-height:36px; border-radius:8px; color:var(--muted);
  }
  .site-subtoggle svg{ width:18px; height:18px; transition:transform .18s ease, color .18s ease; }
  .site-subtoggle[aria-expanded="true"] svg{ transform:rotate(180deg); color:var(--text); }
  .site-subnav{ list-style:none; padding:0; margin:.2rem 0 .4rem; }
  .site-nav__link--sub{
    text-align:left; padding:.35rem 0 .35rem 1rem;
    line-height:1.25; min-height:36px; font-size:.95rem;
    color: color-mix(in oklab, var(--muted) 90%, var(--text) 10%);
  }
  .site-nav__link--sub:hover, .site-nav__link--sub:focus-visible{ color:var(--text); }
}

/* Pill/Active im Mobile, Trenner etc. */
@media (max-width:767px){
  .site-nav__item{ display:grid; grid-template-columns: 1fr auto; align-items:center; border-bottom:1px solid color-mix(in oklab, var(--muted) 12%, transparent); }
  .site-nav__item:last-child{ border-bottom:0; }
  .site-nav__item > .site-nav__link{ text-align:left !important; padding: 0.85rem clamp(16px,6vw,24px); padding-right: 3.25rem; line-height:1.3; }
  .site-subtoggle{ position:static; transform:none; margin-right: clamp(12px,5vw,24px); color: var(--muted); }
  .site-subtoggle:hover{ color: var(--text); }
  .site-nav__link[aria-current="page"],
  .site-nav__link[data-active]{ background: color-mix(in oklab, var(--accent) 9%, transparent); color: var(--text); border-radius:12px; }
  .site-nav__link::after{ display:none; }
}

/* Subnav Kompaktheit + Einblendung */
@media (max-width:767px){
  .site-subnav{ margin: .25rem 0 .6rem; padding-left: clamp(18px, 7vw, 28px); border-left: 2px solid color-mix(in oklab, var(--muted) 20%, transparent); }
  .site-nav__link--sub{ padding: .45rem 0; font-size: .96rem; color: color-mix(in oklab, var(--text) 70%, var(--muted) 30%); }
  .site-subnav[hidden]{ display:block !important; height:0; overflow:hidden; opacity:0; }
  .site-subnav:not([hidden]){ animation: subreveal .18s ease-out; }
  @keyframes subreveal { from{ opacity:0; height:0 } to{ opacity:1; height:auto } }
  .site-nav__link{ padding-top:.9rem; padding-bottom:.9rem; }
  .site-nav__mobile-actions{
    position:sticky; bottom:0;
    padding: .85rem clamp(16px,6vw,24px) calc(.85rem + env(safe-area-inset-bottom));
    background: inherit; box-shadow: 0 -8px 24px rgba(0,0,0,.08);
  }
  .site-nav__mobile-actions .button-cta{ font-size:1rem; font-weight:700; border-radius: 12px; }
  .site-nav__item > .site-nav__link{ font-weight: 750; font-size: 1.08rem; letter-spacing: .1px; }
}
[data-theme="dark"] .site-nav.is-open{ background:#000000; }
@media (max-width:767px){
  [data-theme="dark"] .site-nav__item{ border-bottom:1px solid rgba(255,255,255,.07); }
  [data-theme="dark"] .site-subnav{ border-left-color: rgba(255,255,255,.12); }
}

/* Zusätzliche Feinheiten Mobile */
@media (max-width:767px){
  .site-subnav{ margin: .15rem 0 .5rem; padding-left: clamp(16px,6vw,24px); border-left: 2px solid color-mix(in oklab, var(--muted) 22%, transparent); }
  .site-nav__link--sub{ padding: .4rem 0; font-size: .96rem; }
  .site-nav__item.is-open > .site-nav__link{ padding-bottom: .35rem; }
  .site-nav__item.is-open .site-subnav{ margin-top: .1rem; }
}

/* CTA Effekte/States */
.button-cta { text-rendering: optimizeLegibility; -webkit-font-smoothing: antialiased; }
@media (hover:hover){
  .button-cta:hover{ transform: translateY(-1px); box-shadow: var(--cta-shadow-hover), inset 0 0 0 1px rgba(255,255,255,.08); }
  .button-cta:active{ transform: translateY(0); box-shadow: var(--cta-shadow); }
}
.button-cta:focus-visible{
  outline: none;
  box-shadow:
    0 0 0 3px color-mix(in oklab, var(--cta-focus) 70%, transparent),
    0 0 0 6px color-mix(in oklab, var(--cta-focus) 25%, transparent),
    var(--cta-shadow);
}
.button-cta__icon{ width: 1.15em; height: 1.15em; flex: 0 0 auto; transform: translateX(0); transition: transform .18s ease; }
@media(hover:hover){ .button-cta:hover .button-cta__icon{ transform: translateX(2px); } }
@media (prefers-contrast: more){
  .button-cta{ box-shadow: 0 0 0 2px color-mix(in oklab, #000 20%, var(--cta-bg)); }
  .button-cta:focus-visible{ box-shadow: 0 0 0 3px #fff, 0 0 0 6px color-mix(in oklab, var(--cta-bg) 60%, #000 40%); }
}
[data-theme="dark"] .button-cta{ --cta-shadow: 0 10px 24px rgba(0,0,0,.36); --cta-shadow-hover: 0 14px 34px rgba(0,0,0,.46); }
.button-cta::before{
  content:""; position:absolute; inset:0; border-radius:inherit; z-index:0;
  background: radial-gradient(120% 140% at 0% 0%, rgba(255,255,255,.22), rgba(255,255,255,.08) 35%, transparent 60%);
  mix-blend-mode: soft-light; pointer-events:none; opacity:.95;
}
.button-cta > *{ position:relative; z-index:1; }
.button-cta .cta-ripple{
  position:absolute; inset:auto; border-radius:50%;
  pointer-events:none; transform: translate(-50%, -50%) scale(0);
  opacity:.5; filter:saturate(120%);
  background: radial-gradient(circle at center, rgba(255,255,255,.55), rgba(255,255,255,.22), rgba(255,255,255,0) 70%);
}
.button-cta .cta-ripple.is-anim{ animation: ctaRipple .6s ease-out forwards; }
@keyframes ctaRipple{ to{ transform: translate(-50%, -50%) scale(20); opacity:0; } }
@media (prefers-reduced-motion: reduce){
  .button-cta .cta-ripple{ display:none !important; }
  .button-cta{ transition: box-shadow .01ms, transform .01ms; }
}
.button-cta[aria-busy="true"]{ cursor: progress; filter: saturate(.9) brightness(.96); }
.button-cta[aria-busy="true"] .button-cta__label{ opacity:.0; }
.button-cta[aria-busy="true"] .button-cta__icon{ opacity:0; }
.button-cta[aria-busy="true"]::after{
  content:""; position:absolute; inset:0; display:block; margin:auto;
  width:1.25rem; height:1.25rem; border-radius:50%;
  border: 2px solid rgba(255,255,255,.55);
  border-top-color: rgba(255,255,255,0);
  animation: ctaSpin .9s linear infinite; z-index:2;
}
@keyframes ctaSpin{ to{ transform: rotate(360deg); } }
.button-cta[aria-disabled="true"], .button-cta.is-disabled{ opacity:.58; cursor:not-allowed; pointer-events:none; }
.button-cta--lg{ padding: .9rem 1.1rem; font-size:1.05rem; }
.button-cta--sm{ padding: .55rem .8rem; font-size:.92rem; }
.header-actions .button-cta{ white-space:nowrap; }

/* === ÜBERNAHMEN/OVERRIDES AUS DEM UNTEREN BLOCK ================================= */
/* Header-Actions rechtsbündig + Reihenfolge */
.header-actions{ justify-content:flex-end; gap:.5rem; }
.header-actions .toggle{ order:0; }
.header-actions .button-cta{ order:1; }

/* Mobile Subnav – enger und ohne Trennlinie zwischen Oberpunkt/Subnav */
@media (max-width:767px){
  .site-nav__item.is-open > .site-subnav{ margin-top: -2rem !important; }
  .site-nav__item.is-open > .site-nav__link,
  .site-nav__item:has(.site-subtoggle[aria-expanded="true"]) > .site-nav__link{ padding-bottom: .18rem !important; }
  .site-subnav{ margin: .08rem 0 .38rem !important; padding-left: clamp(16px,6vw,24px); border-left: 2px solid color-mix(in oklab, var(--muted) 22%, transparent); }
  .site-nav__link--sub{ padding: .35rem 0 !important; }
  .site-nav__item.is-open{ border-bottom: 0 !important; }
}

/* Tablet 768–1023px: kompakter, einzeilig, ggf. Scrollen */
@media (min-width:768px) and (max-width:1023px){
  .site-nav__list{ flex-wrap: nowrap !important; justify-content: flex-start; gap: .25rem !important; overflow-x:auto; -webkit-overflow-scrolling:touch; scrollbar-width:none; }
  .site-nav__list::-webkit-scrollbar{ display:none; }
  .site-nav__link{ padding:.56rem .68rem !important; font-size:.80rem !important; line-height:1.15 !important; }
  .site-header__bar{ grid-template-columns: auto minmax(0,1fr) auto !important; gap:.5rem !important; }
  .brand{ flex-shrink:0 !important; white-space:nowrap !important; margin-right: clamp(8px,2vw,16px) !important; font-size: clamp(1.05rem, 1.6vw, 1.25rem) !important; line-height:1 !important; }
  .site-nav{ min-width:0 !important; justify-self:end !important; margin-left: clamp(10px, 2.5vw, 28px) !important; }
  .site-subtoggle{ display:none !important; } /* Platz sparen */
  .header-actions{ gap:.35rem !important; }
  .header-actions .button-cta{ font-size:.80rem !important; padding:.55rem .85rem !important; min-height:38px !important; border-radius:10px !important; margin:0 !important; white-space:nowrap !important; }
}

/* Desktop/Tablet: Dropdown sichtbar & 90% Deckkraft, saubere Trenner */
@media (min-width:768px){
  .site-subtoggle{ display:inline-flex !important; appearance:none; border:0; background:transparent; cursor:pointer; padding:.25rem; line-height:1; color:var(--muted); }
  .site-subtoggle svg{ width:16px; height:16px; transition:transform .18s ease, color .18s ease; }
  .site-subtoggle[aria-expanded="true"] svg{ transform:rotate(180deg); color:var(--text); }

  .site-nav__item{ display:inline-flex; align-items:center; position:relative; }
  .site-nav__item > .site-nav__link{ padding-right:.25rem; }

  .site-subnav{
    position:absolute; left:0; top:calc(100% + 8px);
    min-width: 240px; max-width:420px;
    padding:.5rem 0 !important;
    background: rgba(0,0,0,.9) !important; color:#fff;
    border-radius:12px; border:1px solid rgba(255,255,255,.10) !important;
    box-shadow:0 14px 34px rgba(0,0,0,.36);
    display:none; z-index:2000 !important;
  }
  .site-subnav::before{
    content:""; position:absolute; top:-6px; left:14px; width:12px; height:12px;
    background: rgba(0,0,0,.9) !important;
    transform:rotate(45deg);
    border-left:1px solid rgba(255,255,255,.10) !important;
    border-top:1px solid rgba(255,255,255,.10) !important;
  }
  .site-subnav li{ list-style:none; margin:0; }
  .site-subnav li + li{ border-top:1px solid rgba(255,255,255,.12); }
  .site-nav__link--sub{
    display:block; text-align:left !important;
    padding:.6rem .9rem !important; margin:0; border-radius:0; color:#e9e9e9;
  }
  .site-nav__link--sub:hover, .site-nav__link--sub:focus-visible{ background: rgba(255,255,255,.08); color:#fff; }
  .site-nav__item.is-open > .site-subnav{ display:block !important; }
  .site-nav__list{ overflow: visible !important; } /* Dropdown nicht clippen */
}

/* Light-Mode: Subnav weiß/schwarz */
:root:not([data-theme="dark"]) .site-subnav{
  background:#fff !important; color:#111 !important;
  border:1px solid rgba(0,0,0,.12) !important; box-shadow:0 14px 34px rgba(0,0,0,.14) !important;
}
:root:not([data-theme="dark"]) .site-subnav::before{
  background:#fff !important;
  border-left:1px solid rgba(0,0,0,.12) !important;
  border-top:1px solid rgba(0,0,0,.12) !important;
}
:root:not([data-theme="dark"]) .site-nav__link--sub{ color:#111 !important; }
:root:not([data-theme="dark"]) .site-nav__link--sub:hover,
:root:not([data-theme="dark"]) .site-nav__link--sub:focus-visible{ background:rgba(0,0,0,.06) !important; color:#000 !important; }

/* Mobile Light Mode: Subnav ohne Box */
@media (max-width: 767px){
  :root:not([data-theme="dark"]) .site-subnav{
    background: transparent !important; border: 0 !important; box-shadow: none !important; border-radius: 0 !important;
    padding: .08rem 0 .38rem clamp(16px,6vw,24px) !important;
  }
  :root:not([data-theme="dark"]) .site-subnav::before{ display:none !important; }
  :root:not([data-theme="dark"]) .site-nav__link--sub{ color:#111 !important; }
  :root:not([data-theme="dark"]) .site-nav__link--sub:hover,
  :root:not([data-theme="dark"]) .site-nav__link--sub:focus-visible{
    background: rgba(0,0,0,.05) !important; color:#000 !important; border-radius:8px;
  }
}

/* XS Phones: Einrückungen & Abstände */
@media (max-width: 479px){
  .site-nav__item.is-open > .site-subnav{ margin-top: 0.35rem !important; margin-bottom: 2.35rem !important; }
  .site-nav__item.is-open > .site-nav__link{ padding-bottom: .35rem !important; }
  .site-subnav{ padding-left: clamp(16px, 6vw, 22px) !important; }
}

/* Brand größer auf Phones */
@media (max-width: 767px){
  .brand{ font-size: clamp(1.4rem, 6vw, 1.9rem) !important; line-height: 1.1; }
}

/* Mobile CTA unten ohne Box-Hintergrund */
@media (max-width: 767px){
  .site-nav__mobile-actions{
    background: transparent !important; box-shadow: none !important; border-top: none !important; padding-top: 1rem;
  }
}

/* Mobile: Subnav nur beim offenen Punkt zeigen */
@media (max-width:767px){
  .site-nav__list{ display:flex; flex-direction:column; }
  .site-subnav{ display:none; }
  .site-nav__item.is-open > .site-subnav{ display:block; }
}
</style>

<header class="site-header" id="siteHeader">
  <div class="site-header__bar">
    <a href="/" class="brand">Fusion³</a>

    <!-- NAV mit Subnav-Accordions (nur Mobile sichtbar) -->
    <nav class="site-nav" id="siteNav" aria-label="Hauptnavigation">
      <ul class="site-nav__list">

        <!-- Leistungen -->
        <li class="site-nav__item">
          <a class="site-nav__link" href="/leistungen">Leistungen</a>
          <button class="site-subtoggle" aria-expanded="false" aria-controls="sub-leistungen" aria-label="Unterpunkte zu Leistungen ein-/ausklappen">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          <ul id="sub-leistungen" class="site-subnav" hidden>
            <li><a class="site-nav__link site-nav__link--sub" href="/leistungen/webdesign">Webdesign</a></li>
            <li><a class="site-nav__link site-nav__link--sub" href="/leistungen/branding-ci">Branding &amp; CI</a></li>
            <li><a class="site-nav__link site-nav__link--sub" href="/leistungen/performance">Performance Marketing</a></li>
            <li><a class="site-nav__link site-nav__link--sub" href="/leistungen/support">Wartung &amp; Support</a></li>
          </ul>
        </li>

        <!-- Über uns -->
        <li class="site-nav__item">
          <a class="site-nav__link" href="#ueber-uns">Über uns</a>
          <button class="site-subtoggle" aria-expanded="false" aria-controls="sub-about" aria-label="Unterpunkte zu Über uns ein-/ausklappen">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          <ul id="sub-about" class="site-subnav" hidden>
            <li><a class="site-nav__link site-nav__link--sub" href="#team">Team</a></li>
            <li><a class="site-nav__link site-nav__link--sub" href="#werte">Werte</a></li>
            <li><a class="site-nav__link site-nav__link--sub" href="/jobs">Jobs</a></li>
            <li><a class="site-nav__link site-nav__link--sub" href="/presse">Presse</a></li>
          </ul>
        </li>

        <!-- Portfolio -->
        <li class="site-nav__item">
          <a class="site-nav__link" href="#portfolio">Portfolio</a>
          <button class="site-subtoggle" aria-expanded="false" aria-controls="sub-portfolio" aria-label="Unterpunkte zu Portfolio ein-/ausklappen">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          <ul id="sub-portfolio" class="site-subnav" hidden>
            <li><a class="site-nav__link site-nav__link--sub" href="#web-projekte">Web-Projekte</a></li>
            <li><a class="site-nav__link site-nav__link--sub" href="#markenauftritte">Markenauftritte</a></li>
            <li><a class="site-nav__link site-nav__link--sub" href="/cases">Case Studies</a></li>
            <li><a class="site-nav__link site-nav__link--sub" href="/referenzen">Referenzen</a></li>
          </ul>
        </li>

        <!-- Kontakt -->
        <li class="site-nav__item">
          <a class="site-nav__link" href="#kontakt">Kontakt</a>
          <button class="site-subtoggle" aria-expanded="false" aria-controls="sub-kontakt" aria-label="Unterpunkte zu Kontakt ein-/ausklappen">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          <ul id="sub-kontakt" class="site-subnav" hidden>
            <li><a class="site-nav__link site-nav__link--sub" href="/anfrage">Anfrage stellen</a></li>
            <li><a class="site-nav__link site-nav__link--sub" href="/beratung">Beratung buchen</a></li>
            <li><a class="site-nav__link site-nav__link--sub" href="/standort">Standort</a></li>
            <li><a class="site-nav__link site-nav__link--sub" href="/impressum">Impressum</a></li>
          </ul>
        </li>

      </ul>
    </nav>

    <div class="header-actions">

      <!-- ===== REPLACED: Fancy Dark/Light Toggle (nur HTML, CSS/JS sind bereits eingebunden) ===== -->
      <button class="toggle" id="themeToggle" aria-pressed="true" aria-describedby="themeStatus" aria-controls="themeStatus" aria-label="Hell- oder Dunkelmodus umschalten">
        <div class="sky day" aria-hidden="true"></div>
        <div class="sky night" aria-hidden="true"></div>
        <div class="stars" id="stars" aria-hidden="true"></div>
        <div class="clouds" id="clouds" aria-hidden="true">
          <div class="lane back"  data-lane="back"></div>
          <div class="lane mid"   data-lane="mid"></div>
          <div class="lane front" data-lane="front"></div>
        </div>
        <span class="thumb" id="thumb" aria-hidden="true"></span>
      </button>
      
      <p id="themeStatus" class="visually-hidden" aria-live="polite">Dunkelmodus aktiv</p>
      <!-- ===== /REPLACED ===== -->


          <!-- CTA: Drop-in Replacement -->
<a
  class="button-cta button-cta--prime"
  href="#kontakt"
  id="ctaAngebot"
  role="button"
  aria-label="Angebot anfordern"
  data-cta
  data-cta-context="header"
>
  <span class="button-cta__label">Check starten</span>

  <!-- Live-Region für Zustandsansagen (nur Screenreader) -->
  <span class="visually-hidden" aria-live="polite" aria-atomic="true"></span>
</a>
  
    </div>

    <button class="site-nav-toggle" id="navToggle" aria-label="Menü öffnen" aria-expanded="false" aria-controls="siteNav">
      <!-- Burger -->
      <svg class="icon icon-burger" viewBox="0 0 24 24" aria-hidden="true">
        <path d="M3 6h18M3 12h18M3 18h18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>
      <!-- X -->
      <svg class="icon icon-close" viewBox="0 0 24 24" aria-hidden="true">
        <path d="M6 6l12 12M18 6L6 18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>
      <span class="label">Menü</span>
    </button>
  </div>
  <div class="nav-overlay" id="navOverlay" hidden></div>
</header>
<script>
  /* ---------------------------
     Header / Navigation Logic
     --------------------------- */
  (function(){
    const docEl   = document.documentElement;
    const header  = document.getElementById('siteHeader');
    const btn     = document.getElementById('navToggle');
    const nav     = document.getElementById('siteNav');
    const overlay = document.getElementById('navOverlay');
    if(!btn || !nav) return;

    // Headerhöhe als CSS-Var (für Mobile-Panel)
    function setHeaderHeight(){
      const h = header.getBoundingClientRect().height;
      docEl.style.setProperty('--header-height', h + 'px');
    }
    setHeaderHeight();
    addEventListener('resize', setHeaderHeight, {passive:true});

    // MQ Sync
    const mq = window.matchMedia('(min-width: 768px)');

    // Mobile Actions Container (nur CTA dynamisch)
    const mobileActionsId = 'mobileActions';
    let mobileActions = null;
    function ensureMobileActions(){
      if(!mobileActions){
        mobileActions = document.createElement('div');
        mobileActions.id = mobileActionsId;
        mobileActions.className = 'site-nav__mobile-actions';
        mobileActions.setAttribute('hidden','');
        nav.appendChild(mobileActions);
      }
    }
    function moveActionsToMobile(){
      ensureMobileActions();
      const cta = document.querySelector('.button-cta');
      if(cta && cta.parentElement !== mobileActions){ mobileActions.appendChild(cta); }
      mobileActions.removeAttribute('hidden');
    }
function moveActionsBack(){
  const headerActions = document.querySelector('.header-actions');
  if(!headerActions) return;
  const cta = mobileActions?.querySelector('.button-cta');
  if(cta && headerActions !== cta.parentElement){
    headerActions.appendChild(cta); // <<< CTA immer ans Ende = rechts
  }
  mobileActions?.setAttribute('hidden','');
}


    // Focus Trap fürs Mobile-Menü
    const trap = (()=>{
      let active = false;
      function handle(e){
        if(!active || e.key !== 'Tab') return;
        const focusables = nav.querySelectorAll('a, button, [tabindex]:not([tabindex="-1"])');
        const list = Array.from(focusables).filter(el=>!el.hasAttribute('disabled'));
        if(list.length === 0) return;
        const first = list[0];
        const last  = list[list.length-1];
        if(e.shiftKey && document.activeElement === first){ e.preventDefault(); last.focus(); }
        else if(!e.shiftKey && document.activeElement === last){ e.preventDefault(); first.focus(); }
      }
      return {
        activate(){ if(!active){ active = true; document.addEventListener('keydown', handle); }},
        deactivate(){ if(active){ active = false; document.removeEventListener('keydown', handle); }}
      };
    })();

    function collapseAllSubnav(){
      nav.querySelectorAll('.site-subtoggle[aria-expanded="true"]').forEach(btn=>{
        btn.setAttribute('aria-expanded','false');
      });
      nav.querySelectorAll('.site-subnav:not([hidden])').forEach(ul=>{
        ul.setAttribute('hidden','');
      });
      // NEU: .is-open an allen <li> entfernen
      nav.querySelectorAll('.site-nav__item.is-open').forEach(li=>{
        li.classList.remove('is-open');
      });
    }

    function closeMenu(){
      nav.classList.remove('is-open');
      overlay?.classList.remove('is-open');
      overlay?.setAttribute('hidden', '');
      btn.setAttribute('aria-expanded','false');
      btn.setAttribute('aria-label','Menü öffnen');
      docEl.classList.remove('nav-lock');
      trap.deactivate();
      document.querySelector('main')?.removeAttribute('inert');
      collapseAllSubnav();
      moveActionsBack();
      btn.focus();
    }
    function openMenu(){
      nav.classList.add('is-open');
      overlay?.classList.add('is-open');
      overlay?.removeAttribute('hidden');
      btn.setAttribute('aria-expanded','true');
      btn.setAttribute('aria-label','Menü schließen');
      docEl.classList.add('nav-lock');

      const firstLink = nav.querySelector('a');
      if(firstLink) firstLink.focus();

      trap.activate();
      document.querySelector('main')?.setAttribute('inert', '');
      moveActionsToMobile();
    }
    function syncState(){ if(mq.matches){ closeMenu(); } }
    mq.addEventListener?.('change', syncState);
    syncState();

    // Toggle Button (Menü)
    btn.addEventListener('click', function(){
      const isOpen = nav.classList.contains('is-open');
      if(isOpen) closeMenu(); else openMenu();
    });

    // Overlay / Outside click
    overlay?.addEventListener('click', () => closeMenu());
    document.addEventListener('click', (e) => {
      if(!nav.classList.contains('is-open')) return;

      // NEU: Klicks auf den Dark-Mode-Toggle (".toggle") sollen das Menü NICHT schließen
      if (e.target.closest('.toggle')) return;

      if(!nav.contains(e.target) && !btn.contains(e.target)) closeMenu();
    });

    // ESC
    document.addEventListener('keydown', (e) => {
      if(e.key === 'Escape' && nav.classList.contains('is-open')){
        e.preventDefault(); closeMenu();
      }
    });

    // Scroll Shadow
    addEventListener('scroll', () => {
      const y = window.scrollY || 0;
      header.classList.toggle('is-scrolled', y>4);
    }, {passive:true});

    // Scrollspy
    const links = [...document.querySelectorAll('.site-nav__link')];
    const linkMap = Object.fromEntries(links.map(a=>[a.getAttribute('href'), a]));
    const obs = new IntersectionObserver(entries => {
      entries.forEach(e => {
        const id = '#'+e.target.id;
        if(e.isIntersecting){
          links.forEach(l=>{ l.removeAttribute('data-active'); l.removeAttribute('aria-current'); });
          const link = linkMap[id];
          if(link){ link.setAttribute('data-active',''); link.setAttribute('aria-current','page'); }
        }
      });
    }, {rootMargin:'-40% 0px -55% 0px', threshold:[0, 1]});
    document.querySelectorAll('section[id]').forEach(s=>obs.observe(s));

    // Smooth scroll Offset
    links.forEach(a=>{
      a.addEventListener('click', (ev)=>{
        const href = a.getAttribute('href')||'';
        if(href.startsWith('#')){
          const target = document.getElementById(href.slice(1));
          if(target){
            ev.preventDefault();
            const y = target.getBoundingClientRect().top + window.scrollY - (header.getBoundingClientRect().height + 8);
            window.scrollTo({top:y, behavior:'smooth'});
            closeMenu();
          }
        }
      });
    });
  })();
</script>
<script>
(function(){
  const prefersReduced = matchMedia('(prefers-reduced-motion: reduce)').matches;

  function makeRipple(btn, x, y){
    if (prefersReduced) return;
    const r = document.createElement('span');
    r.className = 'cta-ripple';
    r.style.left = x + 'px';
    r.style.top  = y + 'px';
    btn.appendChild(r);
    // Force layout, then animate
    r.offsetWidth; r.classList.add('is-anim');
    r.addEventListener('animationend', ()=> r.remove(), {once:true});
  }

  // Tastatur-Trigger: Space/Enter → visuell gleichwertig
  function keyRipple(e){
    if(e.key !== ' ' && e.key !== 'Enter') return;
    const btn = e.currentTarget;
    const rect = btn.getBoundingClientRect();
    makeRipple(btn, rect.width/2, rect.height/2);
  }

  // Optionaler "busy" Helper – z.B. wenn du via JS async navigierst
  function setBusy(btn, busy=true){
    btn.setAttribute('aria-busy', String(!!busy));
    const live = btn.querySelector('[aria-live]');
    if(live){ live.textContent = busy ? 'Lädt…' : 'Bereit'; }
  }

  // Init
  document.querySelectorAll('[data-cta]').forEach(btn=>{
    // Maus/Touch Ripple
    btn.addEventListener('pointerdown', e=>{
      // Nicht auf echten Keyboard-Focus feuern
      if(e.pointerType === 'mouse' || e.pointerType === 'touch' || e.pointerType === 'pen'){
        const rect = btn.getBoundingClientRect();
        makeRipple(btn, e.clientX - rect.left, e.clientY - rect.top);
      }
    });

    // Keyboard-Ripple
    btn.addEventListener('keydown', keyRipple);

    // (Optional) Beispiel: kurz "busy", dann zur URL
    // -> Entfernen, falls unerwünscht.
    btn.addEventListener('click', (e)=>{
      const href = btn.getAttribute('href') || '';
      const targetLocal = href.startsWith('#');
      if(targetLocal){
        // Smooth anchor scroll ist bei dir schon global geregelt;
        // hier nur kurze visuelle Rückmeldung:
        setBusy(btn, true);
        setTimeout(()=> setBusy(btn, false), 420);
      }
    }, {passive:true});
  });
})();
</script>
<script>
(function(){
  const nav = document.getElementById('siteNav');
  if(!nav) return;

  nav.addEventListener('click', (e)=>{
    const btn = e.target.closest('.site-subtoggle');
    if(!btn) return;
    e.preventDefault();
    e.stopPropagation();

    const li  = btn.closest('.site-nav__item');
    const id  = btn.getAttribute('aria-controls');
    const sub = id ? document.getElementById(id) : li?.querySelector('.site-subnav');
    if(!li || !sub) return;

    const isOpen = btn.getAttribute('aria-expanded') === 'true';

    // 1) alle anderen Menüs schließen
    nav.querySelectorAll('.site-nav__item.is-open').forEach(other=>{
      if(other !== li){
        other.classList.remove('is-open');
        const otherBtn = other.querySelector('.site-subtoggle[aria-expanded="true"]');
        const otherSub = other.querySelector('.site-subnav');
        if(otherBtn) otherBtn.setAttribute('aria-expanded','false');
        if(otherSub) otherSub.setAttribute('hidden','');
      }
    });

    // 2) aktuelles Menü toggeln
    btn.setAttribute('aria-expanded', String(!isOpen));
    li.classList.toggle('is-open', !isOpen);
    sub.toggleAttribute('hidden', isOpen);
  });

  // Outside-Click schließt alles
  document.addEventListener('click', (e)=>{
    if(!nav.contains(e.target)){
      nav.querySelectorAll('.site-nav__item.is-open').forEach(li=>{
        li.classList.remove('is-open');
        const b = li.querySelector('.site-subtoggle[aria-expanded="true"]');
        const s = li.querySelector('.site-subnav');
        if(b) b.setAttribute('aria-expanded','false');
        if(s) s.setAttribute('hidden','');
      });
    }
  });

  // ESC schließt alle
  document.addEventListener('keydown', (e)=>{
    if(e.key !== 'Escape') return;
    nav.querySelectorAll('.site-nav__item.is-open').forEach(li=>{
      li.classList.remove('is-open');
      const b = li.querySelector('.site-subtoggle[aria-expanded="true"]');
      const s = li.querySelector('.site-subnav');
      if(b) b.setAttribute('aria-expanded','false');
      if(s) s.setAttribute('hidden','');
    });
  });
})();
</script>


<style>
  :root{
    color-scheme: light dark;

    /* Himmel */
    --sky-day-zenith:#1d7ce2;
    --sky-day-horizon:#a5d4ff;
    --sky-night-zenith:#0a0a2e;
    --sky-night-horizon:#1a0033;

    --cloud-day:#ffffff;
    --cloud-night:#d2d8e4;

    --sun-core:#ffd54f;
    --sun-glow:#ffe597;
    --moon-core:#f0f3fa;
          --accent:#0026ff;
    --pulse: rgba(255, 213, 79, .45);
  }
  body.dark{ --pulse: rgba(200, 220, 255, .40); }

  main{ display:grid; gap:.75rem; place-items:center; }

  /* Responsive Toggle
     - kleiner Default
     - Breite: min 140px, ideal 42vw, max 220px
     - Höhe & Thumb leiten sich davon ab
  */
  .toggle{
    /* Dimensionen */
    --w: clamp(140px, 42vw, 220px);
    --h: calc(var(--w) / 2.3);       /* ursprüngliches Seitenverhältnis ~2.29 */
    --pad: calc(var(--h) * 0.125);   /* ~12px bei h=96 */
    --thumb: calc(var(--h) - var(--pad) * 2);

    position:relative;
    width:var(--w);
    height:var(--h);
    border:0;
    cursor:pointer;
    outline:none;
    overflow:hidden;
    isolation:isolate;
    border-radius:999px;
    background:transparent;
    box-shadow: 0 14px 34px rgba(0,0,0,.38), inset 0 0 0 1px rgba(255,255,255,.07);
  }
  .toggle:focus-visible{
    box-shadow:0 0 0 4px color-mix(in oklab, var(--accent), transparent 65%), 0 14px 34px rgba(0,0,0,.38);
  }

  /* SKY */
  .sky{ position:absolute; inset:0; border-radius:inherit; z-index:0; overflow:hidden; }

  .day{
    position:absolute; inset:0; border-radius:inherit; opacity:1; transition:opacity 1200ms ease;
    background: linear-gradient(180deg, var(--sky-day-zenith), var(--sky-day-horizon));
  }
  .day::after{
    content:""; position:absolute; inset:-20%; border-radius:inherit; pointer-events:none;
    background: conic-gradient(from 0deg,
      color-mix(in oklab, var(--sky-day-zenith), transparent 0%) 0deg,
      color-mix(in oklab, var(--sky-day-horizon), transparent 15%) 90deg,
      color-mix(in oklab, var(--sky-day-zenith), transparent 8%) 180deg,
      color-mix(in oklab, var(--sky-day-horizon), transparent 20%) 270deg,
      color-mix(in oklab, var(--sky-day-zenith), transparent 0%) 360deg);
    filter: blur(12px) saturate(1.06) brightness(1);
    animation: rotateDay 40s linear infinite, dayBreathe 10s ease-in-out infinite;
    opacity:.9;
  }
  @keyframes rotateDay { to{ transform: rotate(360deg); } }
  @keyframes dayBreathe { 0%,100%{ filter: blur(12px) saturate(1.06) brightness(1) } 50%{ filter: blur(12px) saturate(1.08) brightness(1.06) } }

  .night{
    position:absolute; inset:0; border-radius:inherit; opacity:0; transition:opacity 1200ms ease;
    background: linear-gradient(180deg, var(--sky-night-zenith), var(--sky-night-horizon));
  }
  .night::after{
    content:""; position:absolute; inset:-25%; border-radius:inherit; pointer-events:none;
    background: conic-gradient(from 0deg, rgba(40,45,95,.12), rgba(110,20,120,.10), rgba(30,35,90,.12), rgba(60,20,110,.10), rgba(40,45,95,.12));
    filter: blur(16px) saturate(1.02);
    animation: driftNight 120s linear infinite;
    opacity:.35;
  }
  @keyframes driftNight { to{ transform: rotate(360deg); } }

  body.dark .day{ opacity:0; } body.dark .night{ opacity:1; }

  /* STARS */
  .stars{ position:absolute; inset:0; z-index:1; border-radius:inherit; opacity:0; transition:opacity 900ms ease; pointer-events:none; }
  body.dark .stars{ opacity:1; }
  .stars i{ position:absolute; width:2px; height:2px; background:#fff; border-radius:50%; opacity:.2; animation:twinkle 3.2s infinite ease-in-out; }
  @keyframes twinkle{ 50%{ opacity:1; transform:scale(1.6)} }

  /* CLOUDS */
  .clouds{ position:absolute; inset:0; border-radius:inherit; z-index:2; pointer-events:none; }
  .lane{ position:absolute; inset:0; overflow:hidden; }
  .lane.back{ opacity:.25; filter:blur(1.2px); }
  .lane.mid{  opacity:.6; filter:blur(.6px); }
  .lane.front{opacity:.95;}

  .cloud{ position:absolute; top:0; transform:translateX(0); animation-name: drift; animation-timing-function: linear; animation-iteration-count: infinite; }
  @keyframes drift{ from{ transform:translateX(-320px)} to{ transform:translateX(320px)} }
  .bubble{ position:absolute; border-radius:50%; background: var(--cloud-day); }
  body.dark .bubble{ background: var(--cloud-night); }

  /* THUMB = Sonne/Mond (responsiv) */
  .thumb{
    position:absolute;
    top:var(--pad);
    left:var(--pad);
    width:var(--thumb);
    height:var(--thumb);
    border-radius:50%;
    z-index:5;
    box-shadow: 0 12px 24px rgba(0,0,0,.35);
    transition: transform 820ms cubic-bezier(.2,.85,.2,1), background 600ms ease, filter 600ms ease;
  }
  body.light .thumb{ background: var(--sun-core); filter: drop-shadow(0 0 12px var(--sun-glow)); }
  body.dark  .thumb{ background: var(--moon-core); filter: drop-shadow(0 0 6px rgba(200,220,255,.5)); }

  .thumb{ transform: translateX(0); }
  /* Dark: nach rechts – Strecke ergibt sich aus Breite, Padding und Thumb-Größe */
  body.dark .thumb{
    transform: translateX(calc(var(--w) - var(--pad) - var(--thumb)));
  }

  .thumb.pulse{ animation:pulse 720ms ease-out; }
  @keyframes pulse{ 0%{ box-shadow:0 0 0 0 var(--pulse)} 100%{ box-shadow:0 0 0 22px rgba(0,0,0,0)} }

  .visually-hidden{ position:absolute !important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }

  .label{ text-align:center; color:#9aa3b2; font-size:14px }
  body.light .label{ color:#5f6876 }

  @media (prefers-reduced-motion: reduce){
    .thumb,.day,.night,.stars,.cloud{ transition:none; animation-duration:.01ms; animation-iteration-count:1 }
    .day::after,.night::after{ animation:none; }
  }
  /* ---- Compact sizing nur in der Header-Actions ---- */
.header-actions .toggle{
  /* kompakter, responsive – begrenzt in der Navbar */
  --w: clamp(88px, 16vw, 128px);
  --h: 32px;                 /* passt angenehm in 44px Navbar-Höhe */
  --pad: 4px;
  --thumb: calc(var(--h) - var(--pad) * 2);

  width: var(--w);
  height: var(--h);
  border-radius: 999px;
  box-shadow: 0 8px 18px rgba(0,0,0,.24), inset 0 0 0 1px rgba(255,255,255,.06);
  vertical-align: middle;
}

@media (min-width:768px){
  .header-actions .toggle{
    --w: 108px;              /* etwas größer auf Desktop, bleibt kompakt */
    --h: 34px;
    --pad: 5px;
  }
}

/* Thumb skaliert bereits über Variablen – hier nur der Shadow etwas dezenter */
.header-actions .thumb{
  box-shadow: 0 8px 16px rgba(0,0,0,.25);
}

/* Optionale Feinausrichtung neben dem CTA */
.header-actions{
  gap: .4rem;                /* etwas enger */
  align-items: center;       /* saubere Vertikalzentrierung */
}

/* Auf sehr kleinen Phones noch kompakter */
@media (max-width: 360px){
  .header-actions .toggle{
    --w: 92px;
    --h: 30px;
    --pad: 4px;
  }
}
/* Actions rechts binden und Überlauf verhindern */
.site-header__bar{ grid-template-columns: auto 1fr auto; }
.header-actions{
  display:inline-flex;
  align-items:center;
  gap:.4rem;
  justify-self:end;   /* rechtsbündig in der Grid-Spalte */
  min-width:0;        /* kein Layout-Overflow */
}

/* Compact/Responsive Toggle innerhalb der Header-Actions */
.header-actions .toggle{
  --w: 96px;   /* Default: Phones ab ~375-425px */
  --h: 30px;
  --pad: 4px;
  --thumb: calc(var(--h) - var(--pad)*2);

  width: var(--w);
  height: var(--h);
  max-width: 100%;
  border-radius: 999px;
  box-shadow: 0 8px 18px rgba(0,0,0,.24), inset 0 0 0 1px rgba(255,255,255,.06);
  vertical-align: middle;
}

/* sehr kleine Phones < 375px → kürzer */
@media (max-width: 374px){
  .header-actions .toggle{
    --w: 84px;
    --h: 28px;
    --pad: 4px;
  }
}

/* größere Phones 425–767 */
@media (min-width: 425px) and (max-width: 767px){
  .header-actions .toggle{
    --w: 104px;
    --h: 32px;
    --pad: 5px;
  }
}

/* Tablet & Desktop */
@media (min-width: 768px){
  .header-actions .toggle{
    --w: 112px;   /* kompakt, ragt nicht raus */
    --h: 34px;
    --pad: 6px;
  }
}

/* Thumb: dezenter Shadow */
.header-actions .thumb{ box-shadow: 0 8px 16px rgba(0,0,0,.25); }

/* Toggle selbst clippt alles, damit Clouds nie überragen */
.header-actions .toggle{ overflow:hidden; }

/* Optional: minimal optische Baseline-Korrektur auf Desktop
@media (min-width:768px){
  .header-actions .toggle{ transform: translateY(0.5px); }
}
*/
@media (min-width:768px) and (max-width:1023px){
  .header-actions .toggle{
    --w: 72px;   /* kürzer auf Tablet */
    --h: 30px;
    --pad: 5px;
  }
  .site-nav__list{ flex-wrap: wrap; }                 /* falls eng, darf umbrechen */
  .site-nav__link{ padding: .75rem .9rem; }           /* etwas weniger seitliches Padding */

  /* >>> Angebot weiter nach rechts schieben <<< */
  .header-actions .button-cta{
    margin-right: -3.1rem; /* Abstand zwischen Toggle und Angebot */
  }
}



@media (min-width:320px){
  .header-actions .toggle{
    --w: 60px;   /* kürzer auf Tablet */
    --h: 30px;
    --pad: 5px;
  }

}

/* 1) Dark-Mode: deutliche 2px weiße Outline */
body.dark .header-actions .toggle,
[data-theme="dark"] .header-actions .toggle{
  box-shadow:
    0 8px 18px rgba(0,0,0,.35),    /* normaler Drop-Shadow */
    inset 0 0 0 2px #8f67ff;          /* kräftige 2px Outline */
}

/* 2) Mond/Thumb rechts nicht abschneiden
   BISHER: translateX(calc(var(--w) - var(--pad) - var(--thumb)));
   KORREKT: rechter Rand soll auch --pad Abstand haben ⇒ minus 2*pad
   Optionales Feintuning via --nudge-x (Standard 0px) */
body.dark .thumb{
  transform: translateX(calc(var(--w) - var(--thumb) - (var(--pad) * 2) - var(--nudge-x, 0px)));
}

/* 3) Sehr kleine Phones ≤ 320px: Button kürzer */
@media (max-width: 320px){
  .header-actions .toggle{
    --w: 52px;
    --h: 26px;
    --pad: 4px;
  }
}

/* 4) Tablet 768–1023px: noch etwas kürzer + Abstand zum CTA,
      damit nichts "Kontakt" überdeckt und rechts sauber bleibt */
@media (min-width:768px) and (max-width:1023px){
  .header-actions .toggle{
    --w: 64px;   /* kürzer als vorher (zuvor 72px/108px etc.) */
    --h: 28px;
    --pad: 5px;
    /* Optional mini-Feintuning, falls Mond optisch 1px zu weit rechts wirkt: */
    --nudge-x: 1px; /* 0px–2px je nach Look, sonst Zeile löschen */
  }
  .header-actions .button-cta{
    margin-left: 1rem; /* Abstand zwischen Toggle und "Angebot" */
    margin-right: 0;   /* keine negativen Margins nach rechts */
  }
}

/* (Optional) Desktop Feintuning: runder Look, aber kompakt */
@media (min-width:1024px){
  .header-actions .toggle{
    --w: 96px;
    --h: 30px;
    --pad: 6px;
  }
}

/* === ATTENTION NUDGES ===================================== */
.header-actions .toggle {
  position: relative;
  isolation: isolate;
}

/* 1) Halo-Pulse als Ring */
.header-actions .toggle.suggest::after{
  content:"";
  position:absolute; inset:-6px; border-radius:inherit;
  pointer-events:none; z-index:10;
  box-shadow: 0 0 0 0 var(--pulse);
  animation: hintHalo 1200ms ease-out 6; /* max. 6 Wiederholungen */
}
@keyframes hintHalo{
  0%   { box-shadow:0 0 0 0 var(--pulse);           opacity:1 }
  100% { box-shadow:0 0 0 26px rgba(0,0,0,0);       opacity:0 }
}

/* 2) Thumb-Nudge – kurzer „Schubs“ */
.header-actions .toggle.suggest .thumb{
  animation: hintNudge 900ms cubic-bezier(.3,1,.3,1) 2 250ms;
}
@keyframes hintNudge{
  0%,100% { transform: translateX(var(--hint-x, 0)); }
  40%     { transform: translateX(calc(var(--hint-x, 0) + 6px)); }
  70%     { transform: translateX(calc(var(--hint-x, 0) - 3px)); }
}

/* wenn dark, Grundoffset der Thumb bleibt korrekt */
body.dark .header-actions .toggle.suggest .thumb{
  --hint-x: calc(var(--w) - var(--thumb) - (var(--pad) * 2) - var(--nudge-x, 0px));
}

/* 3) Mini-Tooltip */
.header-actions .toggle[data-hint]:not([data-hint=""])::before{
  content: attr(data-hint);
  position:absolute;
  left:50%; transform: translateX(-50%) translateY(-8px);
  bottom: 100%;
  padding:.25rem .5rem;
  font-size: 11px; line-height: 1;
  color:#fff; background: color-mix(in oklab, var(--accent), black 25%);
  border-radius:6px; white-space:nowrap;
  box-shadow: 0 6px 16px rgba(0,0,0,.25);
  opacity:0; pointer-events:none; z-index:11;
}
.header-actions .toggle.suggest[data-hint]:not([data-hint=""])::before{
  animation: hintFloat 1800ms ease-in-out 2 both;
}
@keyframes hintFloat{
  0%   { opacity:0; transform: translateX(-50%) translateY(-2px) }
  15%  { opacity:1; transform: translateX(-50%) translateY(-6px) }
  85%  { opacity:1; transform: translateX(-50%) translateY(-6px) }
  100% { opacity:0; transform: translateX(-50%) translateY(-10px) }
}

/* Reduced motion: keine Bewegungen, nur kurzer Glow */
@media (prefers-reduced-motion: reduce){
  .header-actions .toggle.suggest::after,
  .header-actions .toggle.suggest .thumb,
  .header-actions .toggle.suggest[data-hint]:not([data-hint=""])::before{
    animation: none !important;
  }
  .header-actions .toggle.suggest::after{
    box-shadow: 0 0 0 6px var(--pulse);
    opacity:.9;
    transition: opacity .6s ease;
  }
}

</style>
<script>
  (function(){
    const rootEl   = document.documentElement; // <html>
    const bodyEl   = document.body;
    const toggleEl = document.getElementById('themeToggle');
    const thumb    = document.getElementById('thumb');
    const stars    = document.getElementById('stars');
    const statusEl = document.getElementById('themeStatus');

    /* --------- Stars: einmalig, reicht --------- */
    (function seedStars(){
      if(!stars) return;
      const N = 26;
      const frag = document.createDocumentFragment();
      for(let i=0;i<N;i++){
        const el = document.createElement('i');
        el.style.top = (5 + Math.random()*90) + '%';
        el.style.left = (5 + Math.random()*90) + '%';
        el.style.animationDelay = (Math.random()*2.5).toFixed(2)+'s';
        frag.appendChild(el);
      }
      stars.appendChild(frag);
    })();


    /* --------- Clouds: responsive zu echter Toggle-Größe --------- */
    (function seedClouds(){
      const lanes = Array.from(document.querySelectorAll('[data-lane]'));
      if(!lanes.length || !toggleEl) return;

      const presets = {
        back:  { count: 3, speed:[80,120], scale:[0.60,0.90],  opacity:[0.25,0.40] },
        mid:   { count: 3, speed:[60, 90], scale:[0.80,1.00],  opacity:[0.50,0.70] },
        front: { count: 2, speed:[45, 70], scale:[1.00,1.15],  opacity:[0.85,0.95] }
      };

      function render(){
        lanes.forEach(l=>l.innerHTML = '');
        const rect = toggleEl.getBoundingClientRect();
        const W = Math.max(60, Math.round(rect.width));
        const H = Math.max(24, Math.round(rect.height));
        lanes.forEach(lane=>{
          const cfg = presets[lane.dataset.lane];
          for(let i=0;i<cfg.count;i++){
            const cloud = document.createElement('div');
            cloud.className = 'cloud';

            /* Wolkengröße relativ */
            const minW = Math.max(0.28*W, 36);
            const maxW = Math.max(0.46*W, 54);
            const cw   = randf(minW, maxW);
            const ch   = cw*0.5;

            cloud.style.width  = cw+'px';
            cloud.style.height = ch+'px';

            /* vertikal innerhalb der Toggle-Höhe */
            const freeY = Math.max(0, H - ch);
            cloud.style.top  = (freeY ? randf(0, freeY) : 0) + 'px';

            /* horizontal sofort sichtbar starten */
            cloud.style.left = (Math.max(0, W - cw) ? randf(0, W - cw) : 0) + 'px';

            const dur = rand(cfg.speed[0], cfg.speed[1]);
            cloud.style.animationDuration = dur+'s';
            cloud.style.animationDelay = (-Math.random()*dur).toFixed(2)+'s';
            cloud.style.opacity = randf(cfg.opacity[0], cfg.opacity[1]);
            cloud.style.transform = `translateX(0) scale(${randf(cfg.scale[0], cfg.scale[1])})`;

            /* Bubbles */
            ['b1','b2','b3','b4','b5'].forEach((b,idx)=>{
              const s = document.createElement('span');
              s.className = 'bubble '+b;
              const w = [0.58,0.50,0.66,0.38,0.42][idx] * (0.92 + Math.random()*0.16);
              const h = [0.78,0.70,0.88,0.58,0.62][idx] * (0.92 + Math.random()*0.16);
              s.style.width  = (w*100)+'%';
              s.style.height = (h*100)+'%';
              const lefts = [10,38,46,-2,22];
              const tops  = [12,-4,12,28,28];
              s.style.left = (lefts[idx] + (Math.random()*4-2))+'%';
              s.style.top  = (tops[idx]  + (Math.random()*4-2))+'%';
              cloud.appendChild(s);
            });

            lane.appendChild(cloud);
          }
        });
      }

      function rand(min,max){ return Math.floor(min + Math.random()*(max-min+1)); }
      function randf(min,max){ return +(min + Math.random()*(max-min)).toFixed(2); }

      /* Initial + nach Resize (debounced) */
      let t;
      const onResize = () => { clearTimeout(t); t = setTimeout(render, 120); };
      render();
      addEventListener('resize', onResize, {passive:true});
    })();


    /* --------- THEME: body-Klassen + data-theme fürs CSS ---------- */
    const STORAGE_KEY = 'theme-pref';

    function applyTheme(mode){ // 'dark' | 'light'
      const isDark = (mode === 'dark');
      bodyEl.classList.toggle('dark', isDark);
      bodyEl.classList.toggle('light', !isDark);
      rootEl.setAttribute('data-theme', isDark ? 'dark' : 'light'); // wichtig für deine [data-theme] Styles
      updateAria(isDark);
    }

    (function initTheme(){
      const saved = localStorage.getItem(STORAGE_KEY);
      if(saved === 'light' || saved === 'dark'){
        applyTheme(saved);
      }else{
        const sysDark = matchMedia('(prefers-color-scheme:dark)').matches;
        applyTheme(sysDark ? 'dark' : 'light');
      }
    })();

    function updateAria(isDark = bodyEl.classList.contains('dark')){
      if(toggleEl) toggleEl.setAttribute('aria-pressed', String(isDark));
      if(statusEl) statusEl.textContent = isDark ? 'Dunkelmodus aktiv' : 'Hellmodus aktiv';
    }

    /* Klick: Theme toggeln + Pulse */
    document.addEventListener('click', (e)=>{
      const t = e.target.closest?.('.toggle');
      if(!t) return;
      const nowDark = !bodyEl.classList.contains('dark');
      applyTheme(nowDark ? 'dark' : 'light');
      localStorage.setItem(STORAGE_KEY, nowDark ? 'dark' : 'light');

      if(thumb){
        thumb.classList.remove('pulse'); void thumb.offsetWidth; thumb.classList.add('pulse');
      }
    });

    /* Systemwechsel nur anwenden, wenn kein User-Pref gesetzt ist */
    matchMedia('(prefers-color-scheme:dark)').addEventListener('change', (e)=>{
      if(localStorage.getItem(STORAGE_KEY)) return;
      applyTheme(e.matches ? 'dark' : 'light');
    });
  })();
</script>
<script></script>









<style>/* ab 768px: leicht nach unten */
@media (min-width: 768px) {
  .hero-image-foreground {
    transform: translateY(10%);              /* dein bisheriger Versatz */
  }
}
@media (min-width: 1400px) {
  .hero-image-foreground {
    transform: translateY(15%);              /* dein bisheriger Versatz */
  }
}
@media (min-width: 1800px) {
  .hero-image-foreground {
    transform: translateY(15%);              /* dein bisheriger Versatz */
  }
}
@media (min-width: 2200px) {
  .hero-image-foreground {
    transform: translateY(7%);              /* dein bisheriger Versatz */
  }
}

  html, body {
    margin: 0;
    padding: 0;
    overflow-x: hidden;
    width: 100%;
  }

  .hero-section {
    padding: 0;
    margin: 0;
    width: 100%;
  }

  .hero-images-wrapper {
    position: relative;
    width: 100%;      /* statt 100vw, verhindert Scrollbar-Lücke links */
    min-height: 100vh;
    height: 100vh;
    overflow: hidden; /* falls Kinder minimal überstehen */
  }

  .hero-image-background,
  .hero-image-foreground {
    position: absolute;
    inset: 0;         /* top/right/bottom/left = 0 */
    width: 100%;
    max-width: none;
  }


  /* Nur Handys: Hintergrund minimal „herauszoomen“ */
@media (max-width: 767px) {
  .hero-image-foreground {
    background-position: center bottom;
    background-repeat: no-repeat;
    background-attachment: scroll;
    margin: 0 !important;                  /* falls woanders Mobile-Margins gesetzt sind */
        transform: translateY(17%);              /* dein bisheriger Versatz */
  }
}


</style>

<body>


  <section class="hero-section">
    <div class="hero-images-wrapper">
      <div class="hero-image-background"></div>
      <div class="page-title">
        <div class="container">
          <h1 class="large-title">Fusion3</h1>
        </div>
      </div>
      <div class="hero-image-foreground"></div>
    </div>
  </section>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=6877d9380337379217c72f87" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="js/webflow.js" type="text/javascript"></script>
  <script src="https://cdn.prod.website-files.com/gsap/3.13.0/gsap.min.js" type="text/javascript"></script>
  <script src="https://cdn.prod.website-files.com/gsap/3.13.0/ScrollTrigger.min.js" type="text/javascript"></script>
  <script src="https://cdn.prod.website-files.com/gsap/3.13.0/SplitText.min.js" type="text/javascript"></script>






















  

<style>
  /* Utilities */
  .sr-only {
    position:absolute!important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0 0 0 0);white-space:nowrap;border:0;
  }

  /* Section (Abstände feiner abgestimmt) */
  .painpoints-section{
    background: var(--surface, #fff);
    padding: clamp(3.5rem, 6vw, 6rem) var(--hero-xpad, 5vw) clamp(3rem, 5vw, 4.5rem);
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, sans-serif;
    text-align: center;
    max-width: 1440px;
    margin-inline: auto;
  }
  .painpoints-section h2{
    font-size: clamp(2.2rem, 3.2vw, 3rem);
    font-weight: 900;
    color: var(--text, #111);
    letter-spacing: -0.5px;
    margin: 0 0 clamp(1.25rem, 2.5vw, 1.75rem);
  }
  .painpoints-lead{
    color: var(--muted, #444);
    margin: 0 auto clamp(1.75rem, 3vw, 2.25rem);
    line-height: 1.6;
    max-width: 62ch;
    font-size: 1.0625rem;
  }

  /* Grid (nur Gaps & responsive Feinschliff) */
  .painpoints-grid{
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: clamp(1.25rem, 2.8vw, 2rem);
    max-width: 1200px;
    margin-inline: auto;
    padding: 0;
    list-style: none;
  }

  /* Cards (Design bleibt gleich; nur Innenabstand minimal verfeinert) */
  .painpoint-card{
    background: #f9f9f9;
    border: 1px solid #eee;
    border-radius: 16px;
    padding: 1.75rem 1.4rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    box-shadow: 0 6px 14px rgba(0,0,0,.03);
    transition: transform .2s ease, box-shadow .2s ease;
    height: 100%;
  }
  .painpoint-card:hover{
    transform: translateY(-4px);
    box-shadow: 0 12px 28px rgba(0,0,0,.06);
  }

  /* Icon + Animation */
  .painpoint-icon{
    width: 56px; height: 56px;
    background: linear-gradient(135deg, #ff6600, #ff944d);
    border-radius: 14px;
    display: grid; place-items: center;
    margin-bottom: .9rem;
  }
  .painpoint-icon svg{ width: 26px; height: 26px; stroke: #fff; fill: none; stroke-width: 2; }
  .painpoint-icon svg path,
  .painpoint-icon svg circle,
  .painpoint-icon svg polyline,
  .painpoint-icon svg line,
  .painpoint-icon svg rect {
    stroke-dasharray: 120;
    stroke-dashoffset: 120;
    animation: draw 1.2s ease forwards;
  }
  .painpoint-card:hover .painpoint-icon svg path,
  .painpoint-card:hover .painpoint-icon svg circle,
  .painpoint-card:hover .painpoint-icon svg polyline,
  .painpoint-card:hover .painpoint-icon svg line,
  .painpoint-card:hover .painpoint-icon svg rect{
    animation: draw 1.2s ease forwards;
  }
  @keyframes draw{ to{ stroke-dashoffset:0; } }

  /* Motion-Preference */
  @media (prefers-reduced-motion: reduce){
    .painpoint-card{ transition:none; }
    .painpoint-card:hover{ transform:none; box-shadow: 0 6px 14px rgba(0,0,0,.03); }
    .painpoint-icon svg path, .painpoint-icon svg circle,
    .painpoint-icon svg polyline, .painpoint-icon svg line, .painpoint-icon svg rect{ animation:none; stroke-dashoffset:0; }
  }

  .painpoint-text{
    font-size: 1rem;
    color: var(--text, #222);
    line-height: 1.6;
    max-width: 38ch;
    margin: .25rem 0 0;
  }

  /* Zusatz: Note/Footnote unten */
  .painpoints-note{
    color: var(--muted, #555);
    margin: clamp(1.5rem, 3vw, 2.25rem) auto 0;
    max-width: 70ch;
    line-height: 1.6;
    font-size: 1.02rem;
  }

  /* Dark Mode */
  :root[data-theme="dark"] .painpoints-section{ background: var(--surface, #000); }
  :root[data-theme="dark"] .painpoints-section h2{ color: var(--text, #f5f7fa); }
  :root[data-theme="dark"] .painpoints-lead{ color: var(--muted, #b7bec7); }
  :root[data-theme="dark"] .painpoint-card{
    background: #0f0f0f;
    border-color: rgba(255,255,255,.12);
    box-shadow: 0 6px 14px rgba(0,0,0,.35);
  }
  :root[data-theme="dark"] .painpoint-text{ color: var(--text, #f5f7fa); }
  :root[data-theme="dark"] .painpoints-note{ color: var(--muted, #b7bec7); }

  /* Responsive Tweaks */
  @media (max-width: 768px){
    .painpoints-section{ padding-block: clamp(2.5rem, 6vw, 3.25rem); }
  }
  .painpoints-grid, .painpoint-card, .painpoint-icon {
    transform: translateZ(0); /* bessere Glättung auf manchen Browsern */
  }
</style>

<section class="painpoints-section" aria-label="Typische Herausforderungen im 3D Design">
  <h2>Typische Herausforderungen im 3D Design</h2>

  <div class="painpoints-grid">
    <!-- Flache Produktbilder -->
    <article class="painpoint-card" itemscope itemtype="https://schema.org/CreativeWork">
      <div class="painpoint-icon" aria-hidden="true">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4a2 2 0 0 0 1-1.73z"/><polyline points="3.27 6.96 12 12.01 20.73 6.96"/><line x1="12" y1="22.08" x2="12" y2="12"/></svg>
      </div>
      <p class="painpoint-text" itemprop="text">„Unsere Produktbilder überzeugen nicht – sie wirken flach und austauschbar.“</p>
    </article>

    <!-- Keine interne Expertise -->
    <article class="painpoint-card" itemscope itemtype="https://schema.org/CreativeWork">
      <div class="painpoint-icon" aria-hidden="true">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><path d="M8 21h8M12 17v4"/></svg>
      </div>
      <p class="painpoint-text" itemprop="text">„Wir haben Ideen für 3D, aber keine interne Expertise für die Umsetzung.“</p>
    </article>

    <!-- Veralteter Stil -->
    <article class="painpoint-card" itemscope itemtype="https://schema.org/CreativeWork">
      <div class="painpoint-icon" aria-hidden="true">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
      </div>
      <p class="painpoint-text" itemprop="text">„Die 3D-Modelle sehen altmodisch aus – das entspricht nicht unserem Markenauftritt.“</p>
    </article>

    <!-- Keine Interaktivität -->
    <article class="painpoint-card" itemscope itemtype="https://schema.org/CreativeWork">
      <div class="painpoint-icon" aria-hidden="true">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><polyline points="7 7 17 17"/><polyline points="17 7 7 17"/></svg>
      </div>
      <p class="painpoint-text" itemprop="text">„Unsere Visualisierungen sind nicht interaktiv – das Erlebnis bleibt flach.“</p>
    </article>

    <!-- Kein Verständnis durch Kunden -->
    <article class="painpoint-card" itemscope itemtype="https://schema.org/CreativeWork">
      <div class="painpoint-icon" aria-hidden="true">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 1 1 5.91 1c0 2-3 2-3 4"/><line x1="12" y1="17" x2="12" y2="17"/></svg>
      </div>
      <p class="painpoint-text" itemprop="text">„Unsere Kunden verstehen das Produkt nicht – es fehlt die räumliche Darstellung.“</p>
    </article>

    <!-- Keine Strategie für AR/VR -->
    <article class="painpoint-card" itemscope itemtype="https://schema.org/CreativeWork">
      <div class="painpoint-icon" aria-hidden="true">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 7h18a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-3l-3-4-3 4H3a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2z"/></svg>
      </div>
      <p class="painpoint-text" itemprop="text">„Wir möchten in AR/VR investieren – wissen aber nicht, wo wir anfangen sollen.“</p>
    </article>
  </div>

  <p class="painpoints-note">
    Mit professionellem 3D Design, fotorealistischen Renderings und interaktiven Erlebnissen wie WebGL und Augmented Reality unterstütze ich Marken dabei, Produkte wirkungsvoll digital zu präsentieren.
  </p>
</section>















<style>
  :root {
    --primary: #ff6600;
    --text-main: #1c1c1e;
    --text-subtle: #555;
    --bg-card: #ffffff;
    --grain-url: url("https://grainy-gradients.vercel.app/noise.svg");
  }

  /* ===============================
     Apple Services – Basis (Light)
     =============================== */
  .apple-services {
    padding: 6rem 2rem;
    background: transparent;
    color: var(--text-main);
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    transition: background-color .25s ease, color .25s ease;
  }

  .apple-services h2 {
    font-size: 2.8rem;
    text-align: center;
    margin-bottom: 5rem;
    color: var(--text-main);
    font-weight: 900;              /* wie branchen: starke Headline */
    letter-spacing: -0.02em;
    transition: color .25s ease;
  }

  .service-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 4rem;
    max-width: 1200px;
    margin: 0 auto;
  }

  .service-card {
    position: relative;
    background: linear-gradient(135deg, #ffffff 0%, #ffffff 20%, #9e9e9e80 100%);
    border-radius: 16px;
    padding: 2.5rem;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
    overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  }

  .service-card::before {
    content: "";
    position: absolute;
    inset: 0;
    background-image: var(--grain-url);
    opacity: 0.05;
    z-index: 1;
    pointer-events: none;
    transition: opacity 0.3s ease;
  }

  .service-card .inner {
    position: relative;
    z-index: 2;
  }

  .service-card h3 {
    font-size: 1.6rem;
    margin-bottom: 1.2rem;
    font-weight: 700;
    color: var(--text-main);
    letter-spacing: -0.01em;
  }

  .service-card ul {
    list-style: none;
    padding: 0;
    margin: 0;
    color: var(--text-subtle);
    font-size: 1rem;
    line-height: 1.75;
  }

  .service-card ul li { margin-bottom: 0.75rem; }

  .service-card { display: flex; flex-direction: column; }
  .service-card .inner { display: flex; flex-direction: column; flex-grow: 1; justify-content: space-between; }

  .cta {
    display: inline-block;
    margin-top: 2rem;
    font-size: 0.95rem;
    font-weight: 500;
    color: rgb(255, 255, 255);
    text-decoration: none;
    border: 2px solid rgb(255, 255, 255);
    background-color: hwb(0 87% 13% / 0);
    padding: 0.6rem 1.3rem;
    border-radius: 8px;
    transition: all 0.3s ease;
    align-self: flex-start;
    margin-bottom: 1rem;
  }

  .cta:hover {
    background-color: hwb(0 100% 0%);
    box-shadow: 0 0 0 2px rgb(255, 255, 255);
  }

  @media (max-width: 375px) {
    .service-grid { grid-template-columns: 1fr; gap: 2rem; }
    .service-card { padding: 2rem 1.2rem; border-radius: 16px; }
    .service-card h3 { font-size: 1.2rem; }
    .service-card ul { font-size: 0.95rem; }
    .cta { display: block; width: 100%; text-align: center; font-size: 0.95rem; padding: 0.8rem 1rem; }
  }

  @media (max-width: 320px) {
    .service-card { padding: 1.5rem 1rem; }
    .cta { font-size: 0.9rem; padding: 0.7rem 1rem; }
  }

  /* Ab 1152px anzeigen und zweifache Breite */
  @media (min-width: 1152px) {
    .service-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 2rem;
      align-items: stretch;
    }
    .service-card { display: block; }
    .video-card { display: block; grid-column: span 2; height: 100%; }
  }

  @media (min-width: 1300px) {
    .service-grid {
      max-width: 1300px;
      grid-template-columns: repeat(3, minmax(380px, 1fr));
      gap: 4rem;
      justify-content: center;
    }
  }

  @media (min-width: 1600px) {
    .apple-services { padding: 6rem 2rem; }
    .apple-services h2 { font-size: 3rem; margin-bottom: 5rem; }
    .service-grid {
      max-width: 1800px;
      grid-template-columns: repeat(3, minmax(460px, 1fr));
      gap: 4rem;
      justify-content: center;
    }
    .service-card { padding: 2.5rem; border-radius: 18px; }
    .service-card h3 { font-size: 1.6rem; margin-bottom: 1.2rem; }
    .service-card ul { font-size: 1.05rem; line-height: 1.75; }
    .service-card ul li { margin-bottom: 0.8rem; }
    .cta { font-size: 1rem; padding: 0.7rem 1.4rem; border-radius: 8px; color: #ffffff;}
  }

  /* Individuelle Farben je Service (Gradients + weißer Text) */
  .service-card:nth-child(1) {
    background: linear-gradient(270deg, #04006c, #6f00ff, #050088);
    background-size: 600% 600%;
    color: #fff;
  }

  .service-card:nth-child(2) {
    background: linear-gradient(135deg, #0d0d0d, #000e5c, #0d0d0d);
    background-size: 300% 300%;
    color: #fff;
  }

  .service-card:nth-child(3) {
    background: linear-gradient(135deg, #ff5100, hwb(340 0% 0%), #ff5100);
    background-size: 400% 400%;
    color: #fff;
  }

  .service-card:nth-child(4) {
    background: linear-gradient(135deg, #0d0d0d, #000e5c, #0d0d0d);
    background-size: 300% 300%;
    color: #fff;
  }

  /* Basisstil für alle Cards (zweiter Block zusammengeführt) */
  .service-card {
    position: relative;
    overflow: hidden;
    transition: transform 0.4s ease, box-shadow 0.4s ease;
    background-position: 0% 50%;
    will-change: transform, box-shadow, background-position;
    padding: 2.5rem;
    border-radius: 18px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }

  /* Glanz-Overlay */
  .service-card::before {
    content: "";
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle at center, rgba(255, 255, 255, 0.18), transparent 70%);
    transform: scale(0.5);
    opacity: 0;
    transition: all 0.6s ease;
    pointer-events: none;
    z-index: 1;
  }

  .service-card:hover::before { transform: scale(1); opacity: 0.25; }

  .service-card:hover {
    transform: translateY(-8px) scale(1.035);
    box-shadow: 0 30px 60px rgba(0, 0, 0, 0.4);
    animation: serviceGradientPulse 0.5s ease 1 forwards;
    background-position: 100% 50%;
    z-index: 10;
  }

  @keyframes serviceGradientPulse {
    0% { background-position: 0% 50%; }
    100% { background-position: 100% 50%; }
  }

  /* Textfarben dynamisch über inherit halten */
  .service-card .inner,
  .service-card h3,
  .service-card ul,
  .service-card ul li{
    position: relative;
    z-index: 2;
    color: inherit;
  }
   /* Titel-Optik (zweiter Block konsistent) */
  .service-card h3 {
    font-size: 1.6rem;
    margin-bottom: 1.2rem;
    font-weight: 700;
    letter-spacing: -0.01em;
  }

  /* Listen (zweiter Block konsistent) */
  .service-card ul { list-style: none; padding: 0; margin: 0; font-size: 1.05rem; line-height: 1.75; }
  .service-card ul li { margin-bottom: 0.8rem; }



/* Basis-CTA für helle Karten bleibt wie zuvor über .cta */

  @media (min-width: 1152px) {
    .service-card:nth-child(2) { grid-column: span 2; }
    .service-card:nth-child(3) { grid-column: span 2; }
  }

  .image-overlay { position: absolute; bottom: 0rem; right: 1rem; z-index: 3; }
  .image-overlay img { width: 480px; height: auto; opacity: 1; transition: opacity 0.3s ease; }
  .service-card:hover .image-overlay img { opacity: 1; }
  .service-card:nth-child(2) .image-overlay { bottom: -0.5rem; }
  .service-card:nth-child(3) .image-overlay { bottom: -2.3rem; }

  /* Planet/3D-Deko */
  .planet-image {
    position: absolute;
    bottom: -11.5rem;
    right: -8rem;
    width: 140px;
    height: auto;
    opacity: 0;
    transform: scale(1.25);
    pointer-events: none;
    z-index: 2;
    transform-origin: center;
    transition: opacity 0.6s ease, transform 0.6s ease; /* smoother */
  }

  .card-3d:hover .planet-image,
  .card-3d.clicked .planet-image {
    opacity: 1;
    animation: planetGrow 1.2s ease-out forwards; /* nur einmal */
  }

  @keyframes planetGrow {
    0%   { transform: scale(1.25); }
    100% { transform: scale(1.32); } /* weicher von A nach B */
  }

  .planet-wrapper {
    position: absolute;
    bottom: 2.5rem;
    right: 4rem;
    width: 490px;
    height: 490px;
    z-index: 2;
    pointer-events: none;
    transform-origin: center;
  }

  .card-3d:hover .planet-wrapper,
  .card-3d.clicked .planet-wrapper {
    animation: planetRotate 8s linear infinite;
  }

  @keyframes planetRotate {
    0%   { transform: rotate(0deg); }
    100% { transform: rotate(20deg); }
  }

  @keyframes planetRotate { 0% { transform: rotate(0deg); } 100% { transform: rotate(10deg); } }
  .card-3d:hover .planet-wrapper,
  .card-3d.clicked .planet-wrapper {
    animation: planetRotate 16s ease-in-out infinite;
  }

  @keyframes planetRotate {
    0%   { transform: rotate(0deg); }
    40%  { transform: rotate(10deg); }   /* schneller hin */
    100% { transform: rotate(0deg); }    /* langsamer zurück */
  }

  @media (max-width: 1151px) {
    .image-overlay img:not(.planet-image) { display: none !important; }
  }

  @media (max-width: 1299px) and (min-width: 1151px) {
    .service-card:nth-child(2) .image-overlay { right: -2rem; }
    .service-card:nth-child(3) .image-overlay { right: -2rem; }
  }

  @media (max-width: 1299px) {
    .planet-wrapper, .planet-image { display: none !important; }
  }

  /* ===============================
     Dark Mode scoped NUR für #tools.apple-services
     =============================== */
  :root[data-theme="dark"] #tools.apple-services {
    background: #000;
    color: #fff;
  }
  :root[data-theme="dark"] #tools.apple-services h2 {
    color: #fff;
  }

  /* Auto-Mode respektiert System-Dark */
  @media (prefers-color-scheme: dark) {
    :root[data-theme="auto"] #tools.apple-services {
      background: #000;
      color: #fff;
    }
    :root[data-theme="auto"] #tools.apple-services h2 {
      color: #fff;
    }
  }
  .apple-services .services-subline{
    text-align:center;
    margin:-4rem 0 3rem; /* sitzt optisch unter der großen H2 */
    font-size:1.1rem;
    color:#666;
  }
  :root[data-theme="dark"] #tools.apple-services .services-subline{ color:#bbb; }
  @media (prefers-color-scheme: dark){
    :root[data-theme="auto"] #tools.apple-services .services-subline{ color:#bbb; }
  }
  /* gleiche Container-Logik wie .persona-clean.container */
  .apple-services.container{ max-width:1400px; margin:0 auto; }

  /* auf kleinen Screens auf einspaltig und mit gleicher „Kartenbreite“-Anmutung */
  @media (max-width: 600px){
    .apple-services{ padding:4rem 1rem; } /* wie .persona-clean */
    .service-grid{
      grid-template-columns: 1fr;
      max-width: 640px;           /* fühlt sich wie die Persona-Box an */
      margin: 0 auto;
      gap: 2rem;
    }
    .service-card{ margin-inline:auto; }
  }
  /* Dark-Outline für Persona-Karten */
  :root[data-theme="dark"] #branchen .persona-card{ border:1px solid rgba(255,255,255,.35); }
  @media (prefers-color-scheme: dark){
    :root[data-theme="auto"] #branchen .persona-card{ border:1px solid rgba(255,255,255,.35); }
  }

  /* Dark-Outline für Service-Karten */
  :root[data-theme="dark"] #tools .service-card{ border:1px solid rgba(255,255,255,.35); }
  @media (prefers-color-scheme: dark){
    :root[data-theme="auto"] #tools .service-card{ border:1px solid rgba(255,255,255,.35); }
  }
  /* H2-Abstand wie bei #branchen */
  .apple-services h2{
    margin-bottom: .8rem;            /* statt 5rem */
    font-weight: 900;
    letter-spacing: -0.02em;
  }

  /* Subline exakt wie bei .persona-subline */
  #tools .persona-subline{
    font-size: 1.1rem;
    color: #666;
    margin-bottom: 4rem;              /* gleiche optische Tiefe */
    text-align: center;
  }

  /* Dark-Mode gleich wie bei #branchen */
  :root[data-theme="dark"] #tools .persona-subline,
  :root[data-theme="dark"] #tools h2{ color:#fff; }

  @media (prefers-color-scheme: dark){
    :root[data-theme="auto"] #tools .persona-subline,
    :root[data-theme="auto"] #tools h2{ color:#fff; }
  }

  /* Astronaut sicher über dem Planeten */
  .image-overlay { position: absolute; bottom: 0rem; right: 1rem; z-index: 3; }
  .image-overlay .astronaut-image{
    position: relative;   /* erzeugt Stacking-Kontext */
    z-index: 4;           /* vor planet-wrapper (2) */
    display: block;
  }

  /* Planet darunter lassen */
  .planet-wrapper{ z-index: 2; }
  .planet-image{ z-index: 2; }

  /* 375–600px: alle Cards gleich groß zentriert */
  @media (min-width: 375px) and (max-width: 600px) {
    /* Gleiche "Kartenbreite"-Anmutung wie Webdesign */
    .service-card {
      width: 90%;
      margin-inline: auto;
      padding: 2rem 1.2rem;          /* wie bei ≤375px, damit alles konsistent wirkt */
      border-radius: 16px;
    }
    .service-card h3 { font-size: 1.4rem; }
    .service-card ul { font-size: 1rem; line-height: 1.7; }
    .cta {
      display: block;
      width: 100%;
      text-align: center;
      font-size: 0.95rem;
      padding: 0.8rem 1rem;
    }
  }
  /* ——— subtle foundations + parallax prep for #tools ——— */
  #tools .service-grid{ perspective:1000px }
  #tools .service-card{
    transform-style: flat;         /* statt preserve-3d */
    backface-visibility: visible;  /* war: hidden */
  }

  /* minimale Hover-Eleganz, ohne Tilt */
  @media (hover:hover){
    #tools .service-card:hover{
      transform: translateY(-6px);
      box-shadow: 0 18px 46px rgba(0,0,0,.22);
    }
  }

  @media (prefers-reduced-motion: reduce){
    #tools .service-card, #tools .service-grid{ transition: none !important; animation: none !important }
  }

  .cta {
    display: inline-block;
    margin-top: 2rem;
    font-size: 0.95rem;
    font-weight: 500;
    color: rgb(255, 255, 255);
    text-decoration: none;
    border: 1px solid rgb(255, 255, 255);
    background-color: hwb(0 87% 13% / 0);
    padding: 0.6rem 1.3rem;
    border-radius: 8px;
    transition: all 0.3s ease;
    align-self: flex-start;
    margin-bottom: 1rem;
  }

  .cta:hover {
    background-color: hwb(0 0% 100% / 0.055);
    box-shadow: 0 0 0 2px rgb(255, 255, 255);
  }

  /* Ersetzt die bisherige Regel */
  .service-card .inner{
    display: flex;
    flex-direction: column;
    flex-grow: 1;
    justify-content: flex-start; /* statt space-between */
    gap: 1rem;                   /* konsistente Abstände */
  }

  /* CTA ans Kartenende drücken */
  .service-card .cta{
    margin-top: auto;
  }
  .service-card h3{ margin-bottom: .6rem; }
  .service-card ul{ margin: 0; }
  @media (hover:hover){
    #tools .service-card{
      transition: transform .4s ease, box-shadow .4s ease, background-position .4s ease;
      transition-delay: .05s; /* minimiert race condition direkt nach Entry */
    }
  }

  /* Webflow setzt .image-overlay { background:#fff; inset:0 0 0 auto; … }  -> überschreiben */
  #tools .image-overlay{
    background: transparent !important;
    inset: auto !important;         /* verhindert das aufgezogene weiße Feld */
    bottom: 0rem !important;
    right: 1rem !important;
    left: auto !important;
    top: auto !important;
    z-index: 3;
  }
  #tools .image-overlay img{ width:480px; height:auto; }

  /* ——— Typografie-Verbesserungen (Farben via inherit) ——— */
  #tools .service-card{
    font-feature-settings: "liga","calt","ss01";
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  #tools .service-card h3{
    font-size: clamp(1.25rem, 1.1rem + 0.6vw, 1.7rem);
    letter-spacing: -0.015em;
    line-height: 1.15;
    margin-bottom: .4rem;
    color: inherit;
  }
  #tools .service-card ul{
    margin-top: .25rem;
    font-size: clamp(.98rem, .92rem + .25vw, 1.06rem);
    line-height: 1.8;
    color: color-mix(in oklab, currentColor 78%, transparent);
  }
  #tools .service-card ul li{
    position: relative;
    padding-left: 1.15rem;
    margin: .35rem 0;
  }
  #tools .service-card ul li::before{
    content: "";
    position: absolute;
    left: 0;
    top: .62em;
    width: .42rem;
    height: .42rem;
    border-radius: 50%;
    background: color-mix(in oklab, currentColor 70%, transparent);
    box-shadow: 0 0 0 2px color-mix(in oklab, currentColor 25%, transparent) inset;
    opacity: .9;
  }
  @media (hover:hover){
    #tools .service-card h3{ text-shadow: 0 1px 0 rgba(0,0,0,.12); }
  }

  /* ——— Video-Card: füllt die komplette Karte ——— */
  #tools .service-card.video-card{
    padding: 0;                 /* Inhalt randlos */
    min-height: 280px;          /* Sicherheitsminimum im Grid */
    display: block;             /* kein Flex nötig */
  }
  #tools .service-card.video-card::before{ display: none; } /* Glanz aus über Video */
  #tools .service-card.video-card video{
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;          /* füllt die Karte komplett */
    object-position: center;
    display: block;
  }
  @media (prefers-reduced-motion: reduce){
    #tools .service-card.video-card video{ animation: none; }
  }
  /* —— Layout-Fix: Social-Media-Karte NICHT umfließen lassen —— */
@media (min-width: 1152px){
  /* vorhandene Spans der 2. & 3. Karte bleiben wie bei dir */
  #tools .service-grid > .service-card:nth-child(4){
    grid-column: 3 / span 1 !important; /* Social Media fix in Spalte 3 */
  }

  /* optional, hilft dem Grid beim Zurückfüllen */
  #tools .service-grid{
    grid-auto-flow: row dense;
  }
}

/* Video-Karte bleibt vollflächig, ohne das Grid zu beeinflussen */
#tools .service-card.video-card{
  padding: 0;
  min-height: 280px;
  display: block;
}
#tools .service-card.video-card::before{ display:none; }
#tools .service-card.video-card video{
  position: absolute; inset: 0;
  width: 100%; height: 100%;
  object-fit: cover; object-position: center;
}
/* —— Grafikdesign-Karte: Astronautenposition responsiv —— */

/* Unter 1600px: deutlicher Versatz nach rechts & unten */
@media (max-width: 1599px) {
  #tools .service-card:nth-child(3) .image-overlay {
    right: -4rem !important;
    bottom: -3rem !important;
  }
}

/* Ab 1600px: nur leicht nach unten für bessere Balance */
@media (min-width: 1600px) {
  #tools .service-card:nth-child(3) .image-overlay {
    right: -1rem !important;
    bottom: -2.5rem !important;
  }
}

</style>

<section class="container apple-services" id="tools">
  <h2 class="persona-title">3D Design & Produktvisualisierung</h2>
  <p class="persona-subline">Fotorealistische Renderings & Produktanimationen – ohne Fotoshooting, flexibel skalierbar und jederzeit anpassbar.</p>

  <div class="service-grid">

    <!-- 3D-Produktanimationen -->
    <div class="service-card">
      <div class="inner">
        <h3>3D-Produktanimationen</h3>
        <ul>
          <li>Exploded Views & Funktionsdarstellung</li>
          <li>Motion Design für Social & Ads</li>
          <li>Storyboard, Lookdev, Lighting & Shading</li>
          <li>Export für Web, Messe & TV</li>
        </ul>
        <a href="./3DAnimation.html" class="cta">Produktanimation anfragen</a>
      </div>
    </div>

    <!-- 3D Renderings -->
    <div class="service-card card-3d" onclick="togglePlanet(this)">
      <div class="inner">
        <h3>3D Renderings</h3>
        <ul>
          <li>Fotorealistische Packshots & Hero-Images</li>
          <li>Farb- & Materialvarianten ohne Shooting</li>
          <li>360°/Turntable & Detail-Makros</li>
          <li>CGI ersetzt Fotograf & Setbau</li>
        </ul>

        <div class="image-overlay">
          <div class="planet-wrapper">
            <img class="planet-image" loading="lazy" src="./indexFotoSlideShow/planet.webp" alt="3D Rendering – Stilisiertes Planet-Objekt" />
          </div>
          <img class="lazy-image astronaut-image" data-src="./indexFotoSlideShow/2.webp" alt="3D Visual – Astronaut Icon" />
        </div>

        <a href="./3DRendering.html" class="cta">Rendering beauftragen</a>
      </div>
    </div>

    <!-- 3D für E-Commerce & AR -->
    <div class="service-card">
      <div class="inner">
        <h3>3D für E-Commerce & AR</h3>
        <ul>
          <li>Web-optimierte Modelle (GLB/GLTF, USDZ)</li>
          <li>AR-Ansicht & Produktkonfiguratoren</li>
          <li>PBR-Materialien, saubere Topologie, UVs</li>
          <li>Performance-Tuning für Shop & Web</li>
        </ul>
        <div class="image-overlay">
          <img class="lazy-image" data-src="./indexFotoSlideShow/astro sitzend.webp" alt="3D E-Commerce / AR Icon" />
        </div>

        <a href="./3DEcommerce.html" class="cta">3D-Modelle für Ihren Shop</a>
      </div>
    </div>

    <!-- Showreel (3D) -->
    <div class="service-card video-card">
      <video
        autoplay
        muted
        loop
        playsinline
        preload="auto"
        poster="./indexFotoSlideShow/social-poster.jpg"
        aria-label="3D Design Showreel – Produktanimationen & Renderings"
      >
        <source src="./videos/social-showreel.webm" type="video/webm" />
        <source src="./indexFotoSlideShow/kartenvideo.mp4"  type="video/mp4" />
        Dein Browser unterstützt das Video-Tag nicht.
      </video>
    </div>

  </div>
</section>


<script>
  document.addEventListener("DOMContentLoaded", () => {
    const lazyImages = document.querySelectorAll("img.lazy-image");

    const observer = new IntersectionObserver((entries, obs) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const img = entry.target;
          img.src = img.dataset.src;
          img.classList.remove("lazy-image");
          obs.unobserve(img);
        }
      });
    }, {
      rootMargin: "100px 0px",
      threshold: 0.01
    });

    lazyImages.forEach(img => observer.observe(img));
  });
</script>








<style>
  .white-transition-section{
    position:relative;background:none;display:flex;align-items:center;justify-content:center;flex-direction:column;overflow:visible;color:#111;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif
  }
  .white-world{
    position:relative;padding-top:6rem;height:auto;clip-path:none;display:flex;align-items:center;justify-content:center;flex-direction:column;background:linear-gradient(0deg,#ffffff,#f4f4f4);opacity:1;pointer-events:all;width:100vw;transition:background-color .25s ease,color .25s ease;z-index:15
  }
  .white-content{ text-align:center;max-width:90vw;padding:2rem 1rem }
  .white-content .section-title{ margin-bottom:3rem;text-align:center;width:100%;display:block;font-weight:900;letter-spacing:-.02em;color:inherit }

  /* ===== Karten-Layout & Expand ===== */
  .project-white-steps{ display:flex;gap:1rem;justify-content:stretch;align-items:stretch;z-index:15 }
  .epic-step{
    position:relative;border-radius:20px;border:1px solid rgba(70,70,70,.15);padding:2rem 1.6rem;box-shadow:0 0 0 rgba(0,0,0,0);overflow:hidden;
    flex:0 0 clamp(120px,14vw,200px); /* stark gestaucht */
    cursor:pointer;

    /* variable Dauer via CSS-Var --t (Standard 5s, beim Öffnen 8s) */
    --t: 0s;
    height:var(--card-height,auto); /* wird per JS gesetzt */
  }
  /* langsamere Öffnung */
  .epic-step.is-expanding{ --t: 8s; }

  .epic-step.is-open{ flex:1 1 auto }

  .step-inner{ position:relative;z-index:2;text-align:left;display:flex;flex-direction:column;gap:.75rem;min-width:280px;height:100% }

  /* Typo vereinheitlicht */
  .epic-step h3{ font-size:1.25rem;color:#fff;font-weight:800;margin-bottom:.4rem;line-height:1.4;letter-spacing:-.01em }
  .epic-step p{ color:#fff;font-size:.95rem;line-height:1.55 }
  .step-number{ font-size:2rem;font-weight:900;display:block;margin-bottom:.6rem;color:#fff }

  /* GROßE Nummer (90° gedreht, von unten nach oben) */
  .step-number-big{
    position:absolute;right:.6rem;bottom:.6rem;
    font-weight:900;letter-spacing:-.03em;line-height:1;
    font-size:clamp(3rem, 14vh, 9rem);
    color:rgba(255,255,255,.18);
    pointer-events:none;z-index:1;white-space:nowrap;text-align:right;

    /* 90° Rotation, Drehpunkt unten rechts -> vertikal nach oben */
    transform: rotate(-90deg);
    transform-origin: bottom right;
    transition:opacity .35s ease, transform .35s ease;
    mix-blend-mode:soft-light;
  }
  .project-white-steps .epic-step:nth-child(2) .step-number-big,
  .project-white-steps .epic-step:nth-child(4) .step-number-big{ color:rgba(255,255,255,.24) }

  /* Vor Öffnen: NUR große Nummer sichtbar – kleine Nummer & Content versteckt */
  .epic-step:not(.is-open) .step-number, /* kleine Zahl oben */
  .epic-step:not(.is-open) h3,
  .epic-step:not(.is-open) p,
  .epic-step:not(.is-open) .details{
    height:0;opacity:0;overflow:hidden;visibility:hidden
  }

  /* Beim Öffnen: Content einblenden, große Nummer ausblenden */
  .epic-step.is-open .step-number,
  .epic-step.is-open h3,
  .epic-step.is-open p,
  .epic-step.is-open .details{
    height:auto;opacity:1;visibility:visible;transition:opacity .35s ease .1s,visibility 0s linear 0s
  }
  .epic-step.is-open .step-number-big{ opacity:0;transform:rotate(-90deg) translateY(6px) }

  /* Gradients je Karte */
  .project-white-steps .epic-step:nth-child(1){ background:linear-gradient(270deg,#04006c,#6f00ff,#050088);background-size:600% 600%;color:#fff }
  .project-white-steps .epic-step:nth-child(2){ background:linear-gradient(135deg,#0d0d0d,#000e5c,#0d0d0d);background-size:300% 300%;color:#fff }
  .project-white-steps .epic-step:nth-child(3){ background:linear-gradient(135deg,#ff5100,hwb(340 0% 0%),#ff5100);background-size:400% 400%;color:#fff }
  .project-white-steps .epic-step:nth-child(4){ background:linear-gradient(135deg,#0d0d0d,#000,#0d0d0d);background-size:300% 300%;color:#fff }

  /* A11y Focus */
  .epic-step[role="button"]:focus-visible{ outline:3px solid rgba(255,255,255,.6);outline-offset:4px }
  :root[data-theme="light"] .epic-step[role="button"]:focus-visible{ outline:3px solid rgba(0,0,0,.35) }

  /* Responsive */
  @media (max-width:900px){
    .project-white-steps{ display:grid;grid-template-columns:1fr;gap:1.25rem }
    .epic-step{ flex:unset }
    .epic-step.is-open{ flex:unset }
  }
  @media (min-width:1440px){
    .white-content{ max-width:1600px;margin:0 auto;padding:4rem 2rem }
    .white-content .section-title{ font-size:3rem;margin-bottom:4rem }
    .epic-step{ padding:2.4rem }
    .epic-step h3{ font-size:1.4rem }
    .epic-step p{ font-size:1.05rem;line-height:1.7 }
    .step-number{ font-size:2.4rem }
  }

  /* Assets (Karte 1 statisches Logo; Karte 4: keine PNGs) */
  .step-image{ position:absolute;z-index:1 }
  .image-bottom{ position:absolute;transform:translateY(568px) scale(8.2) translateX(-10px) rotate(120deg);max-width:620px;pointer-events:none;z-index:1;transition:transform 1s ease-in-out }
  .static-object2{ width:220px;height:auto }
  @media (max-width:1152px){ .step-image{ display:none !important } }

  /* Dark Mode (scoped) */
  :root[data-theme="dark"] #prozess .white-world{ background:linear-gradient(0deg,#050505,#0b0b0b);color:#fff }
  :root[data-theme="dark"] #prozess .white-content,
  :root[data-theme="dark"] #prozess .white-content h2,
  :root[data-theme="dark"] #prozess .section-title{ color:#fff }
  :root[data-theme="dark"] #prozess.white-transition-section{ color:#fff }
  :root[data-theme="dark"] #prozess .epic-step{ border-color:rgba(255,255,255,.14) }
  @media (prefers-color-scheme:dark){
    :root[data-theme="auto"] #prozess .white-world{ background:linear-gradient(0deg,#050505,#0b0b0b);color:#fff }
    :root[data-theme="auto"] #prozess .white-content,
    :root[data-theme="auto"] #prozess .white-content h2,
    :root[data-theme="auto"] #prozess .section-title{ color:#fff }
    :root[data-theme="auto"] #prozess.white-transition-section{ color:#fff }
    :root[data-theme="auto"] #prozess .epic-step{ border-color:rgba(255,255,255,.14) }
  }
  
  
  
  /* große, markante Zahl unten rechts (nur wenn Karte geschlossen ist) */
.epic-step::after{
  content: attr(data-step);
  position: absolute;
  right: 1rem;
  bottom: 10rem;

  transform: rotate(-90deg);
  transform-origin: bottom right;

  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
  font-weight: 900;
  font-size: clamp(3rem, 12vh, 8rem); /* sehr groß, skaliert mit Viewport */
  line-height: 1;

  color: rgba(255,255,255,.4);  /* 40% Deckkraft */
  white-space: nowrap;

  pointer-events: none;
  z-index: 3;
  opacity: 1;
  transition: opacity .25s ease;
}

/* beim Öffnen ausblenden */
.epic-step.is-open::after{
  opacity: 0;
}

/* große Zahl komplett ausblenden (immer) – nur falls gewünscht */
.step-number-big{ display:none !important; }
/* sanfter 3D-Look + saubere GPU-Pfad */
.project-white-steps{ perspective:1200px }
.epic-step{
  transform-style: preserve-3d;
  will-change: transform, box-shadow, background-position;
}

/* etwas längere Flex-Transitions (= langsameres Auf/Zu) */
.epic-step{ --t: 7.5s; }
.epic-step.is-expanding{ --t: 10s; }

/* Clip-Reveal Vorbereitung */
.epic-step .step-inner{ clip-path: inset(0 0 0 0 round 20px) }
@media (prefers-reduced-motion: reduce){
  .epic-step, .white-world{ transition: none !important }
}

/* (optional) Hover-Fallback ohne JS bei Reduce-Motion */
@media (hover:hover){
  .epic-step:not(.is-open):hover{ box-shadow:0 12px 30px rgba(0,0,0,.18) }
}
/* ===== Mobile & small tablets: bis 768px ===== */
@media (max-width: 767px){

  /* Section-Rand & Breite sicher machen */
  #prozess .white-content{
    max-width: 100vw;
    padding: 1.5rem 1rem;         /* etwas kompakter */
  }

  /* Karten-Layout: 1 Spalte, volle Breite, Karte darf wachsen */
  #prozess .project-white-steps{
    display: grid;
    grid-template-columns: 1fr;
    gap: 1rem;
    width: 100%;
  }

  #prozess .epic-step{
    width: 100%;
    flex: unset;                   /* verhindert seitliches Quetschen */
    height: auto !important;       /* Karte wächst nach unten */
    --card-height: auto !important;
    padding: 1.25rem 1rem;         /* kompakteres Padding */
    border-radius: 16px;

    /* sanfter, aber keine zu langen Flex-Transitions auf Mobile */
    transition:
      box-shadow .25s ease,
      transform .25s ease,
      background .35s ease;
  }

  /* Inhalt: keine starre Mindestbreite, Zeilen dürfen überall umbrechen */
  #prozess .epic-step .step-inner{
    min-width: 0;                  /* WICHTIG: war 280px */
    width: 100%;
    overflow-wrap: anywhere;       /* vermeidet Rechts-Overflow */
    word-break: break-word;
  }

  /* Typo: kleiner & luftiger */
  #prozess .epic-step h3{
    font-size: 1.05rem;
    line-height: 1.35;
    margin-bottom: .35rem;
  }
  #prozess .epic-step p{
    font-size: .92rem;
    line-height: 1.6;              /* mehr Zeilenhöhe für Lesbarkeit */
  }
  #prozess .step-number{
    font-size: 1.35rem;
    margin-bottom: .4rem;
  }

  /* Große, gedrehte Zahl: kleiner & weiter runter, um Überlauf zu vermeiden */
  #prozess .epic-step::after{
    bottom: 7rem;                                  /* war 10rem */
    font-size: clamp(2.25rem, 8vh, 5.5rem);        /* kleiner skaliert */
    opacity: .35;
  }

  /* Falls du die große Zahl komplett ausblenden willst, ent-kommentieren:
  #prozess .epic-step::after{ display:none; }
  */

  /* Bilder in Karten: auf Mobile vermeiden, damit nix raussteht */
  #prozess .step-image{ display: none !important; }

  /* Fokus sichtbar halten, aber dezenter */
  #prozess .epic-step[role="button"]:focus-visible{
    outline-width: 2px;
    outline-offset: 3px;
  }
}

/* --- Feinjustierung für sehr kleine Geräte (<= 375px) optional --- */
@media (max-width: 375px){
  #prozess .epic-step{
    padding: 1rem .9rem;
  }
  #prozess .epic-step h3{ font-size: 1rem; }
  #prozess .epic-step p{ font-size: .9rem; }
  #prozess .epic-step::after{
    bottom: 6rem;
    font-size: clamp(2rem, 7vh, 4.8rem);
  }
}
/* Immer alle Karten geöffnet (<= 768px) */
@media (max-width: 900px){
  #prozess .project-white-steps{
    display: grid;
    grid-template-columns: 1fr;
    gap: 1rem;
    width: 100%;
  }

  #prozess .epic-step{
    width: 100%;
    height: auto !important;
    --card-height: auto !important;
  }

  /* Verberge NIE Inhalte auf Mobile */
  #prozess .epic-step .step-number,
  #prozess .epic-step h3,
  #prozess .epic-step p,
  #prozess .epic-step .details{
    height: auto !important;
    opacity: 1 !important;
    visibility: visible !important;
  }

  /* große, gedrehte Zahl optional ausblenden, damit nichts überlappt */
  #prozess .epic-step::after{ display: none; }
}
/* Fix: kein kreisartiges Abschneiden unten-links auf Mobile */
@media (max-width: 900px){
  /* Karte darf Inhalt nicht beschneiden */
  #prozess .epic-step{
    overflow: visible;                 /* war: hidden -> schneidet an runden Ecken */
    padding: 1.25rem 1rem 1.9rem;      /* extra Bottom-Spacing, damit Text weg von der Ecke bleibt */
    border-radius: 16px;
  }

  /* Innerer Clip rausnehmen (war: clip-path: inset(... round 20px)) */
  #prozess .epic-step .step-inner{
    clip-path: none !important;
  }

  /* Sicherheit: Text selbst nicht beschneiden */
  #prozess .epic-step p,
  #prozess .epic-step .details{
    overflow: visible;
  }

  /* Wenn du die große, gedrehte Zahl nutzt: sie überlappt nicht mehr die Ecke */
  #prozess .epic-step::after{
    bottom: 7rem;                       /* etwas höher, damit sie nicht in den Text drückt */
  }
}
/* === Container-Logik wie bei #tools ============================= */

/* 0) 100vw vermeiden (Scrollbalken-Overflow) */
#prozess .white-world{ width:100% !important; }

/* 1) Außencontainer: 1400px + zentriert + Seiten-Padding */
#prozess .white-content{
  max-width: 1400px !important;
  margin: 0 auto !important;
  padding-left: 2rem !important;
  padding-right: 2rem !important;
}
@media (max-width: 600px){
  #prozess .white-content{
    padding-left: 1rem !important;
    padding-right: 1rem !important;
  }
}

/* 2) Innerer Wrapper für die Karten: identische Max-Width-Stufen */
#prozess .project-white-steps{
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;                /* zentrieren innerhalb .white-content */
}
@media (min-width: 1300px){
  #prozess .project-white-steps{ max-width: 1300px; }
}
@media (min-width: 1600px){
  #prozess .project-white-steps{ max-width: 1800px; } /* wird real durch 1400er Außencontainer gedeckelt */
}

/* 3) 375–600px: gleiche „Kartenbreite“-Anmutung wie Services */
@media (min-width:375px) and (max-width:600px){
  #prozess .epic-step{
    width: 90%;
    margin-inline: auto;
  }
}
/* Schwarzer Hintergrund für die gesamte Section */
#prozess.white-transition-section{
  background:#000 !important;
  color:#fff; /* Standardtext hell */
}
/* ================================
   #prozess Farblogik (umgekehrt)
   Light: bg weiß / heading schwarz
   Dark:  bg schwarz / heading weiß
   ================================ */

/* --- Default (Light Mode) --- */
#prozess.white-transition-section{
  background:#fff !important;
  color:#111 !important;
}
#prozess .white-world{
  background:#fff !important;
  color:#111 !important;
}
#prozess .section-title{
  color:#111 !important;
}

/* --- Dark Mode (explizit + auto) --- */
:root[data-theme="dark"] #prozess.white-transition-section,
:root[data-theme="auto"] #prozess.white-transition-section{
  background:#000 !important;
  color:#fff !important;
}
:root[data-theme="dark"] #prozess .white-world,
:root[data-theme="auto"] #prozess .white-world{
  background:#000 !important;
  color:#fff !important;
}
:root[data-theme="dark"] #prozess .section-title,
:root[data-theme="auto"] #prozess .section-title{
  color:#fff !important;
}

/* System-Dark bei data-theme="auto" */
@media (prefers-color-scheme: dark){
  :root[data-theme="auto"] #prozess.white-transition-section{ background:#000 !important; color:#fff !important; }
  :root[data-theme="auto"] #prozess .white-world{ background:#000 !important; color:#fff !important; }
  :root[data-theme="auto"] #prozess .section-title{ color:#fff !important; }
}
@media (min-width: 1600px){
  /* Außencontainer weiter machen und Gutter schlanker */
  #prozess .white-content{
    max-width: 90vw !important;      /* oder 1800px, wenn du fix willst */
    padding-left: 1.5rem !important;  /* weniger Innenabstand */
    padding-right: 1.5rem !important;
  }

  /* Innerer Wrapper nicht zusätzlich limitieren */
  #prozess .project-white-steps{
    max-width: 1500px;                  /* falls vorher 1200/1300/1800 limitierte */
    width: 100%;
    margin: 0 auto;                   /* zentriert innerhalb der white-content */
  }
}

@media (min-width:1600px){
  #prozess .epic-step{
    height: var(--card-height) !important;
  }

  /* absolut positionierte Bilder sollen Höhe nicht strecken */
  #prozess .epic-step .step-image{ position:absolute; }

  /* Margen-Kollaps verhindern */
  #prozess .epic-step .step-inner{
    display: flow-root;
  }

  /* Erste Karte: nicht voll breit werden */
  #prozess .project-white-steps .epic-step:first-child{
    max-width: 1000px;  /* optionaler Rahmen */
  }
}

/* —— Fix: Text in den Karten nicht mehr rund abgeschnitten —— */
#prozess .epic-step .step-inner {
  clip-path: none !important;              /* entfernt das „Rund-Clipping“ */
  -webkit-clip-path: none !important;
}

#prozess .epic-step .step-inner * {
  overflow: visible !important;            /* Text darf sauber ausrendern */
}



</style>
<section class="white-transition-section" id="prozess">
  <div class="white-world visible" id="whiteWorld">
    <div class="white-content">
      <h2 class="section-title">So läuft ein 3D-Projekt mit Fusion³</h2>

      <div class="project-white-steps">
        <!-- Karte 1 -->
        <div class="epic-step with-image" data-step="00" role="button" tabindex="0" aria-expanded="false">
          <span class="step-number-big" aria-hidden="true">00</span>
          <div class="step-inner">
            <span class="step-number">00</span>
            <h3>Kick-off & Briefing</h3>
            <p>Wir klären Ziel, Zielgruppe und Einsatz: Renderings, Produktanimationen, Turntables oder AR. Kein Fotoshooting nötig – alles entsteht digital.</p>
            <div class="details">
              <p>Deliverables: Projektfahrplan, Budget/Timing, Asset-Liste (CAD, Skizzen, Referenzen), Style-Guide, Live-Link für Echtzeit-Reviews ohne Feedback-Schleifen.</p>
            </div>
          </div>
          <div class="step-image image-bottom">
            <img class="static-object2" src="./indexFotoSlideShow/logo.webp" alt="Dekoration rechts unten">
          </div>
        </div>

        <!-- Karte 2 -->
        <div class="epic-step" data-step="01" role="button" tabindex="0" aria-expanded="false">
          <span class="step-number-big" aria-hidden="true">01</span>
          <div class="step-inner">
            <span class="step-number">01</span>
            <h3>Previz & Lookdev</h3>
            <p>Wir erstellen Storyboard/Animatic, Kamerafahrten und Timing. Parallel definieren wir Look & Feel: Materialien, Licht, Set-Up und Rendering-Stil.</p>
            <div class="details">
              <p>Deliverables: Animatic/Playblasts, Light-Rigs, Material-Samples (PBR), Farb-/Materialvarianten – direkt im Live-Link kommentierbar.</p>
            </div>
          </div>
        </div>

        <!-- Karte 3 -->
        <div class="epic-step" data-step="02" role="button" tabindex="0" aria-expanded="false">
          <span class="step-number-big" aria-hidden="true">02</span>
          <div class="step-inner">
            <span class="step-number">02</span>
            <h3>Modeling, Shading & Animation</h3>
            <p>Wir bereiten CAD-Daten auf, modellieren Details, bauen saubere Topologie & UVs, erstellen Materialien und animieren Funktionen/Exploded Views.</p>
            <div class="details">
              <p>Fokus: Maßhaltigkeit, realistische Oberflächen, Physik-getreue Bewegungen, optimierte Geometrie für Web/AR. WIP-Stände jederzeit live prüfbar.</p>
            </div>
          </div>
        </div>

        <!-- Karte 4 -->
        <div class="epic-step" data-step="03" role="button" tabindex="0" aria-expanded="false">
          <span class="step-number-big" aria-hidden="true">03</span>
          <div class="step-inner">
            <span class="step-number">03</span>
            <h3>Rendering, Compositing & Delivery</h3>
            <p>Finale Renderings/Animationen mit Farbkorrektur, Effekten und Sound. Ausgabe passgenau für Web, E-Commerce, Messe oder TV – ohne Fotograf & Setbau.</p>
            <div class="details">
              <p>QA: Schärfe, Artefakt-Check, Markenfarben, Formatprüfung. Übergabe: Stills (PNG/WEBP), Videos (MP4/ProRes), 360°/Turntable, sowie AR-Modelle (GLB/GLTF, USDZ) plus kurze Doku.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
<script>
  gsap.registerPlugin(ScrollTrigger);

  // -------------------------------------------------
  // Sequenzielles Reveal: 1 -> 2 -> 3 -> 4
  // -------------------------------------------------
  const revealCards = Array.from(document.querySelectorAll('#prozess .epic-step'));
  const tlReveal = gsap.timeline({
    scrollTrigger: {
      trigger:'#prozess',
      start:'top 80%',
      toggleActions:'play none none reverse'
    }
  });

  // --- Bounce-Hinweis für Karte 2 ---
  let hintPlayed = false;   // verhindert mehrfaches Abspielen
  let hintTl = null;        // Referenz auf den Bounce-Timeline
  const isMobile = () => window.matchMedia('(max-width: 900px)').matches;

  function killHint() {
    if (hintTl) {
      hintTl.kill();
      hintTl = null;
    }
    if (revealCards[1]) gsap.set(revealCards[1], { y: 0 });
  }

  function makeBounceSequence(target) {
    // zwei kleine Hüpfer
    const tl = gsap.timeline();
    tl.to(target, { y: -12, duration: 0.18, ease: 'power1.out' })
      .to(target, { y: 0,   duration: 0.22, ease: 'bounce.out' })
      .to(target, { y: -8,  duration: 0.16, ease: 'power1.out' }, '+=0.18')
      .to(target, { y: 0,   duration: 0.20, ease: 'bounce.out' });
    return tl;
  }

  function bounceHint() {
    if (hintPlayed || isMobile() || !revealCards[1]) return;
    hintPlayed = true;

    const second = revealCards[1];

    // 3 Zyklen mit kurzen Pausen (als "leere" Tweens gelöst, nicht addPause)
    hintTl = gsap.timeline({ defaults:{ clearProps:false }});
    hintTl
      .add(makeBounceSequence(second))
      .to(second, { y: 0, duration: 0.8 })   // Pause 1
      .add(makeBounceSequence(second))
      .to(second, { y: 0, duration: 0.8 })   // Pause 2
      .add(makeBounceSequence(second));
  }

  // Reveal-Tweens + onComplete nur für Karte 2 -> danach Bounce
  revealCards.forEach((card, i) => {
    const tween = tlReveal.fromTo(
      card,
      { opacity: 0, y: 60 },
      { opacity: 1, y: 0, duration: 1.6, ease: 'power3.out' },
      i * 0.18
    );
    if (i === 1) {
      tween.eventCallback('onComplete', bounceHint);
    }
  });

  // -------------------------------------------------
  // Expand/Collapse + Auto-Open + Responsive Logik
  // -------------------------------------------------
  (function(){
    const row   = document.querySelector('#prozess .project-white-steps');
    if(!row) return;

    const cards = Array.from(row.querySelectorAll('.epic-step'));
    const root  = document.documentElement;

    let autoTimer    = null;
    let currentIndex = -1;
    let inView       = false;
    let startedOnce  = false;

    // Unter 900px alle Karten immer offen (kein Toggle/Auto/Bounce)
    const mql = window.matchMedia('(max-width: 900px)');
    let mobileAlwaysOpen = mql.matches;

    function setAllHeightFromFirstOpen(){
      const first = cards[0], wasOpen = first.classList.contains('is-open');
      if(!wasOpen) first.classList.add('is-open');
      const h = first.getBoundingClientRect().height;
      root.style.setProperty('--card-height', h + 'px');
      if(!wasOpen) first.classList.remove('is-open');
    }

    function clearExpandingFlags(){
      cards.forEach(c => c.classList.remove('is-expanding'));
    }

    function openCardByIndex(idx){
      if (mobileAlwaysOpen) return; // auf Mobile nie togglen
      if(idx < 0 || idx >= cards.length) return;

      currentIndex = idx;

      // User-Interaktion -> Hinweis stoppen
      killHint();

      clearExpandingFlags();
      const target = cards[idx];
      target.classList.add('is-expanding');

      cards.forEach((c, i) => {
        const open = i === idx;
        c.classList.toggle('is-open', open);
        c.setAttribute('aria-expanded', open ? 'true' : 'false');
      });

      const off = (e) => {
        if(e.propertyName === 'flex-basis' || e.propertyName === 'flex-grow'){
          target.classList.remove('is-expanding');
          target.removeEventListener('transitionend', off);
        }
      };
      target.addEventListener('transitionend', off);

      if(idx === 0) setAllHeightFromFirstOpen();
    }

    function clearAuto(){
      clearTimeout(autoTimer);
      autoTimer = null;
    }

    function scheduleNextAutoOpen(delayMs = 20000){
      if (mobileAlwaysOpen) return;  // Mobile: kein Auto-Open
      clearAuto();
      if(!inView) return;
      autoTimer = setTimeout(() => {
        if(!inView) return;
        const next = (currentIndex + 1) % cards.length;
        openCardByIndex(next);
        scheduleNextAutoOpen(20000);
      }, delayMs);
    }

    // Click + Keyboard
    cards.forEach((c, i) => {
      c.addEventListener('click', () => {
        if (mobileAlwaysOpen) return;
        // Interaktion -> Hinweis stoppen
        killHint();
        openCardByIndex(i);
        scheduleNextAutoOpen(20000);
      });

      c.addEventListener('keydown', (e) => {
        if (mobileAlwaysOpen) return;

        if(e.key === 'Enter' || e.key === ' '){
          e.preventDefault();
          killHint();
          openCardByIndex(i);
          scheduleNextAutoOpen(20000);
        }
        if(e.key === 'ArrowRight' || e.key === 'ArrowLeft'){
          e.preventDefault();
          const idx = i + (e.key === 'ArrowRight' ? 1 : -1);
          if(cards[idx]){
            cards[idx].focus();
            killHint();
            openCardByIndex(idx);
            scheduleNextAutoOpen(20000);
          }
        }
      });
    });

    // Startzustand (wird durch applyMode ggf. überschrieben)
    cards.forEach(c => { c.classList.remove('is-open'); c.setAttribute('aria-expanded','false'); });

    // Sichtbarkeits-Observer (Desktop)
    const io = new IntersectionObserver((entries) => {
      const entry = entries[0];
      inView = entry.isIntersecting && entry.intersectionRatio >= 0.5;

      if (mobileAlwaysOpen) return; // Mobile: ignorieren

      if(inView){
        if(!startedOnce){
          startedOnce = true;
          openCardByIndex(0);
          scheduleNextAutoOpen(20000);
        } else {
          scheduleNextAutoOpen(20000);
        }
      } else {
        clearAuto();
      }
    }, { threshold: [0, 0.5, 1] });

    io.observe(row);

    // Modus dynamisch anwenden (bei Load & Breakpoint-Wechsel)
    function applyMode(){
      mobileAlwaysOpen = mql.matches;

      if (mobileAlwaysOpen){
        clearAuto();
        // Alle Karten offen + ARIA setzen
        cards.forEach(c => {
          c.classList.add('is-open');
          c.setAttribute('aria-expanded','true');
        });
        // Höhe nicht erzwingen auf Mobile
        root.style.setProperty('--card-height', 'auto');
        // Mobile: Bounce-Hinweis sicher stoppen
        killHint();
      } else {
        // Desktop-Default: alles zu, Auto-Logik übernimmt beim Sichtbarwerden
        cards.forEach(c => {
          c.classList.remove('is-open');
          c.setAttribute('aria-expanded','false');
        });
        if (inView){
          openCardByIndex(Math.max(0, currentIndex));
          scheduleNextAutoOpen(20000);
        }
      }
    }

    mql.addEventListener('change', applyMode);
    applyMode(); // initial anwenden

    // Neu messen bei Resize (nur relevant für Desktop offene Karte)
    let resizeRaf = null;
    window.addEventListener('resize', () => {
      cancelAnimationFrame(resizeRaf);
      resizeRaf = requestAnimationFrame(() => {
        if(!mobileAlwaysOpen && cards[0] && cards[0].classList.contains('is-open')) {
          setAllHeightFromFirstOpen();
        }
      });
    }, { passive:true });
  })();
</script>









<!-- =========================================================
     SECTION: IMAGE MARQUEE — Scroll + sanfte Auto-Bewegung mobil
========================================================== -->
<section id="image-marquee" aria-label="3D Galerie">
  <style>
    #image-marquee {
      --gap: clamp(12px, 1.6vw, 18px);
      --h: clamp(110px, 20vw, 200px);
      --dur-desktop: 28s;
      --dur-mobile: 60s;
      overflow: hidden;
    }

    #image-marquee .wrap {
      max-width: min(95vw, 1340px);
      margin: 0 auto;
      padding: 24px 0;
    }

    #image-marquee .row {
      overflow: hidden;
      position: relative;
      padding-block: 6px;
      -webkit-mask-image: linear-gradient(90deg, transparent 0, #000 6%, #000 94%, transparent 100%);
              mask-image: linear-gradient(90deg, transparent 0, #000 6%, #000 94%, transparent 100%);
    }

    #image-marquee .track {
      display: flex;
      gap: var(--gap);
      width: max-content;
      align-items: center;
      will-change: transform;
    }

    #image-marquee .tile {
      flex: 0 0 auto;
      height: var(--h);
      aspect-ratio: 16/10;
      border-radius: 14px;
      overflow: hidden;
    }

    #image-marquee .tile img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    /* ===== Standard: Endlosloop Desktop ===== */
    @keyframes scroll-ltr { from { transform: translateX(-50%); } to { transform: translateX(0); } }
    @keyframes scroll-rtl { from { transform: translateX(0); } to { transform: translateX(-50%); } }

    #image-marquee .row.top .track {
      animation: scroll-ltr var(--dur-desktop) linear infinite;
    }
    #image-marquee .row.bottom .track {
      animation: scroll-rtl calc(var(--dur-desktop) * 1.1) linear infinite;
    }

    /* Hover = Pause */
    @media (hover:hover) {
      #image-marquee .row:hover .track { animation-play-state: paused; }
    }

    /* === Mobile: langsamere Bewegung + Scroll-Parallax === */
    @media (max-width: 900px) {
      #image-marquee .row.top .track {
        animation: scroll-ltr var(--dur-mobile) linear infinite;
      }
      #image-marquee .row.bottom .track {
        animation: scroll-rtl calc(var(--dur-mobile) * 1.1) linear infinite;
      }
    }
  </style>

  <div class="wrap">
    <!-- OBERERE REIHE – links → rechts -->
    <div class="row top">
      <div class="track">
        <a class="tile"><img src="./3DSlideShow/post1.png" alt=""></a>
        <a class="tile"><img src="./3DSlideShow/post2.png" alt=""></a>
        <a class="tile"><img src="./3DSlideShow/post3.png" alt=""></a>
        <a class="tile"><img src="./3DSlideShow/post4.png" alt=""></a>
        <a class="tile"><img src="./3DSlideShow/post5.png" alt=""></a>
        <a class="tile"><img src="./3DSlideShow/post6.png" alt=""></a>
        <a class="tile"><img src="./3DSlideShow/post7.png" alt=""></a>
        <!-- Duplikat -->
        <a class="tile"><img src="./3DSlideShow/post1.png" alt=""></a>
        <a class="tile"><img src="./3DSlideShow/post2.png" alt=""></a>
        <a class="tile"><img src="./3DSlideShow/post3.png" alt=""></a>
        <a class="tile"><img src="./3DSlideShow/post4.png" alt=""></a>
      </div>
    </div>

    <!-- UNTERE REIHE – rechts → links -->
    <div class="row bottom">
      <div class="track">
        <a class="tile"><img src="./3DSlideShow/post8.png" alt=""></a>
        <a class="tile"><img src="./3DSlideShow/post9.png" alt=""></a>
        <a class="tile"><img src="./3DSlideShow/post10.png" alt=""></a>
        <a class="tile"><img src="./3DSlideShow/post11.png" alt=""></a>
        <a class="tile"><img src="./3DSlideShow/post12.png" alt=""></a>
        <a class="tile"><img src="./3DSlideShow/post13.png" alt=""></a>
        <a class="tile"><img src="./3DSlideShow/post14.png" alt=""></a>
        <!-- Duplikat -->
        <a class="tile"><img src="./3DSlideShow/post8.png" alt=""></a>
        <a class="tile"><img src="./3DSlideShow/post9.png" alt=""></a>
        <a class="tile"><img src="./3DSlideShow/post10.png" alt=""></a>
      </div>
    </div>
  </div>

  <script>
    // Scroll-Parallax + sanfte Drift auf Mobil
    (function(){
      const marquee = document.getElementById('image-marquee');
      const rows = marquee.querySelectorAll('.row');
      const tracks = [...rows].map(r => r.querySelector('.track'));
      const speeds = [0.4, -0.4]; // oben, unten

      function onScroll(){
        const rect = marquee.getBoundingClientRect();
        const vh = window.innerHeight;
        const progress = 1 - Math.min(Math.max((rect.top + rect.height) / (vh + rect.height), 0), 1);
        tracks.forEach((t,i)=>{
          const drift = progress * 25 * speeds[i]; // sanftes Mitschieben
          t.style.transform = `translateX(${drift}%)`;
        });
      }

      // Nur bei kleinen Viewports aktiv
      const mq = window.matchMedia("(max-width: 900px)");
      if(mq.matches){
        window.addEventListener('scroll', onScroll, {passive:true});
        onScroll();
      }
    })();
  </script>
</section>











<!-- =========================================================
     SECTION: CASE — ID: neolog-showcase
     Thema: 3D-Renderings für NEOLOG
     Update: Rechte Stack-Spalte (Video + Galerie) bündig zur Hero-Höhe
========================================================== -->
<section id="neolog-showcase" aria-labelledby="neo-h">
  <style>
    #neolog-showcase, #neolog-showcase *{ box-sizing:border-box; }
    #neolog-showcase{
      --glass-bg: color-mix(in oklab, var(--surface, #0b0b10) 70%, transparent);
      --glass-border: var(--border, rgba(255,255,255,.15));
      --text: var(--text, #eaeaf0);
      --muted: var(--muted, #b8bcc7);
      --grad-blue: linear-gradient(270deg,#04006c,#6f00ff,#050088);
      --grad-ink:  linear-gradient(135deg,#0d0d0d,#000e5c,#0d0d0d);
      --grad-orange: linear-gradient(135deg,#ff5100,#c4005a,#ff5100);
      color: var(--text);
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
      background: var(--surface, #0b0b10);
    }
    #neolog-showcase .container{ max-width:min(95vw, 1340px); margin-inline:auto; padding-inline:1rem; }
    #neolog-showcase .section-pad{ padding:2.25rem 0 2.5rem; }

    /* Header */
    #neolog-showcase .eyebrow{
      display:inline-flex; align-items:center; gap:.5rem;
      padding:.4rem .7rem; border-radius:999px; font-weight:800; font-size:.85rem;
      background: var(--grad-blue); color:#fff;
      box-shadow: inset 0 0 0 1.5px rgba(255,255,255,.18);
    }
    #neolog-showcase .title{
      font-size:clamp(2.1rem, 4.6vw, 3.2rem); font-weight:900; letter-spacing:-.02em; margin:.65rem 0 .4rem;
    }
    #neolog-showcase .title .hilite{
      background: linear-gradient(90deg,var(--text),color-mix(in oklab, var(--text) 60%, transparent));
      -webkit-background-clip:text; background-clip:text; color:transparent;
    }
    #neolog-showcase .sub{
      color: var(--muted); max-width:56rem; margin:0 auto; line-height:1.6; font-size:clamp(1rem,2vw,1.06rem);
    }
    #neolog-showcase .badges{ display:flex; flex-wrap:wrap; gap:.5rem; justify-content:center; margin-top:1rem; }
    #neolog-showcase .pill{
      display:inline-flex; align-items:center; gap:.45rem; padding:.42rem .7rem; border-radius:999px;
      border:1px solid var(--glass-border);
      background: color-mix(in oklab, var(--text) 6%, var(--surface, #0b0b10));
      font-weight:800; font-size:.9rem; color: var(--text);
    }
    #neolog-showcase .pill .dot{
      width:.5rem; height:.5rem; border-radius:999px; background:#fff; box-shadow:0 0 0 2px rgba(255,255,255,.25);
    }

    /* KPI-Karten (optional) */
    #neolog-showcase .results{
      display:grid; gap:clamp(1rem,2vw,1.25rem);
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      margin:1.2rem 0 1.4rem;
    }
    #neolog-showcase .result{
      position:relative; border-radius:20px; padding:1.4rem; color:#fff;
      border:1px solid rgba(70,70,70,.14);
      background: var(--bg, var(--grad-blue)); background-size:400% 400%;
    }
    #neolog-showcase .result h3{ margin:0; font-size:1.05rem; font-weight:900; letter-spacing:-.01em }
    #neolog-showcase .result p{ margin:.35rem 0 0; font-size:.95rem; opacity:.95 }
    #neolog-showcase .kpi{ font-feature-settings:"tnum" 1; font-weight:900; letter-spacing:-.01em; margin-bottom:.35rem }
    #neolog-showcase .kpi .val{ font-size: clamp(1.35rem, 2.1vw, 1.6rem) }
    #neolog-showcase .kpi .unit{ opacity:.85; font-weight:800 }

    /* Media Grid */
    #neolog-showcase .grid{
      display:grid; gap:clamp(1rem,2vw,1.25rem);
      grid-template-columns: repeat(12, 1fr);
      margin-top: .6rem;
      align-items: stretch;
    }

    /* Kachel-Grundstil */
    #neolog-showcase .tile{
      position:relative; overflow:hidden; border-radius:18px;
      border:1px solid var(--glass-border);
      background: var(--glass-bg);
      box-shadow:0 10px 20px color-mix(in oklab, var(--text) 6%, transparent), inset 0 1px 0 rgba(255,255,255,.4);
      display:block;
    }
    #neolog-showcase .tile img, #neolog-showcase .tile video{
      width:100%; height:100%; object-fit:cover; display:block;
    }

    /* GRID SPANS */
    #neolog-showcase .col-12{ grid-column: span 12; }
    #neolog-showcase .col-8{ grid-column: span 8; }
    #neolog-showcase .col-4{ grid-column: span 4; }
    #neolog-showcase .col-6{ grid-column: span 6; }

    /* Hero mit festem Seitenverhältnis */
    #neolog-showcase .hero-tile{ aspect-ratio: 16/10; }

    /* Rechte Spalte: Video oben mit 16:9, darunter Galerie füllt Rest -> bündig mit Hero */
    #neolog-showcase .stack{
      grid-column: span 4;
      display:flex; flex-direction:column; gap:clamp(.75rem,1vw,1rem);
      min-height: 100%;
    }
    #neolog-showcase .stack .tile.video{ aspect-ratio: 16/9; }
    #neolog-showcase .stack .tile.gallery{
      flex:1 1 auto;           /* füllt die restliche Höhe */
      min-height: 220px;       /* sinnvolle Mindesthöhe */
    }

    @media (max-width: 900px){
      #neolog-showcase .col-8, #neolog-showcase .col-6, #neolog-showcase .col-4, #neolog-showcase .stack{
        grid-column: 1 / -1;
      }
      /* mobil: natürliche Höhe, kein Zwang auf Bündigkeit nötig */
      #neolog-showcase .stack{ height:auto !important; }
    }

    /* Overlay + Caption */
    #neolog-showcase .overlay{
      position:absolute; inset:0; background: linear-gradient(180deg, rgba(0,0,0,.0), rgba(0,0,0,.35));
      opacity:.0; transition:opacity .2s ease;
    }
    #neolog-showcase .caption{
      position:absolute; left:12px; right:12px; bottom:10px; color:#fff;
      font-weight:800; font-size:.95rem; letter-spacing:-.01em; text-shadow:0 2px 8px rgba(0,0,0,.45);
      display:flex; justify-content:space-between; align-items:center; gap:.6rem;
    }
    #neolog-showcase .tile:focus-visible .overlay,
    #neolog-showcase .tile:hover .overlay{ opacity:1; }

    /* Play-Button */
    #neolog-showcase .play{
      position:absolute; inset:auto auto 10px 12px; display:inline-flex; align-items:center; gap:.55rem;
      padding:.58rem .7rem; border-radius:12px; border:1px solid rgba(255,255,255,.35);
      background: color-mix(in oklab, #fff 14%, transparent); color:#fff; font-weight:900; cursor:pointer;
      backdrop-filter: blur(8px); box-shadow: 0 6px 20px rgba(0,0,0,.22);
    }
    #neolog-showcase .play svg{ width:18px; height:18px; stroke:#fff; fill:none; stroke-width:2; stroke-linecap:round; stroke-linejoin:round; }

    /* Lightbox */
    #neolog-showcase .lightbox{
      position:fixed; inset:0; z-index:60; display:none; align-items:center; justify-content:center;
      background: rgba(0,0,0,.65); backdrop-filter: blur(2px);
      padding: clamp(12px, 2vw, 24px);
    }
    #neolog-showcase .lightbox[open]{ display:flex; }
    #neolog-showcase .lightbox-inner{
      max-width:min(92vw, 1200px); width:100%; aspect-ratio: 16/9; position:relative;
      border-radius:14px; overflow:hidden; border:1px solid rgba(255,255,255,.25);
      box-shadow: 0 20px 60px rgba(0,0,0,.5);
      background:#000;
    }
    #neolog-showcase .lightbox img, #neolog-showcase .lightbox video{
      width:100%; height:100%; object-fit:contain; background:#000;
    }
    #neolog-showcase .close{
      position:absolute; top:10px; right:10px; display:inline-flex; align-items:center; justify-content:center;
      width:38px; height:38px; border-radius:12px; border:1px solid rgba(255,255,255,.35);
      background: color-mix(in oklab, #fff 12%, transparent); color:#fff; cursor:pointer; font-weight:900;
      backdrop-filter: blur(8px);
    }
    #neolog-showcase .close svg{ width:18px; height:18px; stroke:#fff; fill:none; stroke-width:2; stroke-linecap:round; stroke-linejoin:round; }

    /* CTA */
    #neolog-showcase .cta-row{ display:flex; flex-wrap:wrap; gap:.6rem; justify-content:center; margin-top:1.2rem; }
    #neolog-showcase .cta{
      display:inline-flex; align-items:center; gap:.55rem; padding:.9rem 1.2rem; border-radius:12px;
      font-weight:900; border:1px solid rgba(255,255,255,.22); text-decoration:none; color:#fff;
      background: var(--grad-ink);
    }
    #neolog-showcase .cta:hover{ filter:saturate(1.04) brightness(1.01); transform: translateY(-1px); transition:.15s ease; }
  /* "überzeugen" im Titel schwarz färben */
#neolog-showcase .title .hilite{
  background: none !important;
  -webkit-background-clip: initial !important;
  background-clip: initial !important;
  color: #000 !important;
}

  </style>

  <div class="section-pad">
    <div class="container">
      <header class="intro" style="text-align:center;">
        <span class="eyebrow">Fallstudie · NEOLOG</span>
        <h2 id="neo-h" class="title">3D-Renderings, die <span class="hilite">überzeugen</span>.</h2>
        <p class="sub">
          Für <strong>NEOLOG</strong> habe ich zahlreiche 3D-Renderings entwickelt – von Produkt-Close-ups bis
          zu stimmungsvollen Szenen. Die Visuals kamen intern wie extern <em>sehr gut</em> an und unterstützen Vertrieb & Marketing.
        </p>
        <div class="badges" aria-label="Highlights">
          <span class="pill"><span class="dot" aria-hidden="true"></span> Fotorealistisch</span>
          <span class="pill"><span class="dot" aria-hidden="true"></span> Konsistente CI</span>
          <span class="pill"><span class="dot" aria-hidden="true"></span> Schnelle Iterationen</span>
          <span class="pill"><span class="dot" aria-hidden="true"></span> Video + Stills</span>
        </div>
      </header>

      <!-- KPIs (optional) -->
      <div class="results" aria-label="Ergebnisse">
        <article class="result" style="--bg: var(--grad-blue)">
          <div class="kpi"><span class="val">30+</span> <span class="unit">Renderings</span></div>
          <h3>Breite Motivpalette</h3>
          <p>Produkte, Detail-Makros, Environment-Shots.</p>
        </article>
        <article class="result" style="--bg: var(--grad-ink)">
          <div class="kpi"><span class="val">≤48h</span> <span class="unit">pro Iteration</span></div>
          <h3>Agiler Ablauf</h3>
          <p>Freigaben & Anpassungen in engen Zyklen.</p>
        </article>
        <article class="result" style="--bg: var(--grad-orange)">
          <div class="kpi"><span class="val">+19%</span> <span class="unit">Engagement</span></div>
          <h3>Stärkere Wirkung</h3>
          <p>Mehr Interaktionen auf Landingpages & Social.</p>
        </article>
      </div>

      <!-- Medienraster -->
      <div class="grid" role="list">
        <!-- Linke Hero-Szene -->
        <a id="neo-hero" class="tile hero-tile col-8" role="listitem" href="./3DSlideShow/post1.png" data-type="image" aria-label="Bild öffnen: Hero Rendering">
          <img src="./3DSlideShow/post1.png" alt="NEOLOG 3D-Rendering – Hero-Szene" loading="lazy"/>
          <div class="overlay"></div>
          <div class="caption"><span>Hero-Szene · Produktfamilie</span></div>
        </a>

        <!-- Rechte Stack-Spalte: Video + große Galerie (bündig mit Hero) -->
        <div id="neo-stack" class="stack" role="group" aria-label="Teaser + Galerie">
          <!-- Video -->
          <button class="tile video" data-type="video" data-video="./3DSlideShow/neolog-teaser.mp4" aria-label="Video abspielen: Teaser">
            <video preload="metadata" muted playsinline poster="./3DSlideShow/post2.png"></video>
            <div class="overlay"></div>
            <span class="play" aria-hidden="true">
              <svg viewBox="0 0 24 24"><polygon points="8,6 19,12 8,18 8,6"></polygon></svg> Teaser
            </span>
            <div class="caption" aria-hidden="true"><span>Motion-Cut · 12s</span></div>
          </button>

          <!-- Galerie: füllt restliche Höhe -->
          <a class="tile gallery" id="neo-rot-tile" href="./3DSlideShow/post3.png" data-type="image" aria-label="Bild öffnen: Galerie (zufällig)">
            <img id="neo-rot-img" src="./3DSlideShow/post3.png" alt="Zufälliges 3D-Rendering aus der Serie" loading="lazy"/>
            <div class="overlay"></div>
            <div class="caption"><span>Galerie · Zufalls-Auswahl</span></div>
          </a>
        </div>

        <!-- Weitere Stills -->
        <a class="tile col-6" role="listitem" href="./3DSlideShow/post4.png" data-type="image" aria-label="Bild öffnen: Detail Rendering 01" style="aspect-ratio:16/10;">
          <img src="./3DSlideShow/post4.png" alt="Detail-Rendering 01" loading="lazy"/>
          <div class="overlay"></div>
          <div class="caption"><span>Detail · Materialität</span></div>
        </a>

        <a class="tile col-6" role="listitem" href="./3DSlideShow/post5.png" data-type="image" aria-label="Bild öffnen: Ambient Rendering 02" style="aspect-ratio:16/10;">
          <img src="./3DSlideShow/post5.png" alt="Ambient-Rendering 02" loading="lazy"/>
          <div class="overlay"></div>
          <div class="caption"><span>Ambient · Low-Key</span></div>
        </a>

        <a class="tile col-4" role="listitem" href="./3DSlideShow/post6.png" data-type="image" aria-label="Bild öffnen: Produkt Rendering 03" style="aspect-ratio:16/10;">
          <img src="./3DSlideShow/post6.png" alt="Produkt-Rendering 03" loading="lazy"/>
          <div class="overlay"></div>
          <div class="caption"><span>Produkt · Makro</span></div>
        </a>

        <a class="tile col-4" role="listitem" href="./3DSlideShow/post7.png" data-type="image" aria-label="Bild öffnen: Produkt Rendering 04" style="aspect-ratio:16/10;">
          <img src="./3DSlideShow/post7.png" alt="Produkt-Rendering 04" loading="lazy"/>
          <div class="overlay"></div>
          <div class="caption"><span>Serie · Varianten</span></div>
        </a>

        <a class="tile col-4" role="listitem" href="./3DSlideShow/post8.png" data-type="image" aria-label="Bild öffnen: Setup Rendering 05" style="aspect-ratio:16/10;">
          <img src="./3DSlideShow/post8.png" alt="Setup-Rendering 05" loading="lazy"/>
          <div class="overlay"></div>
          <div class="caption"><span>Setup · Lichtstudie</span></div>
        </a>
      </div>

      <div class="cta-row">
        <a class="cta" href="#contact" aria-label="Kontakt aufnehmen für 3D-Renderings">3D-Projekt anfragen</a>
      </div>
    </div>
  </div>

  <!-- Lightbox + Höhe-Sync + Random-Rotation -->
  <div class="lightbox" id="neo-lightbox" aria-modal="true" role="dialog" aria-label="Medienanzeige">
    <div class="lightbox-inner">
      <button class="close" aria-label="Schließen">
        <svg viewBox="0 0 24 24"><line x1="6" y1="6" x2="18" y2="18"/><line x1="18" y1="6" x2="6" y2="18"/></svg>
      </button>
    </div>
  </div>

  <script>
    (function(){
      const sc = document.getElementById('neolog-showcase');
      const lb = sc.querySelector('#neo-lightbox');
      const inner = lb.querySelector('.lightbox-inner');
      const closeBtn = lb.querySelector('.close');

      /* --- Lightbox --- */
      function openImage(src, alt){
        inner.querySelectorAll('img,video').forEach(el=>el.remove());
        const img = document.createElement('img');
        img.src = src; img.alt = alt || '';
        inner.appendChild(img);
        lb.setAttribute('open','');
        trapFocus();
      }
      function openVideo(src){
        inner.querySelectorAll('img,video').forEach(el=>el.remove());
        const vid = document.createElement('video');
        vid.src = src; vid.controls = true; vid.autoplay = true; vid.playsInline = true;
        inner.appendChild(vid);
        lb.setAttribute('open','');
        trapFocus();
      }
      function close(){ lb.removeAttribute('open'); inner.querySelectorAll('video').forEach(v=>{ try{ v.pause(); }catch(_){} }); releaseFocus(); }

      sc.querySelectorAll('.tile[href][data-type="image"]').forEach(a=>{
        a.addEventListener('click', e=>{ e.preventDefault(); openImage(a.getAttribute('href'), a.querySelector('img')?.alt || 'Bild'); });
      });
      sc.querySelectorAll('.tile[data-type="video"]').forEach(btn=>{
        btn.addEventListener('click', ()=>{ const src = btn.getAttribute('data-video'); if(src) openVideo(src); });
      });
      closeBtn.addEventListener('click', close);
      lb.addEventListener('click', (e)=>{ if(e.target === lb) close(); });
      window.addEventListener('keydown', (e)=>{ if(lb.hasAttribute('open') && e.key === 'Escape') close(); });

      let lastFocus = null;
      function trapFocus(){ lastFocus = document.activeElement; closeBtn.focus(); lb.addEventListener('keydown', onKeyTab); }
      function releaseFocus(){ lb.removeEventListener('keydown', onKeyTab); if(lastFocus) lastFocus.focus(); }
      function onKeyTab(e){ if(e.key !== 'Tab') return; e.preventDefault(); closeBtn.focus(); }

      /* --- Bündigkeit: Rechte Stack-Höhe = Hero-Höhe --- */
      const hero = sc.querySelector('#neo-hero');
      const stack = sc.querySelector('#neo-stack');

      function syncHeights(){
        if(!hero || !stack) return;
        // Nur am Desktop die Höhe fixen; mobil wieder automatisch
        if (window.matchMedia('(max-width: 900px)').matches){
          stack.style.height = 'auto';
          return;
        }
        // Warten bis Medien Dimensionen haben
        const h = hero.getBoundingClientRect().height;
        if(h > 0) stack.style.height = h + 'px';
      }

      // bei Load + Resize (debounced)
      let rAF = null;
      function onResize(){ if(rAF) cancelAnimationFrame(rAF); rAF = requestAnimationFrame(syncHeights); }
      window.addEventListener('load', syncHeights, { once:true });
      window.addEventListener('resize', onResize, { passive:true });
      // falls Bilder später laden:
      const heroImg = hero?.querySelector('img');
      heroImg?.addEventListener('load', syncHeights, { once:true });

      /* --- Zufallsbild-Logik für Galerie --- */
      const rotImg = sc.querySelector('#neo-rot-img');
      const rotTile = sc.querySelector('#neo-rot-tile');
      const basePath = './3DSlideShow/post';
      const ext = '.png';
      const max = 21;
      const pool = Array.from({length: max}, (_,i)=> `${basePath}${i+1}${ext}`);
      let current = rotImg?.getAttribute('src') || pool[0];

      function pickRandomNotCurrent(){
        let candidate = current;
        while(candidate === current){
          candidate = pool[(Math.random() * pool.length) | 0];
        }
        return candidate;
      }
      function swapRandom(){
        if(!rotImg || !rotTile) return;
        const next = pickRandomNotCurrent();
        const pre = new Image();
        pre.onload = ()=>{
          rotImg.style.transition = 'opacity .25s ease';
          rotImg.style.opacity = '0';
          setTimeout(()=>{
            rotImg.src = next;
            rotTile.setAttribute('href', next);
            current = next;
            rotImg.style.opacity = '1';
            // Nach Wechsel Höhe neu synchronisieren (falls unterschiedliche Postergrößen wirken)
            syncHeights();
          }, 220);
        };
        pre.src = next;
      }
      function scheduleNext(){
        const delay = 5000 + Math.random()*2000; // 5–7s
        setTimeout(()=>{ swapRandom(); scheduleNext(); }, delay);
      }
      if(rotImg && rotTile){ scheduleNext(); }

      // Initialer Sync nach kurzer Verzögerung, falls Layout-CSS erst greift
      setTimeout(syncHeights, 60);
    })();
  </script>
</section>












<!-- =========================================================
     SECTION: KALLISTO — 3D WHY-US (Weißes Layout, optimierte Typo in Karten)
     – Vollständiger Code mit UX-Upgrade für Bullet-Text
========================================================== -->
<section id="kallisto-core" aria-labelledby="kallisto-h">
  <style>
    /* ===== Basis (weißer Hintergrund) ===== */
    #kallisto-core, #kallisto-core *{ box-sizing:border-box; }
    #kallisto-core{
      --surface: #ffffff;
      --ink-900: #0b0c10;
      --ink-700: #1c2230;
      --muted:   #6b7280;
      --blue:   #1b2dd6;
      --ink:    #0f1220;
      --orange: #ff5c1a;
      --radius: 18px;
      --shadow: 0 10px 28px rgba(0,0,0,.07);

      color: var(--ink-900);
      background: var(--surface);
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
    }
    #kallisto-core .wrap{ max-width:min(95vw, 1340px); margin-inline:auto; padding:3rem 1rem 3.2rem; }

    /* ===== Header ===== */
    #kallisto-core .intro{ text-align:center; margin-bottom: 1.9rem; }
    #kallisto-core .glyph{
      display:inline-flex; align-items:center; gap:.5rem;
      padding:.46rem .9rem; border-radius:999px; font-weight:800; font-size:.85rem;
      background:#11131a; color:#fff; box-shadow: inset 0 0 0 1.5px rgba(255,255,255,.10);
    }
    #kallisto-core .crest{
      font-size:clamp(2.2rem, 4.8vw, 3.4rem); font-weight:900; letter-spacing:-.022em;
      margin:.8rem 0 .55rem; line-height:1.12; color: var(--ink-900);
    }
    #kallisto-core .crest .spark{ color: var(--ink-900); }
    #kallisto-core .subtone{
      color: var(--ink-700); max-width:56rem; margin:0 auto;
      line-height:1.65; font-size:clamp(1.02rem,2vw,1.12rem); letter-spacing:.002em;
    }

    /* ===== Grid ===== */
    #kallisto-core .nebula{
      display:grid;
      grid-template-columns: repeat(6, 1fr);
      grid-template-rows: repeat(9, 1fr);
      gap: clamp(14px, 2vw, 22px);           /* mehr Luft zwischen Karten */
      margin-top: 2rem;
      min-height: 720px;
    }
    #kallisto-core .orb1 { grid-column: span 3 / span 3; grid-row: span 3 / span 3; }
    #kallisto-core .orb2 { grid-column: span 3 / span 3; grid-row: span 3 / span 3; grid-column-start: 1; grid-row-start: 4; }
    #kallisto-core .orb3 { grid-row: span 2 / span 2; grid-column-start: 4; grid-row-start: 1; }
    #kallisto-core .orb4 { grid-column: span 3 / span 3; grid-row: span 4 / span 4; grid-column-start: 4; grid-row-start: 3; }
    #kallisto-core .orb5 { grid-row: span 2 / span 2; grid-column-start: 6; grid-row-start: 1; }
    #kallisto-core .orb6 { grid-column: span 6 / span 6; grid-row: span 3 / span 3; grid-column-start: 1; grid-row-start: 7; }
    #kallisto-core .orb7 { grid-row: span 2 / span 2; grid-column-start: 5; grid-row-start: 1; }

    /* ===== Karten ===== */
    #kallisto-core .prism{
      --measure: 60ch;
      --rule: rgba(255,255,255,.18);
      --mutedOnCard: rgba(255,255,255,.92);

      font-kerning: normal;
      font-variant-ligatures: contextual common-ligatures;

      position:relative; border-radius:var(--radius);
      display:flex; flex-direction:column; justify-content:flex-start;
      height:100%; padding: clamp(1.2rem, 2.6vw, 2rem);
      color:#fff; box-shadow: var(--shadow);
    }
    #kallisto-core .prism.blue   { background: var(--blue); }
    #kallisto-core .prism.ink    { background: var(--ink); }
    #kallisto-core .prism.orange { background: var(--orange); }

    /* ===== Typografie in Karten ===== */
    #kallisto-core .prism .kicker{
      font-size:.82rem;
      letter-spacing:.09em;
      text-transform:uppercase;
      opacity:.95;
      margin-bottom:.65rem;
      text-wrap:balance;
    }
    #kallisto-core .prism .flare{
      margin:0 0 .6rem;
      font-weight:960;
      letter-spacing:-.016em;
      font-size:clamp(1.32rem,2.35vw,1.66rem);
      line-height:1.18;
      text-wrap:balance;
    }
    #kallisto-core .prism .lede{
      margin:0 0 1.1rem;
      color:var(--mutedOnCard);
      font-size:clamp(1.06rem,1.95vw,1.22rem);
      line-height:1.75;
      max-width:var(--measure);
      hyphens:auto;
      text-wrap:pretty;
    }

    /* ===== UX-UPGRADE: Bullet-Text neben den Punkten ===== */
    #kallisto-core .prism .gridlist{
      margin:0;
      padding:0;
      list-style:none;
      display:grid;
      gap:.7rem;                            /* rhythmischer Abstand */
      max-width:62ch;                       /* angenehme Zeilenlänge */
    }
    #kallisto-core .prism .griditem{
      display:grid;
      grid-template-columns:18px 1fr;       /* präzise Einrückung */
      gap:.65rem;
      align-items:start;
      padding:.55rem 0 .7rem;               /* mehr Luft & bessere Touch-Ziele */
      border-top:1px solid var(--rule);
      line-height:1.6;
    }
    #kallisto-core .prism .griditem:first-child{ border-top:0; }

    #kallisto-core .prism .pip{
      width:10px; height:10px; border-radius:999px;
      margin-top:.45rem;
      background:#fff;
      box-shadow:0 0 0 2px rgba(255,255,255,.22);
    }

    /* Lead als Mini-Überschrift je Bullet */
    #kallisto-core .prism .lead{
      display:block;                         /* eigene Zeile für Klarheit */
      margin:0 0 .15rem;
      font-weight:950;
      font-size:clamp(1.05rem,1.7vw,1.18rem);
      line-height:1.3;
      letter-spacing:-.01em;
      color:#fff;                            /* maximaler Kontrast */
      text-wrap:balance;
    }
    /* Fließtext des Bullets (zweites Span) */
    #kallisto-core .prism .griditem > span:last-child{
      color: rgba(255,255,255,.92);
      font-weight:680;
      font-size: clamp(.98rem, 1.5vw, 1.08rem);
      letter-spacing:-.003em;
    }
    /* feine Kontrast-Tweaks je Farbvariante */
    #kallisto-core .prism.orange .griditem > span:last-child{ color: rgba(255,255,255,.95); }
    #kallisto-core .prism.ink    .griditem > span:last-child{ color: rgba(255,255,255,.9);  }

    /* Abschlussnotiz */
    #kallisto-core .prism .note{
      margin-top:1.2rem;
      font-size:.95rem;
      line-height:1.64;
      max-width:var(--measure);
      color:rgba(255,255,255,.93);
      text-wrap:pretty;
    }

    /* ===== Medien ===== */
    #kallisto-core .media{
      border-radius:var(--radius); overflow:hidden; height:100%; position:relative;
      border:1px solid #eceff3; box-shadow: var(--shadow);
      background:#fff;
    }
    #kallisto-core .media img, #kallisto-core .media video{
      width:100%; height:100%; object-fit:cover; display:block;
    }
    #kallisto-core .caption{
      position:absolute; left:12px; bottom:10px; color:#0f1220; font-weight:800; font-size:.9rem;
      text-shadow:0 1px 0 rgba(255,255,255,.9), 0 6px 20px rgba(0,0,0,.28); pointer-events:none;
    }

    /* ===== Impact Card (Text links, Bild rechts) ===== */
    #kallisto-core .impact-inner{
      display:grid; grid-template-columns: 1.2fr .9fr; gap: clamp(12px, 2vw, 18px); align-items:stretch;
    }
    #kallisto-core .impact-visual{
      border-radius: clamp(14px, 2vw, 18px); overflow:hidden; position:relative;
      background:#fff; border:1px solid rgba(255,255,255,.4);
      box-shadow: inset 0 0 0 1px rgba(0,0,0,.06);
    }
    #kallisto-core .impact-visual img{ width:100%; height:100%; object-fit:cover; display:block; }

    /* ===== Responsive ===== */
    @media (max-width: 900px){
      #kallisto-core .nebula{
        grid-template-columns: 1fr 1fr;
        grid-auto-rows: minmax(170px, 32vw);
        gap: clamp(12px, 2.6vw, 18px);
        min-height:unset;
      }
      #kallisto-core .orb1,
      #kallisto-core .orb2,
      #kallisto-core .orb4,
      #kallisto-core .orb6 { grid-column:1 / -1; }

      #kallisto-core .impact-inner{ grid-template-columns: 1fr; }
      #kallisto-core .impact-visual{ min-height: 36vw; }

      /* komfortablerer Bodytext mobil */
      #kallisto-core .prism .gridlist{ max-width:100%; }
      #kallisto-core .prism .griditem > span:last-child{
        font-size: clamp(1rem, 2.2vw, 1.12rem);
        line-height: 1.68;
      }
    }
    
  </style>

  <div class="wrap">
    <header class="intro">
      <span class="glyph">Warum wir</span>
      <h2 id="kallisto-h" class="crest">3D-Design, das <span class="spark">Resultate</span> liefert.</h2>
      <p class="subtone">Wir kombinieren fotorealistische Renderings mit klaren Prozessen – so entstehen Visuals, die schneller live gehen und messbar besser performen.</p>
    </header>

    <div class="nebula">
      <!-- 1: TEXT (BLAU) -->
      <div class="orb1 prism blue">
        <span class="kicker">Qualität</span>
        <h3 class="flare">Visuelle Präzision</h3>
        <p class="lede">Licht, Material und Perspektive sind fein aufeinander abgestimmt – für Renderings, die wie High-End-Fotografie wirken, nur flexibler.</p>
        <ul class="gridlist">
          <li class="griditem">
            <span class="pip"></span>
            <span>
              <span class="lead">Physikalische Materialien</span>
              erzeugen realistische Reflexe, Mikro-Rauheiten und Oberflächenharmonie.
            </span>
          </li>
          <li class="griditem">
            <span class="pip"></span>
            <span>
              <span class="lead">Farbtreue</span>
              durch sRGB/Rec.709 – deine Markenfarben bleiben überall konsistent.
            </span>
          </li>
          <li class="griditem">
            <span class="pip"></span>
            <span>
              <span class="lead">Wiederverwendbare Setups</span>
              sichern konstante Ergebnisse bei Serien und Varianten.
            </span>
          </li>
        </ul>
        <p class="note">Ergebnis: ein markenklares Bildsystem, das sich schnell skalieren lässt.</p>
      </div>

      <!-- 2: VIDEO -->
      <div class="orb2 media">
        <video src="./3DSlideShow/neolog-teaser.mp4" poster="./3DSlideShow/post2.png" playsinline muted controls></video>
        <span class="caption">3D Motion Visual</span>
      </div>

      <!-- 3: BILD -->
      <div class="orb3 media">
        <img src="./3DSlideShow/post3.png" alt="3D Rendering – Detailansicht">
      </div>

      <!-- 4: TEXT (SCHWARZ / INK) -->
      <div class="orb4 prism ink">
        <span class="kicker">Prozess</span>
        <h3 class="flare">Abläufe mit Plan</h3>
        <p class="lede">Klare Timelines, feste Reviews, nachvollziehbare Versionierung – für Projekte, die pünktlich und stressfrei ins Ziel gehen.</p>
        <ul class="gridlist">
          <li class="griditem">
            <span class="pip"></span>
            <span>
              <span class="lead">Fixe Review-Slots</span>
              halten Fokus hoch und verhindern Schleifen.
            </span>
          </li>
          <li class="griditem">
            <span class="pip"></span>
            <span>
              <span class="lead">Schnelle Previews</span>
              liefern Feedbackgrundlagen innerhalb weniger Tage.
            </span>
          </li>
          <li class="griditem">
            <span class="pip"></span>
            <span>
              <span class="lead">Dokumentierte Szenen</span>
              machen jedes Setup reproduzierbar.
            </span>
          </li>
        </ul>
        <p class="note">Planbar statt zufällig – so wird Qualität verlässlich.</p>
      </div>

      <!-- 5: BILD -->
      <div class="orb5 media">
        <img src="./3DSlideShow/post5.png" alt="3D Rendering – Ambient Low-Key">
      </div>

      <!-- 6: TEXT (ORANGE, BREIT) + Bild rechts -->
      <div class="orb6 prism orange">
        <div class="impact-inner">
          <div class="impact-copy">
            <span class="kicker">Outcome</span>
            <h3 class="flare">Design mit Wirkung</h3>
            <p class="lede">Visuals, die Emotion und Klarheit verbinden – um Produkte verständlich zu machen, Begehrlichkeit zu erzeugen und Vertrauen zu stärken.</p>
            <ul class="gridlist">
              <li class="griditem">
                <span class="pip"></span>
                <span>
                  <span class="lead">Feature-Makros</span>
                  zeigen komplexe Details auf den Punkt erklärt.
                </span>
              </li>
              <li class="griditem">
                <span class="pip"></span>
                <span>
                  <span class="lead">Hero-Visuals</span>
                  schaffen Wiedererkennung und Markentiefe.
                </span>
              </li>
              <li class="griditem">
                <span class="pip"></span>
                <span>
                  <span class="lead">Konsistente Bildsprache</span>
                  über Varianten hinweg stärkt Vertrauen und Markenbindung.
                </span>
              </li>
            </ul>
            <p class="note">Mehr Klarheit, mehr Emotion – und sichtbar bessere Performance im gesamten Funnel.</p>
          </div>
          <div class="impact-visual" aria-hidden="true">
            <img src="./3DSlideShow/post9.png" alt="">
          </div>
        </div>
      </div>

      <!-- 7: BILD -->
      <div class="orb7 media">
        <img src="./3DSlideShow/post7.png" alt="3D Rendering – Produktmakro">
      </div>
    </div>
  </div>
</section>






















<!--  
  <section class="branch-selection visible" id="branchSelection">
    <div class="branch-inner">
      <h2>So könnte Ihr Profukt aussehen:</h2>
      <div class="branch-grid">

        <div class="branch-card">
          <video autoplay muted loop playsinline>
            <source src="./" type="video/mp4">
          </video>
          <div class="branch-overlay">
            <h3>🍽️ Gastronomie</h3>
          </div>
        </div>

        <div class="branch-card">
          <video autoplay muted loop playsinline>
            <source src="./Fotos/gastronomie.mp4" type="video/mp4">
          </video>
          <div class="branch-overlay">
            <h3>🏛️ Architektur</h3>
          </div>
        </div>

        <div class="branch-card">
          <video autoplay muted loop playsinline>
            <source src="./Fotos/gastronomie.mp4" type="video/mp4">
          </video>
          <div class="branch-overlay">

          </div>
        </div>

        <div class="branch-card">
          <video autoplay muted loop playsinline>
            <source src="./Fotos/gastronomie.mp4" type="video/mp4">
          </video>
          <div class="branch-overlay">

          </div>
        </div>

        <div class="branch-card">
          <video autoplay muted loop playsinline>
            <source src="./Fotos/gastronomie.mp4" type="video/mp4">
          </video>
          <div class="branch-overlay">

          </div>
        </div>

        <div class="branch-card">
          <video autoplay muted loop playsinline>
            <source src="./Fotos/gastronomie.mp4" type="video/mp4">
          </video>
          <div class="branch-overlay">

          </div>
        </div>

        <div class="branch-card">
          <video autoplay muted loop playsinline>
            <source src="./Fotos/gastronomie.mp4" type="video/mp4">
          </video>
          <div class="branch-overlay">

          </div>
        </div>

        <div class="branch-card">
          <video autoplay muted loop playsinline>
            <source src="./Fotos/gastronomie.mp4" type="video/mp4">
          </video>
        </div>

        <div class="branch-card">
          <video autoplay muted loop playsinline>
            <source src="./Fotos/gastronomie.mp4" type="video/mp4">
          </video>
        </div>

        <div class="branch-card">
          <video autoplay muted loop playsinline>
            <source src="./Fotos/gastronomie.mp4" type="video/mp4">
          </video>
        </div>

        <div class="branch-card">
          <video autoplay muted loop playsinline>
            <source src="./Fotos/gastronomie.mp4" type="video/mp4">
          </video>
        </div>

        <div class="branch-card">
          <video autoplay muted loop playsinline>
            <source src="./Fotos/gastronomie.mp4" type="video/mp4">
          </video>
        </div>

        <div class="branch-card">
          <video autoplay muted loop playsinline>
            <source src="./Fotos/gastronomie.mp4" type="video/mp4">
          </video>
        </div>

        <div class="branch-card">
          <video autoplay muted loop playsinline>
            <source src="./Fotos/gastronomie.mp4" type="video/mp4">
          </video>
        </div>

        <div class="branch-card">
          <video autoplay muted loop playsinline>
            <source src="./Fotos/gastronomie.mp4" type="video/mp4">
          </video>
        </div>

        <div class="branch-card">
          <video autoplay muted loop playsinline>
            <source src="./Fotos/gastronomie.mp4" type="video/mp4">
          </video>
        </div>


        <div class="branch-card">
          <video autoplay muted loop playsinline>
            <source src="./Fotos/gastronomie.mp4" type="video/mp4">
          </video>
        </div>

        <div class="branch-card">
          <video autoplay muted loop playsinline>
            <source src="./Fotos/gastronomie.mp4" type="video/mp4">
          </video>
        </div>

        <div class="branch-card">
          <video autoplay muted loop playsinline>
            <source src="./Fotos/gastronomie.mp4" type="video/mp4">
          </video>
        </div>

        <div class="branch-card">
          <video autoplay muted loop playsinline>
            <source src="./Fotos/gastronomie.mp4" type="video/mp4">
          </video>
        </div>

        <div class="branch-card">
          <video autoplay muted loop playsinline>
            <source src="./Fotos/gastronomie.mp4" type="video/mp4">
          </video>
        </div>

      </div>

    </div>
  </section>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const branchCards = Array.from(document.querySelectorAll('.branch-grid .branch-card'));

      // Karten aufteilen: 50% Bild, 50% Video
      branchCards.forEach(card => {
        card.dataset.cardType = (Math.random() < 0.5) ? "image" : "video";
      });

      // ----------- IMAGE CARDS LOGIK -------------
      const imageCards = branchCards.filter(card => card.dataset.cardType === "image");
      let imageQueue = [];

      function shuffleImageQueue() {
        imageQueue = Array.from({ length: 50 }, (_, i) => i + 1).sort(() => Math.random() - 0.5);
      }


      shuffleImageQueue();

      imageCards.forEach(card => {
        card.classList.add('dynamic-image');
        card.innerHTML = '';

        const imgNum = imageQueue.pop();
        const img = document.createElement('img');
        img.src = `./3DSlideShow/post${imgNum}.png`;
        img.alt = `Post ${imgNum}`;
        card.appendChild(img);

        const overlay = document.createElement('div');
        overlay.className = 'branch-overlay';
        // Kein h3 mehr → stattdessen leerer oder neutraler Overlay
        card.appendChild(overlay);

        card.dataset.currentImg = imgNum;
      });

      setInterval(() => {
        if (imageQueue.length < imageCards.length) {
          shuffleImageQueue();
        }

        imageCards.forEach(card => {
          const imgNum = imageQueue.pop();
          const img = card.querySelector('img');
          img.src = `./3DSlideShow/post${imgNum}.png`;
          card.dataset.currentImg = imgNum;
          // Keine h3-Updates mehr
        });
      }, 5000);

      // ----------- VIDEO CARDS LOGIK -------------
      const videoCards = branchCards.filter(card => card.dataset.cardType === "video");
      let videoQueue = [];

      function shuffleVideoQueue() {
        videoQueue = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10].sort(() => Math.random() - 0.5);
      }

      shuffleVideoQueue();

      videoCards.forEach(card => {
        card.classList.add('dynamic-video');
        card.innerHTML = '';

        const vidNum = videoQueue.pop();
        const video = document.createElement('video');
        video.autoplay = true;
        video.muted = true;
        video.loop = true;
        video.playsInline = true;

        const source = document.createElement('source');
        source.src = `./3DSlideShow/vid${vidNum}.mp4`;
        source.type = "video/mp4";
        video.appendChild(source);
        card.appendChild(video);

        const overlay = document.createElement('div');
        overlay.className = 'branch-overlay';
        // Kein h3 mehr im Overlay
        card.appendChild(overlay);

        card.dataset.currentVideo = vidNum;
      });

      setInterval(() => {
        if (videoQueue.length < videoCards.length) {
          shuffleVideoQueue();
        }

        videoCards.forEach(card => {
          const vidNum = videoQueue.pop();
          const video = card.querySelector('video');
          const source = video.querySelector('source');
          source.src = `./3DSlideShow/vid${vidNum}.mp4`;
          video.load();
          card.dataset.currentVideo = vidNum;
          // Keine h3-Updates mehr
        });
      }, 30000);
    });
  </script>
  <style>
    .branch-card {
      position: relative;
      width: 100%;
      height: auto;
      /* auto statt aspect-ratio */
      overflow: hidden;
      border-radius: 20px;
      cursor: pointer;
      transition: transform 0.4s ease, box-shadow 0.4s ease;
      box-shadow: 0 0 0 rgba(0, 0, 0, 0);
      z-index: 4;
    }

    .branch-card img {
      position: relative;
      width: 100%;
      height: auto;
      object-fit: contain;
      /* oder sogar komplett weglassen */
      display: block;
    }


    .branch-card img,
    .branch-card video {
      width: 100%;
      height: auto;
      object-fit: contain;
    }



    .branch-selection {
      background: #ffffff;
      margin-top: -20px;
      color: #111;
      padding: 6rem 2rem;
      transition: none;
    }

    .branch-selection h2 {
      color: inherit;
      transition: color 0.6s ease;
    }


    .branch-card:hover {
      background: #2a2a2a;
      transform: translateY(-6px) scale(1.02);
      border-color: var(--primary);
    }

    /* Nach Klick auf Kugel: Helles Theme */
    .branch-selection.visible {
      background: #ffffff;
      color: #111;
    }

    .branch-selection.visible h2 {
      color: #111;
    }

    .branch-selection.visible .branch-card {
      background: #ffffff;
      color: #111;
      border-color: #ddd;
    }

    .branch-selection.visible .branch-card:hover {
      background: #ffffff;
      box-shadow: 0 14px 34px rgba(0, 0, 0, 0.06);
      border-color: rgba(255, 102, 0, 0.2);
    }

    .branch-inner {
      max-width: 1100px;
      margin: 0 auto;
      text-align: center;
    }

    .branch-inner h2 {
      font-size: 2.8rem;
      margin-bottom: 3rem;
      font-weight: 900;
    }



    .branch-selection.visible .branch-card {
      background: #f4f4f4;
      border: 1px solid #ddd;
      color: #111;
    }

    .branch-selection.visible .branch-card:hover {
      background: #fff;
      box-shadow: 0 14px 34px rgba(0, 0, 0, 0.08);
    }

    .branch-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 2.5rem;
      align-items: stretch;
    }

    /* Klasse, die einer Karte erlaubt, sich über zwei Spalten zu erstrecken */
    .branch-card.span2 {
      grid-column: span 2;
    }


    .branch-card video {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: 1;
      filter: brightness(1.07);
      transition: filter 0.4s ease;
    }

    .branch-card:hover video {
      filter: brightness(1.1);
    }

    .branch-overlay {
      position: absolute;
      inset: 0;
      z-index: 2;
      display: flex;
      align-items: flex-end;
      justify-content: center;
      padding: 2rem;
      text-align: center;
    }


    .branch-card:hover .branch-overlay h3 {
      transform: translateY(-6px);
    }


    .branch-selection.visible .branch-overlay h3 {
      color: #111;
      text-shadow: none;
    }

    .branch-card:hover {
      transform: scale(1.03);
      box-shadow: 0 14px 40px rgba(0, 0, 0, 0.15);
    }

    .branch-card.selected {
      outline: 4px solid var(--primary);
      outline-offset: -8px;
      box-shadow: 0 0 40px rgba(255, 102, 0, 0.3);
      transform: scale(1.04);
      z-index: 5;
    }

    .branch-card.selected .branch-overlay h3 {
      animation: glowText 1.5s ease-in-out infinite alternate;
    }


    @keyframes glowText {
      from {
        text-shadow: 0 0 6px rgba(255, 102, 0, 0.3);
      }

      to {
        text-shadow: 0 0 16px rgba(255, 102, 0, 0.6);
      }
    }

    /* Container behält sein natürliches Grid-/Aspect‐Ratio‐Layout */
    .branch-card.dynamic-video {
      position: relative;
      overflow: hidden;
      /* Optional: feste Ratio, wenn du Höhe vorgeben willst:
  aspect-ratio: 16/9; */
    }

    /* Video füllt genau den Container aus und wird zentriert beschnitten */
    .branch-card.dynamic-video video {
      position: absolute;
      inset: 0;
      /* top:0; right:0; bottom:0; left:0; */
      width: 100%;
      height: 100%;
      object-fit: cover;
      /* füllt, schneidet sauber an den Rändern */
      object-position: center;
      /* Motiv bleibt mittig */
    }



    @media (min-width: 1024px) {
      .branch-grid {
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      }

      .branch-grid .branch-card:last-child:nth-child(odd) {
        grid-column: span 2;
      }

    }

    @media (min-width: 984px) {
      .branch-grid .branch-card:last-child:nth-child(odd) {
        grid-column: auto !important;
        max-width: 100% !important;
        text-align: left !important;
      }
    }




    @media (max-width: 768px) {

      .branch-grid {
        grid-template-columns: repeat(3, 1fr);
        /* exakt 3 Spalten auf großen Screens */
      }

      .branch-grid .branch-card:last-child:nth-child(odd) {
        grid-column: span 2;
        max-width: 100%;
        text-align: center;
      }

      .branch-grid .branch-card:last-child:nth-child(odd) {
        grid-column: span 2;
        max-width: 100%;
        text-align: center;
      }

      .project-white-steps .epic-step:last-child:nth-child(3) {
        flex: unset !important;
        max-width: 100% !important;
        text-align: left !important;
      }

      .branch-grid .branch-card:last-child:nth-child(odd) {
        grid-column: auto !important;
        max-width: 100% !important;
        text-align: left !important;
      }
    }




    /* === Medien-Spezifisch: 320px Mobile Fix === */
    @media (max-width: 480px) {


      /* Branchen: Untereinander + ohne Stretch */
      .branch-grid {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
      }

      .branch-card img {
        max-height: 100%;
        width: 100%;
        height: auto;
      }


      .branch-card img,
      .branch-card video {
        position: relative;
        width: 100%;
        height: auto;
        object-fit: contain;
        /* oder 'cover' wenn du willst, dass es gefüllt wird */
        display: block;
      }

      .branch-overlay h3 {
        font-size: 1.3rem;
      }

    }


    .branch-grid .branch-card:last-child:nth-child(odd) {
      grid-column: span 2;
      max-width: 100%;
      text-align: center;
    }
  </style>
-->








